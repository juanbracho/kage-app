<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Kage - Onboarding Flow</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        
        /* Onboarding Container */
        .onboarding-container {
            flex: 1;
            position: relative;
            overflow: hidden;
        }
        
        /* Step Indicator */
        .step-indicator {
            position: absolute;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }
        
        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .step-dot.active {
            background: white;
            width: 24px;
        }
        
        /* Onboarding Step */
        .onboarding-step {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .onboarding-step.active {
            opacity: 1;
            transform: translateX(0);
        }
        
        .onboarding-step.prev {
            transform: translateX(-100%);
        }
        
        /* Welcome Step */
        .welcome-step {
            background: linear-gradient(135deg, #FF7101 0%, #FFB347 100%);
            color: white;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
            position: relative;
        }
        
        .welcome-step::before {
            content: '';
            position: absolute;
            top: -20%;
            right: -20%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
        
        .welcome-step::after {
            content: '';
            position: absolute;
            bottom: -10%;
            left: -10%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }
        
        .welcome-content {
            position: relative;
            z-index: 1;
            max-width: 400px;
        }
        
        .app-logo {
            font-size: 80px;
            margin-bottom: 24px;
            display: block;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .welcome-title {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 16px;
            line-height: 1.2;
        }
        
        .welcome-subtitle {
            font-size: 18px;
            opacity: 0.9;
            margin-bottom: 40px;
            line-height: 1.4;
        }
        
        .feature-highlights {
            display: flex;
            justify-content: center;
            gap: 32px;
            margin-bottom: 48px;
        }
        
        .feature-highlight {
            text-align: center;
        }
        
        .feature-icon {
            font-size: 32px;
            margin-bottom: 8px;
            display: block;
        }
        
        .feature-text {
            font-size: 14px;
            font-weight: 600;
            opacity: 0.9;
        }
        
        /* Category Step */
        .category-step {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
        }
        
        .category-header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }
        
        .category-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 12px;
        }
        
        .category-subtitle {
            font-size: 16px;
            opacity: 0.9;
            max-width: 320px;
            margin: 0 auto;
            line-height: 1.4;
        }
        
        .categories-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 32px;
        }
        
        .category-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 24px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .category-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20px;
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .category-card:hover,
        .category-card.selected {
            transform: translateY(-3px);
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        }
        
        .category-card:hover::before,
        .category-card.selected::before {
            transform: scale(1.5);
            opacity: 0.8;
        }
        
        .category-card-icon {
            font-size: 40px;
            margin-bottom: 12px;
            display: block;
        }
        
        .category-card-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .category-card-desc {
            font-size: 12px;
            opacity: 0.7;
        }
        
        /* Template Step */
        .template-step {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            color: white;
            padding: 40px 20px;
        }
        
        .templates-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .template-grid {
            display: grid;
            gap: 16px;
            margin-bottom: 32px;
        }
        
        .template-card {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .template-card:hover,
        .template-card.selected {
            transform: translateY(-2px);
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
        }
        
        .template-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 12px;
        }
        
        .template-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }
        
        .template-info {
            flex: 1;
        }
        
        .template-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .template-duration {
            font-size: 12px;
            opacity: 0.7;
        }
        
        .template-description {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.4;
            margin-bottom: 12px;
        }
        
        .template-stats {
            display: flex;
            gap: 16px;
        }
        
        .template-stat {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            opacity: 0.8;
        }
        
        /* AI Introduction Step */
        .ai-step {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .ai-content {
            max-width: 400px;
            margin: 0 auto;
        }
        
        .ai-icon {
            width: 120px;
            height: 120px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            margin: 0 auto 32px;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .ai-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 16px;
        }
        
        .ai-description {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 32px;
            line-height: 1.5;
        }
        
        .ai-features {
            display: grid;
            gap: 16px;
            margin-bottom: 40px;
            text-align: left;
        }
        
        .ai-feature {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
        }
        
        .ai-feature-icon {
            font-size: 20px;
            flex-shrink: 0;
        }
        
        .ai-feature-text {
            font-size: 14px;
            font-weight: 500;
        }
        
        .upgrade-offer {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 32px;
        }
        
        .offer-text {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 12px;
        }
        
        .offer-cta {
            font-size: 16px;
            font-weight: 600;
            color: #FFD700;
        }
        
        /* Ready Step */
        .ready-step {
            background: linear-gradient(135deg, #FF7101 0%, #FFB347 100%);
            color: white;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 40px;
        }
        
        .ready-content {
            max-width: 400px;
        }
        
        .ready-icon {
            font-size: 80px;
            margin-bottom: 32px;
            display: block;
            animation: bounce 2s ease-in-out infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .ready-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 16px;
        }
        
        .ready-subtitle {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 32px;
            line-height: 1.4;
        }
        
        .ready-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .ready-stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .stat-label {
            font-size: 12px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        /* Navigation Buttons */
        .nav-buttons {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 16px;
            z-index: 10;
        }
        
        .nav-btn {
            padding: 16px 32px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .btn-primary {
            background: white;
            color: #2d3748;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* Skip Button */
        .skip-btn {
            position: absolute;
            top: 60px;
            right: 20px;
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.2s;
            z-index: 10;
        }
        
        .skip-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }
        
        /* Mobile Responsive */
        @media (max-width: 480px) {
            .onboarding-step {
                padding: 20px;
            }
            
            .welcome-title,
            .category-title,
            .ai-title,
            .ready-title {
                font-size: 24px;
            }
            
            .welcome-subtitle,
            .category-subtitle {
                font-size: 16px;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
            }
            
            .feature-highlights {
                flex-direction: column;
                gap: 20px;
            }
            
            .ready-stats {
                grid-template-columns: 1fr;
                gap: 16px;
            }
            
            .nav-buttons {
                flex-direction: column;
                width: calc(100% - 40px);
            }
            
            .nav-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="onboarding-container">
        <!-- Step Indicator -->
        <div class="step-indicator">
            <div class="step-dot active"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
        </div>
        
        <!-- Skip Button -->
        <button class="skip-btn" onclick="skipOnboarding()">Skip</button>
        
        <!-- Step 1: Welcome -->
        <div class="onboarding-step welcome-step active">
            <div class="welcome-content">
                <span class="app-logo">🏮</span>
                <h1 class="welcome-title">Welcome to Kage</h1>
                <p class="welcome-subtitle">
                    Turn your goals into reality with the productivity app that connects everything you do to what matters most.
                </p>
                
                <div class="feature-highlights">
                    <div class="feature-highlight">
                        <span class="feature-icon">🎯</span>
                        <div class="feature-text">Goal-Centric</div>
                    </div>
                    <div class="feature-highlight">
                        <span class="feature-icon">📊</span>
                        <div class="feature-text">Smart Tracking</div>
                    </div>
                    <div class="feature-highlight">
                        <span class="feature-icon">🤖</span>
                        <div class="feature-text">AI-Powered</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Step 2: Category Selection -->
        <div class="onboarding-step category-step">
            <div class="category-header">
                <h2 class="category-title">Choose Your Focus Area</h2>
                <p class="category-subtitle">
                    Which area of your life would you like to improve first? We'll help you create your first goal.
                </p>
            </div>
            
            <div class="categories-container">
                <div class="categories-grid">
                    <div class="category-card" onclick="selectCategory(this, 'health')">
                        <span class="category-card-icon">🏃</span>
                        <div class="category-card-name">Health & Fitness</div>
                        <div class="category-card-desc">Exercise, nutrition, wellness</div>
                    </div>
                    
                    <div class="category-card" onclick="selectCategory(this, 'career')">
                        <span class="category-card-icon">🚀</span>
                        <div class="category-card-name">Career & Business</div>
                        <div class="category-card-desc">Skills, projects, growth</div>
                    </div>
                    
                    <div class="category-card" onclick="selectCategory(this, 'learning')">
                        <span class="category-card-icon">📚</span>
                        <div class="category-card-name">Learning & Skills</div>
                        <div class="category-card-desc">Education, languages, hobbies</div>
                    </div>
                    
                    <div class="category-card" onclick="selectCategory(this, 'personal')">
                        <span class="category-card-icon">🧘</span>
                        <div class="category-card-name">Personal Growth</div>
                        <div class="category-card-desc">Mindfulness, relationships</div>
                    </div>
                    
                    <div class="category-card" onclick="selectCategory(this, 'financial')">
                        <span class="category-card-icon">💰</span>
                        <div class="category-card-name">Financial</div>
                        <div class="category-card-desc">Saving, budgeting, investing</div>
                    </div>
                    
                    <div class="category-card" onclick="selectCategory(this, 'creative')">
                        <span class="category-card-icon">🎨</span>
                        <div class="category-card-name">Creative & Hobbies</div>
                        <div class="category-card-desc">Art, music, crafts</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Step 3: Template Selection -->
        <div class="onboarding-step template-step">
            <div class="category-header">
                <h2 class="category-title">Choose Your First Goal</h2>
                <p class="category-subtitle">
                    Pick a proven template to get started quickly, or create a custom goal later.
                </p>
            </div>
            
            <div class="templates-container">
                <div class="template-grid" id="template-grid">
                    <!-- Templates will be populated based on selected category -->
                </div>
            </div>
        </div>
        
        <!-- Step 4: AI Introduction -->
        <div class="onboarding-step ai-step">
            <div class="ai-content">
                <div class="ai-icon">🤖</div>
                <h2 class="ai-title">Meet Your AI Assistant</h2>
                <p class="ai-description">
                    Kage's AI helps you stay motivated, provides insights, and suggests improvements to achieve your goals faster.
                </p>
                
                <div class="ai-features">
                    <div class="ai-feature">
                        <span class="ai-feature-icon">📊</span>
                        <span class="ai-feature-text">Smart insights about your productivity patterns</span>
                    </div>
                    <div class="ai-feature">
                        <span class="ai-feature-icon">💡</span>
                        <span class="ai-feature-text">Personalized suggestions for habits and tasks</span>
                    </div>
                    <div class="ai-feature">
                        <span class="ai-feature-icon">💬</span>
                        <span class="ai-feature-text">AI chat for motivation and strategy advice</span>
                    </div>
                </div>
                
                <div class="upgrade-offer">
                    <div class="offer-text">Available with Kage Premium</div>
                    <div class="offer-cta">7-day free trial • $9.99/month</div>
                </div>
            </div>
        </div>
        
        <!-- Step 5: Ready to Start -->
        <div class="onboarding-step ready-step">
            <div class="ready-content">
                <span class="ready-icon">🎉</span>
                <h2 class="ready-title">You're All Set!</h2>
                <p class="ready-subtitle">
                    Your first goal is ready. Let's start building the habits that will make it happen.
                </p>
                
                <div class="ready-stats">
                    <div class="ready-stat">
                        <div class="stat-number">1</div>
                        <div class="stat-label">Goal Created</div>
                    </div>
                    <div class="ready-stat">
                        <div class="stat-number">3</div>
                        <div class="stat-label">Tasks Added</div>
                    </div>
                    <div class="ready-stat">
                        <div class="stat-number">2</div>
                        <div class="stat-label">Habits Suggested</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Navigation Buttons -->
        <div class="nav-buttons">
            <button class="nav-btn btn-secondary" id="prev-btn" onclick="previousStep()" style="display: none;">Back</button>
            <button class="nav-btn btn-primary" id="next-btn" onclick="nextStep()">Get Started</button>
        </div>
    </div>

    <script>
        let currentStep = 0;
        let selectedCategory = null;
        let selectedTemplate = null;
        
        const steps = document.querySelectorAll('.onboarding-step');
        const stepDots = document.querySelectorAll('.step-dot');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        
        const templates = {
            health: [
                {
                    icon: '💪',
                    name: 'Get Fit & Strong',
                    duration: '3-6 months',
                    description: 'Build a consistent workout routine and develop healthy eating habits.',
                    tasks: 8,
                    habits: 5
                },
                {
                    icon: '🏃',
                    name: 'Run a Marathon',
                    duration: '4-6 months',
                    description: 'Complete training plan to successfully finish your first marathon.',
                    tasks: 12,
                    habits: 6
                },
                {
                    icon: '🥗',
                    name: 'Healthy Eating',
                    duration: '2-3 months',
                    description: 'Develop sustainable eating habits and meal planning skills.',
                    tasks: 6,
                    habits: 7
                }
            ],
            career: [
                {
                    icon: '🚀',
                    name: 'Launch Side Project',
                    duration: '3-4 months',
                    description: 'Take your idea from concept to launch with structured milestones.',
                    tasks: 15,
                    habits: 4
                },
                {
                    icon: '📈',
                    name: 'Get Promoted',
                    duration: '6-12 months',
                    description: 'Strategic career development plan to earn your next promotion.',
                    tasks: 10,
                    habits: 5
                }
            ],
            learning: [
                {
                    icon: '🗣️',
                    name: 'Learn Spanish',
                    duration: '6-12 months',
                    description: 'Achieve conversational fluency through daily practice and immersion.',
                    tasks: 8,
                    habits: 6
                },
                {
                    icon: '💻',
                    name: 'Master Programming',
                    duration: '4-8 months',
                    description: 'Build coding skills from beginner to job-ready developer.',
                    tasks: 12,
                    habits: 4
                }
            ],
            personal: [
                {
                    icon: '🧘',
                    name: 'Mindfulness Practice',
                    duration: '2-4 months',
                    description: 'Develop a daily meditation practice for mental clarity and peace.',
                    tasks: 5,
                    habits: 4
                },
                {
                    icon: '📖',
                    name: 'Read More Books',
                    duration: '12 months',
                    description: 'Build a consistent reading habit and expand your knowledge.',
                    tasks: 6,
                    habits: 3
                }
            ],
            financial: [
                {
                    icon: '💰',
                    name: 'Build Emergency Fund',
                    duration: '6-12 months',
                    description: 'Save 3-6 months of expenses for financial security.',
                    tasks: 8,
                    habits: 5
                },
                {
                    icon: '📊',
                    name: 'Start Investing',
                    duration: '3-6 months',
                    description: 'Learn investment basics and build a diversified portfolio.',
                    tasks: 10,
                    habits: 4
                }
            ],
            creative: [
                {
                    icon: '🎨',
                    name: 'Learn Digital Art',
                    duration: '4-8 months',
                    description: 'Master digital art tools and techniques for creative expression.',
                    tasks: 9,
                    habits: 5
                },
                {
                    icon: '📸',
                    name: 'Photography Skills',
                    duration: '3-6 months',
                    description: 'Improve photography skills and build a portfolio.',
                    tasks: 7,
                    habits: 4
                }
            ]
        };
        
        function updateStepIndicator() {
            stepDots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentStep);
            });
        }
        
        function updateNavButtons() {
            prevBtn.style.display = currentStep > 0 ? 'block' : 'none';
            
            // Remove disabled state and update text based on step
            nextBtn.disabled = false;
            
            if (currentStep === 0) {
                nextBtn.textContent = 'Get Started';
            } else if (currentStep === 1) {
                nextBtn.textContent = selectedCategory ? 'Continue' : 'Choose Category';
                if (!selectedCategory) {
                    nextBtn.style.opacity = '0.7';
                } else {
                    nextBtn.style.opacity = '1';
                }
            } else if (currentStep === 2) {
                nextBtn.textContent = selectedTemplate ? 'Create Goal' : 'Choose Template';
                if (!selectedTemplate) {
                    nextBtn.style.opacity = '0.7';
                } else {
                    nextBtn.style.opacity = '1';
                }
            } else if (currentStep === 3) {
                nextBtn.textContent = 'Continue Free';
                nextBtn.style.opacity = '1';
            } else if (currentStep === 4) {
                nextBtn.textContent = 'Start Using Kage';
                nextBtn.style.opacity = '1';
            }
        }
        
        function showStep(stepIndex) {
            steps.forEach((step, index) => {
                step.classList.remove('active', 'prev');
                if (index === stepIndex) {
                    step.classList.add('active');
                } else if (index < stepIndex) {
                    step.classList.add('prev');
                }
            });
            
            updateStepIndicator();
            updateNavButtons();
        }
        
        function nextStep() {
            // Validate current step before advancing
            if (currentStep === 1 && !selectedCategory) {
                alert('Please select a category first!');
                return;
            }
            
            if (currentStep === 2 && !selectedTemplate) {
                alert('Please choose a goal template!');
                return;
            }
            
            if (currentStep < steps.length - 1) {
                currentStep++;
                showStep(currentStep);
            } else {
                // Finish onboarding
                finishOnboarding();
            }
        }
        
        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        }
        
        function selectCategory(element, category) {
            // Remove selection from all category cards
            document.querySelectorAll('.category-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Select the clicked category
            element.classList.add('selected');
            selectedCategory = category;
            
            // Update navigation
            updateNavButtons();
            
            // Populate templates for next step
            populateTemplates(category);
        }
        
        function populateTemplates(category) {
            const templateGrid = document.getElementById('template-grid');
            const categoryTemplates = templates[category] || [];
            
            templateGrid.innerHTML = '';
            
            categoryTemplates.forEach((template, index) => {
                const templateCard = document.createElement('div');
                templateCard.className = 'template-card';
                templateCard.onclick = () => selectTemplate(templateCard, template);
                
                templateCard.innerHTML = `
                    <div class="template-header">
                        <div class="template-icon">${template.icon}</div>
                        <div class="template-info">
                            <div class="template-name">${template.name}</div>
                            <div class="template-duration">${template.duration}</div>
                        </div>
                    </div>
                    <div class="template-description">${template.description}</div>
                    <div class="template-stats">
                        <div class="template-stat">
                            <span>✅</span>
                            <span>${template.tasks} tasks</span>
                        </div>
                        <div class="template-stat">
                            <span>🔄</span>
                            <span>${template.habits} habits</span>
                        </div>
                    </div>
                `;
                
                templateGrid.appendChild(templateCard);
            });
        }
        
        function selectTemplate(element, template) {
            // Remove selection from all template cards
            document.querySelectorAll('.template-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Select the clicked template
            element.classList.add('selected');
            selectedTemplate = template;
            
            // Update navigation
            updateNavButtons();
        }
        
        function skipOnboarding() {
            // Show confirmation or go directly to dashboard
            if (confirm('Skip onboarding and go to dashboard?')) {
                finishOnboarding();
            }
        }
        
        function finishOnboarding() {
            // Simulate finishing onboarding
            document.body.innerHTML = `
                <div style="
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    height: 100vh;
                    background: linear-gradient(135deg, #FF7101 0%, #FFB347 100%);
                    color: white;
                    text-align: center;
                    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                ">
                    <div style="font-size: 80px; margin-bottom: 24px;">🎉</div>
                    <h1 style="font-size: 32px; font-weight: 800; margin-bottom: 16px;">Welcome to Kage!</h1>
                    <p style="font-size: 18px; opacity: 0.9; margin-bottom: 32px;">
                        ${selectedTemplate ? `Your "${selectedTemplate.name}" goal has been created!` : 'You\'re ready to start achieving your goals!'}
                    </p>
                    <div style="
                        padding: 16px 32px;
                        background: white;
                        color: #2d3748;
                        border-radius: 12px;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.2s;
                    " onclick="this.style.transform='translateY(-2px)'">
                        Go to Dashboard
                    </div>
                </div>
            `;
        }
        
        // Initialize
        showStep(currentStep);
        
        // Add swipe gestures for mobile
        let startX = null;
        let startY = null;
        
        document.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
        });
        
        document.addEventListener('touchend', (e) => {
            if (!startX || !startY) return;
            
            const endX = e.changedTouches[0].clientX;
            const endY = e.changedTouches[0].clientY;
            
            const diffX = startX - endX;
            const diffY = startY - endY;
            
            // Only trigger if horizontal swipe is greater than vertical
            if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
                if (diffX > 0 && currentStep < steps.length - 1) {
                    // Swipe left - next step
                    nextStep();
                } else if (diffX < 0 && currentStep > 0) {
                    // Swipe right - previous step
                    previousStep();
                }
            }
            
            startX = null;
            startY = null;
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'Enter') {
                nextStep();
            } else if (e.key === 'ArrowLeft') {
                previousStep();
            } else if (e.key === 'Escape') {
                skipOnboarding();
            }
        });
        
        // Auto-advance welcome step after delay
        setTimeout(() => {
            if (currentStep === 0) {
                // Add some visual indication that they can proceed
                nextBtn.style.animation = 'pulse 2s ease-in-out infinite';
            }
        }, 3000);
    </script>
</body>
</html>