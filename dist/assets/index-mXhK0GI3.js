var t0=Object.defineProperty;var r0=(e,t,r)=>t in e?t0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Wr=(e,t,r)=>r0(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function Dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Td={exports:{}},Xa={},Ed={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $n=Symbol.for("react.element"),n0=Symbol.for("react.portal"),a0=Symbol.for("react.fragment"),s0=Symbol.for("react.strict_mode"),l0=Symbol.for("react.profiler"),o0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),d0=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),u0=Symbol.for("react.memo"),g0=Symbol.for("react.lazy"),ti=Symbol.iterator;function m0(e){return e===null||typeof e!="object"?null:(e=ti&&e[ti]||e["@@iterator"],typeof e=="function"?e:null)}var Md={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Id=Object.assign,Fd={};function Hr(e,t,r){this.props=e,this.context=t,this.refs=Fd,this.updater=r||Md}Hr.prototype.isReactComponent={};Hr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=Hr.prototype;function Xl(e,t,r){this.props=e,this.context=t,this.refs=Fd,this.updater=r||Md}var Zl=Xl.prototype=new Ad;Zl.constructor=Xl;Id(Zl,Hr.prototype);Zl.isPureReactComponent=!0;var ri=Array.isArray,Pd=Object.prototype.hasOwnProperty,eo={current:null},_d={key:!0,ref:!0,__self:!0,__source:!0};function Od(e,t,r){var a,s={},l=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Pd.call(t,a)&&!_d.hasOwnProperty(a)&&(s[a]=t[a]);var d=arguments.length-2;if(d===1)s.children=r;else if(1<d){for(var i=Array(d),c=0;c<d;c++)i[c]=arguments[c+2];s.children=i}if(e&&e.defaultProps)for(a in d=e.defaultProps,d)s[a]===void 0&&(s[a]=d[a]);return{$$typeof:$n,type:e,key:l,ref:o,props:s,_owner:eo.current}}function f0(e,t){return{$$typeof:$n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function to(e){return typeof e=="object"&&e!==null&&e.$$typeof===$n}function h0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ni=/\/+/g;function ys(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h0(""+e.key):t.toString(36)}function fa(e,t,r,a,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case $n:case n0:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+ys(o,0):a,ri(s)?(r="",e!=null&&(r=e.replace(ni,"$&/")+"/"),fa(s,t,r,"",function(c){return c})):s!=null&&(to(s)&&(s=f0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ni,"$&/")+"/")+e)),t.push(s)),1;if(o=0,a=a===""?".":a+":",ri(e))for(var d=0;d<e.length;d++){l=e[d];var i=a+ys(l,d);o+=fa(l,t,r,i,s)}else if(i=m0(e),typeof i=="function")for(e=i.call(e),d=0;!(l=e.next()).done;)l=l.value,i=a+ys(l,d++),o+=fa(l,t,r,i,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Vn(e,t,r){if(e==null)return e;var a=[],s=0;return fa(e,a,"","",function(l){return t.call(r,l,s++)}),a}function p0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},ha={transition:null},x0={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ha,ReactCurrentOwner:eo};function Ld(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Vn,forEach:function(e,t,r){Vn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vn(e,function(){t++}),t},toArray:function(e){return Vn(e,function(t){return t})||[]},only:function(e){if(!to(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Hr;V.Fragment=a0;V.Profiler=l0;V.PureComponent=Xl;V.StrictMode=s0;V.Suspense=c0;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x0;V.act=Ld;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Id({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=eo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(i in t)Pd.call(t,i)&&!_d.hasOwnProperty(i)&&(a[i]=t[i]===void 0&&d!==void 0?d[i]:t[i])}var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){d=Array(i);for(var c=0;c<i;c++)d[c]=arguments[c+2];a.children=d}return{$$typeof:$n,type:e.type,key:s,ref:l,props:a,_owner:o}};V.createContext=function(e){return e={$$typeof:i0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o0,_context:e},e.Consumer=e};V.createElement=Od;V.createFactory=function(e){var t=Od.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:d0,render:e}};V.isValidElement=to;V.lazy=function(e){return{$$typeof:g0,_payload:{_status:-1,_result:e},_init:p0}};V.memo=function(e,t){return{$$typeof:u0,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=ha.transition;ha.transition={};try{e()}finally{ha.transition=t}};V.unstable_act=Ld;V.useCallback=function(e,t){return De.current.useCallback(e,t)};V.useContext=function(e){return De.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return De.current.useDeferredValue(e)};V.useEffect=function(e,t){return De.current.useEffect(e,t)};V.useId=function(){return De.current.useId()};V.useImperativeHandle=function(e,t,r){return De.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return De.current.useMemo(e,t)};V.useReducer=function(e,t,r){return De.current.useReducer(e,t,r)};V.useRef=function(e){return De.current.useRef(e)};V.useState=function(e){return De.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return De.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return De.current.useTransition()};V.version="18.3.1";Ed.exports=V;var T=Ed.exports;const $d=Dd(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0=T,v0=Symbol.for("react.element"),b0=Symbol.for("react.fragment"),k0=Object.prototype.hasOwnProperty,w0=y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j0={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,r){var a,s={},l=null,o=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)k0.call(t,a)&&!j0.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:v0,type:e,key:l,ref:o,props:s,_owner:w0.current}}Xa.Fragment=b0;Xa.jsx=Rd;Xa.jsxs=Rd;Td.exports=Xa;var n=Td.exports,Xs={},zd={exports:{}},ze={},Bd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,C){var O=I.length;I.push(C);e:for(;0<O;){var M=O-1>>>1,E=I[M];if(0<s(E,C))I[M]=C,I[O]=E,O=M;else break e}}function r(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var C=I[0],O=I.pop();if(O!==C){I[0]=O;e:for(var M=0,E=I.length,P=E>>>1;M<P;){var D=2*(M+1)-1,q=I[D],G=D+1,He=I[G];if(0>s(q,O))G<E&&0>s(He,q)?(I[M]=He,I[G]=O,M=G):(I[M]=q,I[D]=O,M=D);else if(G<E&&0>s(He,O))I[M]=He,I[G]=O,M=G;else break e}}return C}function s(I,C){var O=I.sortIndex-C.sortIndex;return O!==0?O:I.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,d=o.now();e.unstable_now=function(){return o.now()-d}}var i=[],c=[],f=1,x=null,g=3,m=!1,h=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(I){for(var C=r(c);C!==null;){if(C.callback===null)a(c);else if(C.startTime<=I)a(c),C.sortIndex=C.expirationTime,t(i,C);else break;C=r(c)}}function v(I){if(k=!1,p(I),!h)if(r(i)!==null)h=!0,J(N);else{var C=r(c);C!==null&&re(v,C.startTime-I)}}function N(I,C){h=!1,k&&(k=!1,y(j),j=-1),m=!0;var O=g;try{for(p(C),x=r(i);x!==null&&(!(x.expirationTime>C)||I&&!F());){var M=x.callback;if(typeof M=="function"){x.callback=null,g=x.priorityLevel;var E=M(x.expirationTime<=C);C=e.unstable_now(),typeof E=="function"?x.callback=E:x===r(i)&&a(i),p(C)}else a(i);x=r(i)}if(x!==null)var P=!0;else{var D=r(c);D!==null&&re(v,D.startTime-C),P=!1}return P}finally{x=null,g=O,m=!1}}var S=!1,b=null,j=-1,L=5,$=-1;function F(){return!(e.unstable_now()-$<L)}function U(){if(b!==null){var I=e.unstable_now();$=I;var C=!0;try{C=b(!0,I)}finally{C?z():(S=!1,b=null)}}else S=!1}var z;if(typeof u=="function")z=function(){u(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=U,z=function(){H.postMessage(null)}}else z=function(){w(U,0)};function J(I){b=I,S||(S=!0,z())}function re(I,C){j=w(function(){I(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,J(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(i)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var C=3;break;default:C=g}var O=g;g=C;try{return I()}finally{g=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,C){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var O=g;g=I;try{return C()}finally{g=O}},e.unstable_scheduleCallback=function(I,C,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,I){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=O+E,I={id:f++,callback:C,priorityLevel:I,startTime:O,expirationTime:E,sortIndex:-1},O>M?(I.sortIndex=O,t(c,I),r(i)===null&&I===r(c)&&(k?(y(j),j=-1):k=!0,re(v,O-M))):(I.sortIndex=E,t(i,I),h||m||(h=!0,J(N))),I},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(I){var C=g;return function(){var O=g;g=C;try{return I.apply(this,arguments)}finally{g=O}}}})(Hd);Bd.exports=Hd;var N0=Bd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0=T,Re=N0;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ud=new Set,pn={};function lr(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(pn[e]=t,e=0;e<t.length;e++)Ud.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=Object.prototype.hasOwnProperty,C0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ai={},si={};function D0(e){return Zs.call(si,e)?!0:Zs.call(ai,e)?!1:C0.test(e)?si[e]=!0:(ai[e]=!0,!1)}function T0(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E0(e,t,r,a){if(t===null||typeof t>"u"||T0(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Te(e,t,r,a,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Te(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Te(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Te(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Te(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Te(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Te(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Te(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Te(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Te(e,5,!1,e.toLowerCase(),null,!1,!1)});var ro=/[\-:]([a-z])/g;function no(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ro,no);ye[t]=new Te(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ro,no);ye[t]=new Te(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ro,no);ye[t]=new Te(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Te(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Te(e,1,!1,e.toLowerCase(),null,!0,!0)});function ao(e,t,r,a){var s=ye.hasOwnProperty(t)?ye[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E0(t,r,s,a)&&(r=null),a||s===null?D0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var wt=S0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qn=Symbol.for("react.element"),hr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),el=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),Wd=Symbol.for("react.context"),lo=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),rl=Symbol.for("react.suspense_list"),oo=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),qd=Symbol.for("react.offscreen"),li=Symbol.iterator;function qr(e){return e===null||typeof e!="object"?null:(e=li&&e[li]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,vs;function rn(e){if(vs===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);vs=t&&t[1]||""}return`
`+vs+e}var bs=!1;function ks(e,t){if(!e||bs)return"";bs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),l=a.stack.split(`
`),o=s.length-1,d=l.length-1;1<=o&&0<=d&&s[o]!==l[d];)d--;for(;1<=o&&0<=d;o--,d--)if(s[o]!==l[d]){if(o!==1||d!==1)do if(o--,d--,0>d||s[o]!==l[d]){var i=`
`+s[o].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=o&&0<=d);break}}}finally{bs=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rn(e):""}function M0(e){switch(e.tag){case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return rn("Suspense");case 19:return rn("SuspenseList");case 0:case 2:case 15:return e=ks(e.type,!1),e;case 11:return e=ks(e.type.render,!1),e;case 1:return e=ks(e.type,!0),e;default:return""}}function nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pr:return"Fragment";case hr:return"Portal";case el:return"Profiler";case so:return"StrictMode";case tl:return"Suspense";case rl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wd:return(e.displayName||"Context")+".Consumer";case Gd:return(e._context.displayName||"Context")+".Provider";case lo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oo:return t=e.displayName||null,t!==null?t:nl(e.type)||"Memo";case Nt:t=e._payload,e=e._init;try{return nl(e(t))}catch{}}return null}function I0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nl(t);case 8:return t===so?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $t(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F0(e){var t=Vd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yn(e){e._valueTracker||(e._valueTracker=F0(e))}function Qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=Vd(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Da(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function al(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function oi(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=$t(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yd(e,t){t=t.checked,t!=null&&ao(e,"checked",t,!1)}function sl(e,t){Yd(e,t);var r=$t(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ll(e,t.type,r):t.hasOwnProperty("defaultValue")&&ll(e,t.type,$t(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ii(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ll(e,t,r){(t!=="number"||Da(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nn=Array.isArray;function Dr(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+$t(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ol(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function di(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(nn(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$t(r)}}function Kd(e,t){var r=$t(t.value),a=$t(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function ci(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kn,Xd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kn=Kn||document.createElement("div"),Kn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A0=["Webkit","ms","Moz","O"];Object.keys(ln).forEach(function(e){A0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ln[t]=ln[e]})});function Zd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ln.hasOwnProperty(e)&&ln[e]?(""+t).trim():t+"px"}function ec(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=Zd(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var P0=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dl(e,t){if(t){if(P0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function cl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ul=null;function io(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gl=null,Tr=null,Er=null;function ui(e){if(e=Bn(e)){if(typeof gl!="function")throw Error(A(280));var t=e.stateNode;t&&(t=ns(t),gl(e.stateNode,e.type,t))}}function tc(e){Tr?Er?Er.push(e):Er=[e]:Tr=e}function rc(){if(Tr){var e=Tr,t=Er;if(Er=Tr=null,ui(e),t)for(e=0;e<t.length;e++)ui(t[e])}}function nc(e,t){return e(t)}function ac(){}var ws=!1;function sc(e,t,r){if(ws)return e(t,r);ws=!0;try{return nc(e,t,r)}finally{ws=!1,(Tr!==null||Er!==null)&&(ac(),rc())}}function yn(e,t){var r=e.stateNode;if(r===null)return null;var a=ns(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var ml=!1;if(yt)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){ml=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{ml=!1}function _0(e,t,r,a,s,l,o,d,i){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(f){this.onError(f)}}var on=!1,Ta=null,Ea=!1,fl=null,O0={onError:function(e){on=!0,Ta=e}};function L0(e,t,r,a,s,l,o,d,i){on=!1,Ta=null,_0.apply(O0,arguments)}function $0(e,t,r,a,s,l,o,d,i){if(L0.apply(this,arguments),on){if(on){var c=Ta;on=!1,Ta=null}else throw Error(A(198));Ea||(Ea=!0,fl=c)}}function or(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function lc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gi(e){if(or(e)!==e)throw Error(A(188))}function R0(e){var t=e.alternate;if(!t){if(t=or(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var l=s.alternate;if(l===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return gi(s),e;if(l===a)return gi(s),t;l=l.sibling}throw Error(A(188))}if(r.return!==a.return)r=s,a=l;else{for(var o=!1,d=s.child;d;){if(d===r){o=!0,r=s,a=l;break}if(d===a){o=!0,a=s,r=l;break}d=d.sibling}if(!o){for(d=l.child;d;){if(d===r){o=!0,r=l,a=s;break}if(d===a){o=!0,a=l,r=s;break}d=d.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==a)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function oc(e){return e=R0(e),e!==null?ic(e):null}function ic(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ic(e);if(t!==null)return t;e=e.sibling}return null}var dc=Re.unstable_scheduleCallback,mi=Re.unstable_cancelCallback,z0=Re.unstable_shouldYield,B0=Re.unstable_requestPaint,de=Re.unstable_now,H0=Re.unstable_getCurrentPriorityLevel,co=Re.unstable_ImmediatePriority,cc=Re.unstable_UserBlockingPriority,Ma=Re.unstable_NormalPriority,U0=Re.unstable_LowPriority,uc=Re.unstable_IdlePriority,Za=null,dt=null;function G0(e){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Za,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:V0,W0=Math.log,q0=Math.LN2;function V0(e){return e>>>=0,e===0?32:31-(W0(e)/q0|0)|0}var Jn=64,Xn=4194304;function an(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ia(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,l=e.pingedLanes,o=r&268435455;if(o!==0){var d=o&~s;d!==0?a=an(d):(l&=o,l!==0&&(a=an(l)))}else o=r&~s,o!==0?a=an(o):l!==0&&(a=an(l));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-rt(t),s=1<<r,a|=e[r],t&=~s;return a}function Q0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y0(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-rt(l),d=1<<o,i=s[o];i===-1?(!(d&r)||d&a)&&(s[o]=Q0(d,t)):i<=t&&(e.expiredLanes|=d),l&=~d}}function hl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gc(){var e=Jn;return Jn<<=1,!(Jn&4194240)&&(Jn=64),e}function js(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=r}function K0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-rt(r),l=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~l}}function uo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-rt(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var K=0;function mc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fc,go,hc,pc,xc,pl=!1,Zn=[],Mt=null,It=null,Ft=null,vn=new Map,bn=new Map,Ct=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fi(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":vn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(t.pointerId)}}function Qr(e,t,r,a,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Bn(t),t!==null&&go(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function X0(e,t,r,a,s){switch(t){case"focusin":return Mt=Qr(Mt,e,t,r,a,s),!0;case"dragenter":return It=Qr(It,e,t,r,a,s),!0;case"mouseover":return Ft=Qr(Ft,e,t,r,a,s),!0;case"pointerover":var l=s.pointerId;return vn.set(l,Qr(vn.get(l)||null,e,t,r,a,s)),!0;case"gotpointercapture":return l=s.pointerId,bn.set(l,Qr(bn.get(l)||null,e,t,r,a,s)),!0}return!1}function yc(e){var t=Yt(e.target);if(t!==null){var r=or(t);if(r!==null){if(t=r.tag,t===13){if(t=lc(r),t!==null){e.blockedOn=t,xc(e.priority,function(){hc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);ul=a,r.target.dispatchEvent(a),ul=null}else return t=Bn(r),t!==null&&go(t),e.blockedOn=r,!1;t.shift()}return!0}function hi(e,t,r){pa(e)&&r.delete(t)}function Z0(){pl=!1,Mt!==null&&pa(Mt)&&(Mt=null),It!==null&&pa(It)&&(It=null),Ft!==null&&pa(Ft)&&(Ft=null),vn.forEach(hi),bn.forEach(hi)}function Yr(e,t){e.blockedOn===t&&(e.blockedOn=null,pl||(pl=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,Z0)))}function kn(e){function t(s){return Yr(s,e)}if(0<Zn.length){Yr(Zn[0],e);for(var r=1;r<Zn.length;r++){var a=Zn[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Mt!==null&&Yr(Mt,e),It!==null&&Yr(It,e),Ft!==null&&Yr(Ft,e),vn.forEach(t),bn.forEach(t),r=0;r<Ct.length;r++)a=Ct[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)yc(r),r.blockedOn===null&&Ct.shift()}var Mr=wt.ReactCurrentBatchConfig,Fa=!0;function eg(e,t,r,a){var s=K,l=Mr.transition;Mr.transition=null;try{K=1,mo(e,t,r,a)}finally{K=s,Mr.transition=l}}function tg(e,t,r,a){var s=K,l=Mr.transition;Mr.transition=null;try{K=4,mo(e,t,r,a)}finally{K=s,Mr.transition=l}}function mo(e,t,r,a){if(Fa){var s=xl(e,t,r,a);if(s===null)As(e,t,a,Aa,r),fi(e,a);else if(X0(s,e,t,r,a))a.stopPropagation();else if(fi(e,a),t&4&&-1<J0.indexOf(e)){for(;s!==null;){var l=Bn(s);if(l!==null&&fc(l),l=xl(e,t,r,a),l===null&&As(e,t,a,Aa,r),l===s)break;s=l}s!==null&&a.stopPropagation()}else As(e,t,a,null,r)}}var Aa=null;function xl(e,t,r,a){if(Aa=null,e=io(a),e=Yt(e),e!==null)if(t=or(e),t===null)e=null;else if(r=t.tag,r===13){if(e=lc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Aa=e,null}function vc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H0()){case co:return 1;case cc:return 4;case Ma:case U0:return 16;case uc:return 536870912;default:return 16}default:return 16}}var Tt=null,fo=null,xa=null;function bc(){if(xa)return xa;var e,t=fo,r=t.length,a,s="value"in Tt?Tt.value:Tt.textContent,l=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===s[l-a];a++);return xa=s.slice(e,1<a?1-a:void 0)}function ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ea(){return!0}function pi(){return!1}function Be(e){function t(r,a,s,l,o){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(r=e[d],this[d]=r?r(l):l[d]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ea:pi,this.isPropagationStopped=pi,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Be(Ur),zn=se({},Ur,{view:0,detail:0}),rg=Be(zn),Ns,Ss,Kr,es=se({},zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(Ns=e.screenX-Kr.screenX,Ss=e.screenY-Kr.screenY):Ss=Ns=0,Kr=e),Ns)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),xi=Be(es),ng=se({},es,{dataTransfer:0}),ag=Be(ng),sg=se({},zn,{relatedTarget:0}),Cs=Be(sg),lg=se({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),og=Be(lg),ig=se({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dg=Be(ig),cg=se({},Ur,{data:0}),yi=Be(cg),ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mg[e])?!!t[e]:!1}function po(){return fg}var hg=se({},zn,{key:function(e){if(e.key){var t=ug[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pg=Be(hg),xg=se({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vi=Be(xg),yg=se({},zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),vg=Be(yg),bg=se({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),kg=Be(bg),wg=se({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=Be(wg),Ng=[9,13,27,32],xo=yt&&"CompositionEvent"in window,dn=null;yt&&"documentMode"in document&&(dn=document.documentMode);var Sg=yt&&"TextEvent"in window&&!dn,kc=yt&&(!xo||dn&&8<dn&&11>=dn),bi=" ",ki=!1;function wc(e,t){switch(e){case"keyup":return Ng.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function Cg(e,t){switch(e){case"compositionend":return jc(t);case"keypress":return t.which!==32?null:(ki=!0,bi);case"textInput":return e=t.data,e===bi&&ki?null:e;default:return null}}function Dg(e,t){if(xr)return e==="compositionend"||!xo&&wc(e,t)?(e=bc(),xa=fo=Tt=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kc&&t.locale!=="ko"?null:t.data;default:return null}}var Tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tg[e.type]:t==="textarea"}function Nc(e,t,r,a){tc(a),t=Pa(t,"onChange"),0<t.length&&(r=new ho("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var cn=null,wn=null;function Eg(e){_c(e,0)}function ts(e){var t=br(e);if(Qd(t))return e}function Mg(e,t){if(e==="change")return t}var Sc=!1;if(yt){var Ds;if(yt){var Ts="oninput"in document;if(!Ts){var ji=document.createElement("div");ji.setAttribute("oninput","return;"),Ts=typeof ji.oninput=="function"}Ds=Ts}else Ds=!1;Sc=Ds&&(!document.documentMode||9<document.documentMode)}function Ni(){cn&&(cn.detachEvent("onpropertychange",Cc),wn=cn=null)}function Cc(e){if(e.propertyName==="value"&&ts(wn)){var t=[];Nc(t,wn,e,io(e)),sc(Eg,t)}}function Ig(e,t,r){e==="focusin"?(Ni(),cn=t,wn=r,cn.attachEvent("onpropertychange",Cc)):e==="focusout"&&Ni()}function Fg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(wn)}function Ag(e,t){if(e==="click")return ts(t)}function Pg(e,t){if(e==="input"||e==="change")return ts(t)}function _g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:_g;function jn(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!Zs.call(t,s)||!st(e[s],t[s]))return!1}return!0}function Si(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ci(e,t){var r=Si(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Si(r)}}function Dc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tc(){for(var e=window,t=Da();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Da(e.document)}return t}function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Og(e){var t=Tc(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Dc(r.ownerDocument.documentElement,r)){if(a!==null&&yo(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,l=Math.min(a.start,s);a=a.end===void 0?l:Math.min(a.end,s),!e.extend&&l>a&&(s=a,a=l,l=s),s=Ci(r,l);var o=Ci(r,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lg=yt&&"documentMode"in document&&11>=document.documentMode,yr=null,yl=null,un=null,vl=!1;function Di(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;vl||yr==null||yr!==Da(a)||(a=yr,"selectionStart"in a&&yo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),un&&jn(un,a)||(un=a,a=Pa(yl,"onSelect"),0<a.length&&(t=new ho("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=yr)))}function ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vr={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},Es={},Ec={};yt&&(Ec=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function rs(e){if(Es[e])return Es[e];if(!vr[e])return e;var t=vr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ec)return Es[e]=t[r];return e}var Mc=rs("animationend"),Ic=rs("animationiteration"),Fc=rs("animationstart"),Ac=rs("transitionend"),Pc=new Map,Ti="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(e,t){Pc.set(e,t),lr(t,[e])}for(var Ms=0;Ms<Ti.length;Ms++){var Is=Ti[Ms],$g=Is.toLowerCase(),Rg=Is[0].toUpperCase()+Is.slice(1);zt($g,"on"+Rg)}zt(Mc,"onAnimationEnd");zt(Ic,"onAnimationIteration");zt(Fc,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(Ac,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(sn));function Ei(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,$0(a,t,void 0,e),e.currentTarget=null}function _c(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var o=a.length-1;0<=o;o--){var d=a[o],i=d.instance,c=d.currentTarget;if(d=d.listener,i!==l&&s.isPropagationStopped())break e;Ei(s,d,c),l=i}else for(o=0;o<a.length;o++){if(d=a[o],i=d.instance,c=d.currentTarget,d=d.listener,i!==l&&s.isPropagationStopped())break e;Ei(s,d,c),l=i}}}if(Ea)throw e=fl,Ea=!1,fl=null,e}function Z(e,t){var r=t[Nl];r===void 0&&(r=t[Nl]=new Set);var a=e+"__bubble";r.has(a)||(Oc(t,e,2,!1),r.add(a))}function Fs(e,t,r){var a=0;t&&(a|=4),Oc(r,e,a,t)}var ra="_reactListening"+Math.random().toString(36).slice(2);function Nn(e){if(!e[ra]){e[ra]=!0,Ud.forEach(function(r){r!=="selectionchange"&&(zg.has(r)||Fs(r,!1,e),Fs(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ra]||(t[ra]=!0,Fs("selectionchange",!1,t))}}function Oc(e,t,r,a){switch(vc(t)){case 1:var s=eg;break;case 4:s=tg;break;default:s=mo}r=s.bind(null,t,r,e),s=void 0,!ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function As(e,t,r,a,s){var l=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var d=a.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===s||i.nodeType===8&&i.parentNode===s))return;o=o.return}for(;d!==null;){if(o=Yt(d),o===null)return;if(i=o.tag,i===5||i===6){a=l=o;continue e}d=d.parentNode}}a=a.return}sc(function(){var c=l,f=io(r),x=[];e:{var g=Pc.get(e);if(g!==void 0){var m=ho,h=e;switch(e){case"keypress":if(ya(r)===0)break e;case"keydown":case"keyup":m=pg;break;case"focusin":h="focus",m=Cs;break;case"focusout":h="blur",m=Cs;break;case"beforeblur":case"afterblur":m=Cs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ag;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vg;break;case Mc:case Ic:case Fc:m=og;break;case Ac:m=kg;break;case"scroll":m=rg;break;case"wheel":m=jg;break;case"copy":case"cut":case"paste":m=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=vi}var k=(t&4)!==0,w=!k&&e==="scroll",y=k?g!==null?g+"Capture":null:g;k=[];for(var u=c,p;u!==null;){p=u;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,y!==null&&(v=yn(u,y),v!=null&&k.push(Sn(u,v,p)))),w)break;u=u.return}0<k.length&&(g=new m(g,h,null,r,f),x.push({event:g,listeners:k}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&r!==ul&&(h=r.relatedTarget||r.fromElement)&&(Yt(h)||h[vt]))break e;if((m||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,m?(h=r.relatedTarget||r.toElement,m=c,h=h?Yt(h):null,h!==null&&(w=or(h),h!==w||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=c),m!==h)){if(k=xi,v="onMouseLeave",y="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(k=vi,v="onPointerLeave",y="onPointerEnter",u="pointer"),w=m==null?g:br(m),p=h==null?g:br(h),g=new k(v,u+"leave",m,r,f),g.target=w,g.relatedTarget=p,v=null,Yt(f)===c&&(k=new k(y,u+"enter",h,r,f),k.target=p,k.relatedTarget=w,v=k),w=v,m&&h)t:{for(k=m,y=h,u=0,p=k;p;p=gr(p))u++;for(p=0,v=y;v;v=gr(v))p++;for(;0<u-p;)k=gr(k),u--;for(;0<p-u;)y=gr(y),p--;for(;u--;){if(k===y||y!==null&&k===y.alternate)break t;k=gr(k),y=gr(y)}k=null}else k=null;m!==null&&Mi(x,g,m,k,!1),h!==null&&w!==null&&Mi(x,w,h,k,!0)}}e:{if(g=c?br(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var N=Mg;else if(wi(g))if(Sc)N=Pg;else{N=Fg;var S=Ig}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=Ag);if(N&&(N=N(e,c))){Nc(x,N,r,f);break e}S&&S(e,g,c),e==="focusout"&&(S=g._wrapperState)&&S.controlled&&g.type==="number"&&ll(g,"number",g.value)}switch(S=c?br(c):window,e){case"focusin":(wi(S)||S.contentEditable==="true")&&(yr=S,yl=c,un=null);break;case"focusout":un=yl=yr=null;break;case"mousedown":vl=!0;break;case"contextmenu":case"mouseup":case"dragend":vl=!1,Di(x,r,f);break;case"selectionchange":if(Lg)break;case"keydown":case"keyup":Di(x,r,f)}var b;if(xo)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else xr?wc(e,r)&&(j="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(kc&&r.locale!=="ko"&&(xr||j!=="onCompositionStart"?j==="onCompositionEnd"&&xr&&(b=bc()):(Tt=f,fo="value"in Tt?Tt.value:Tt.textContent,xr=!0)),S=Pa(c,j),0<S.length&&(j=new yi(j,e,null,r,f),x.push({event:j,listeners:S}),b?j.data=b:(b=jc(r),b!==null&&(j.data=b)))),(b=Sg?Cg(e,r):Dg(e,r))&&(c=Pa(c,"onBeforeInput"),0<c.length&&(f=new yi("onBeforeInput","beforeinput",null,r,f),x.push({event:f,listeners:c}),f.data=b))}_c(x,t)})}function Sn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Pa(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=yn(e,r),l!=null&&a.unshift(Sn(e,l,s)),l=yn(e,t),l!=null&&a.push(Sn(e,l,s))),e=e.return}return a}function gr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mi(e,t,r,a,s){for(var l=t._reactName,o=[];r!==null&&r!==a;){var d=r,i=d.alternate,c=d.stateNode;if(i!==null&&i===a)break;d.tag===5&&c!==null&&(d=c,s?(i=yn(r,l),i!=null&&o.unshift(Sn(r,i,d))):s||(i=yn(r,l),i!=null&&o.push(Sn(r,i,d)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Bg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function Ii(e){return(typeof e=="string"?e:""+e).replace(Bg,`
`).replace(Hg,"")}function na(e,t,r){if(t=Ii(t),Ii(e)!==t&&r)throw Error(A(425))}function _a(){}var bl=null,kl=null;function wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jl=typeof setTimeout=="function"?setTimeout:void 0,Ug=typeof clearTimeout=="function"?clearTimeout:void 0,Fi=typeof Promise=="function"?Promise:void 0,Gg=typeof queueMicrotask=="function"?queueMicrotask:typeof Fi<"u"?function(e){return Fi.resolve(null).then(e).catch(Wg)}:jl;function Wg(e){setTimeout(function(){throw e})}function Ps(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),kn(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);kn(t)}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ai(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),it="__reactFiber$"+Gr,Cn="__reactProps$"+Gr,vt="__reactContainer$"+Gr,Nl="__reactEvents$"+Gr,qg="__reactListeners$"+Gr,Vg="__reactHandles$"+Gr;function Yt(e){var t=e[it];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vt]||r[it]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ai(e);e!==null;){if(r=e[it])return r;e=Ai(e)}return t}e=r,r=e.parentNode}return null}function Bn(e){return e=e[it]||e[vt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function ns(e){return e[Cn]||null}var Sl=[],kr=-1;function Bt(e){return{current:e}}function ee(e){0>kr||(e.current=Sl[kr],Sl[kr]=null,kr--)}function X(e,t){kr++,Sl[kr]=e.current,e.current=t}var Rt={},Ne=Bt(Rt),Ie=Bt(!1),er=Rt;function Pr(e,t){var r=e.type.contextTypes;if(!r)return Rt;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in r)s[l]=t[l];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fe(e){return e=e.childContextTypes,e!=null}function Oa(){ee(Ie),ee(Ne)}function Pi(e,t,r){if(Ne.current!==Rt)throw Error(A(168));X(Ne,t),X(Ie,r)}function Lc(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(A(108,I0(e)||"Unknown",s));return se({},r,a)}function La(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rt,er=Ne.current,X(Ne,e),X(Ie,Ie.current),!0}function _i(e,t,r){var a=e.stateNode;if(!a)throw Error(A(169));r?(e=Lc(e,t,er),a.__reactInternalMemoizedMergedChildContext=e,ee(Ie),ee(Ne),X(Ne,e)):ee(Ie),X(Ie,r)}var ft=null,as=!1,_s=!1;function $c(e){ft===null?ft=[e]:ft.push(e)}function Qg(e){as=!0,$c(e)}function Ht(){if(!_s&&ft!==null){_s=!0;var e=0,t=K;try{var r=ft;for(K=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}ft=null,as=!1}catch(s){throw ft!==null&&(ft=ft.slice(e+1)),dc(co,Ht),s}finally{K=t,_s=!1}}return null}var wr=[],jr=0,$a=null,Ra=0,Ue=[],Ge=0,tr=null,ht=1,pt="";function Vt(e,t){wr[jr++]=Ra,wr[jr++]=$a,$a=e,Ra=t}function Rc(e,t,r){Ue[Ge++]=ht,Ue[Ge++]=pt,Ue[Ge++]=tr,tr=e;var a=ht;e=pt;var s=32-rt(a)-1;a&=~(1<<s),r+=1;var l=32-rt(t)+s;if(30<l){var o=s-s%5;l=(a&(1<<o)-1).toString(32),a>>=o,s-=o,ht=1<<32-rt(t)+s|r<<s|a,pt=l+e}else ht=1<<l|r<<s|a,pt=e}function vo(e){e.return!==null&&(Vt(e,1),Rc(e,1,0))}function bo(e){for(;e===$a;)$a=wr[--jr],wr[jr]=null,Ra=wr[--jr],wr[jr]=null;for(;e===tr;)tr=Ue[--Ge],Ue[Ge]=null,pt=Ue[--Ge],Ue[Ge]=null,ht=Ue[--Ge],Ue[Ge]=null}var $e=null,Le=null,te=!1,tt=null;function zc(e,t){var r=We(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Oi(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Le=At(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Le=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=tr!==null?{id:ht,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=We(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$e=e,Le=null,!0):!1;default:return!1}}function Cl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(te){var t=Le;if(t){var r=t;if(!Oi(e,t)){if(Cl(e))throw Error(A(418));t=At(r.nextSibling);var a=$e;t&&Oi(e,t)?zc(a,r):(e.flags=e.flags&-4097|2,te=!1,$e=e)}}else{if(Cl(e))throw Error(A(418));e.flags=e.flags&-4097|2,te=!1,$e=e}}}function Li(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function aa(e){if(e!==$e)return!1;if(!te)return Li(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wl(e.type,e.memoizedProps)),t&&(t=Le)){if(Cl(e))throw Bc(),Error(A(418));for(;t;)zc(e,t),t=At(t.nextSibling)}if(Li(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Le=At(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Le=null}}else Le=$e?At(e.stateNode.nextSibling):null;return!0}function Bc(){for(var e=Le;e;)e=At(e.nextSibling)}function _r(){Le=$e=null,te=!1}function ko(e){tt===null?tt=[e]:tt.push(e)}var Yg=wt.ReactCurrentBatchConfig;function Jr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var a=r.stateNode}if(!a)throw Error(A(147,e));var s=a,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var d=s.refs;o===null?delete d[l]:d[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function sa(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $i(e){var t=e._init;return t(e._payload)}function Hc(e){function t(y,u){if(e){var p=y.deletions;p===null?(y.deletions=[u],y.flags|=16):p.push(u)}}function r(y,u){if(!e)return null;for(;u!==null;)t(y,u),u=u.sibling;return null}function a(y,u){for(y=new Map;u!==null;)u.key!==null?y.set(u.key,u):y.set(u.index,u),u=u.sibling;return y}function s(y,u){return y=Lt(y,u),y.index=0,y.sibling=null,y}function l(y,u,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<u?(y.flags|=2,u):p):(y.flags|=2,u)):(y.flags|=1048576,u)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function d(y,u,p,v){return u===null||u.tag!==6?(u=Hs(p,y.mode,v),u.return=y,u):(u=s(u,p),u.return=y,u)}function i(y,u,p,v){var N=p.type;return N===pr?f(y,u,p.props.children,v,p.key):u!==null&&(u.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Nt&&$i(N)===u.type)?(v=s(u,p.props),v.ref=Jr(y,u,p),v.return=y,v):(v=Sa(p.type,p.key,p.props,null,y.mode,v),v.ref=Jr(y,u,p),v.return=y,v)}function c(y,u,p,v){return u===null||u.tag!==4||u.stateNode.containerInfo!==p.containerInfo||u.stateNode.implementation!==p.implementation?(u=Us(p,y.mode,v),u.return=y,u):(u=s(u,p.children||[]),u.return=y,u)}function f(y,u,p,v,N){return u===null||u.tag!==7?(u=Zt(p,y.mode,v,N),u.return=y,u):(u=s(u,p),u.return=y,u)}function x(y,u,p){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Hs(""+u,y.mode,p),u.return=y,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Qn:return p=Sa(u.type,u.key,u.props,null,y.mode,p),p.ref=Jr(y,null,u),p.return=y,p;case hr:return u=Us(u,y.mode,p),u.return=y,u;case Nt:var v=u._init;return x(y,v(u._payload),p)}if(nn(u)||qr(u))return u=Zt(u,y.mode,p,null),u.return=y,u;sa(y,u)}return null}function g(y,u,p,v){var N=u!==null?u.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return N!==null?null:d(y,u,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qn:return p.key===N?i(y,u,p,v):null;case hr:return p.key===N?c(y,u,p,v):null;case Nt:return N=p._init,g(y,u,N(p._payload),v)}if(nn(p)||qr(p))return N!==null?null:f(y,u,p,v,null);sa(y,p)}return null}function m(y,u,p,v,N){if(typeof v=="string"&&v!==""||typeof v=="number")return y=y.get(p)||null,d(u,y,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qn:return y=y.get(v.key===null?p:v.key)||null,i(u,y,v,N);case hr:return y=y.get(v.key===null?p:v.key)||null,c(u,y,v,N);case Nt:var S=v._init;return m(y,u,p,S(v._payload),N)}if(nn(v)||qr(v))return y=y.get(p)||null,f(u,y,v,N,null);sa(u,v)}return null}function h(y,u,p,v){for(var N=null,S=null,b=u,j=u=0,L=null;b!==null&&j<p.length;j++){b.index>j?(L=b,b=null):L=b.sibling;var $=g(y,b,p[j],v);if($===null){b===null&&(b=L);break}e&&b&&$.alternate===null&&t(y,b),u=l($,u,j),S===null?N=$:S.sibling=$,S=$,b=L}if(j===p.length)return r(y,b),te&&Vt(y,j),N;if(b===null){for(;j<p.length;j++)b=x(y,p[j],v),b!==null&&(u=l(b,u,j),S===null?N=b:S.sibling=b,S=b);return te&&Vt(y,j),N}for(b=a(y,b);j<p.length;j++)L=m(b,y,j,p[j],v),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?j:L.key),u=l(L,u,j),S===null?N=L:S.sibling=L,S=L);return e&&b.forEach(function(F){return t(y,F)}),te&&Vt(y,j),N}function k(y,u,p,v){var N=qr(p);if(typeof N!="function")throw Error(A(150));if(p=N.call(p),p==null)throw Error(A(151));for(var S=N=null,b=u,j=u=0,L=null,$=p.next();b!==null&&!$.done;j++,$=p.next()){b.index>j?(L=b,b=null):L=b.sibling;var F=g(y,b,$.value,v);if(F===null){b===null&&(b=L);break}e&&b&&F.alternate===null&&t(y,b),u=l(F,u,j),S===null?N=F:S.sibling=F,S=F,b=L}if($.done)return r(y,b),te&&Vt(y,j),N;if(b===null){for(;!$.done;j++,$=p.next())$=x(y,$.value,v),$!==null&&(u=l($,u,j),S===null?N=$:S.sibling=$,S=$);return te&&Vt(y,j),N}for(b=a(y,b);!$.done;j++,$=p.next())$=m(b,y,j,$.value,v),$!==null&&(e&&$.alternate!==null&&b.delete($.key===null?j:$.key),u=l($,u,j),S===null?N=$:S.sibling=$,S=$);return e&&b.forEach(function(U){return t(y,U)}),te&&Vt(y,j),N}function w(y,u,p,v){if(typeof p=="object"&&p!==null&&p.type===pr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Qn:e:{for(var N=p.key,S=u;S!==null;){if(S.key===N){if(N=p.type,N===pr){if(S.tag===7){r(y,S.sibling),u=s(S,p.props.children),u.return=y,y=u;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Nt&&$i(N)===S.type){r(y,S.sibling),u=s(S,p.props),u.ref=Jr(y,S,p),u.return=y,y=u;break e}r(y,S);break}else t(y,S);S=S.sibling}p.type===pr?(u=Zt(p.props.children,y.mode,v,p.key),u.return=y,y=u):(v=Sa(p.type,p.key,p.props,null,y.mode,v),v.ref=Jr(y,u,p),v.return=y,y=v)}return o(y);case hr:e:{for(S=p.key;u!==null;){if(u.key===S)if(u.tag===4&&u.stateNode.containerInfo===p.containerInfo&&u.stateNode.implementation===p.implementation){r(y,u.sibling),u=s(u,p.children||[]),u.return=y,y=u;break e}else{r(y,u);break}else t(y,u);u=u.sibling}u=Us(p,y.mode,v),u.return=y,y=u}return o(y);case Nt:return S=p._init,w(y,u,S(p._payload),v)}if(nn(p))return h(y,u,p,v);if(qr(p))return k(y,u,p,v);sa(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,u!==null&&u.tag===6?(r(y,u.sibling),u=s(u,p),u.return=y,y=u):(r(y,u),u=Hs(p,y.mode,v),u.return=y,y=u),o(y)):r(y,u)}return w}var Or=Hc(!0),Uc=Hc(!1),za=Bt(null),Ba=null,Nr=null,wo=null;function jo(){wo=Nr=Ba=null}function No(e){var t=za.current;ee(za),e._currentValue=t}function Tl(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Ir(e,t){Ba=e,wo=Nr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function Ye(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},Nr===null){if(Ba===null)throw Error(A(308));Nr=e,Ba.dependencies={lanes:0,firstContext:e}}else Nr=Nr.next=e;return t}var Kt=null;function So(e){Kt===null?Kt=[e]:Kt.push(e)}function Gc(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,So(t)):(r.next=s.next,s.next=r),t.interleaved=r,bt(e,a)}function bt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var St=!1;function Co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pt(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Y&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,bt(e,r)}return s=a.interleaved,s===null?(t.next=t,So(a)):(t.next=s.next,s.next=t),a.interleaved=t,bt(e,r)}function va(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,uo(e,r)}}function Ri(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?s=l=o:l=l.next=o,r=r.next}while(r!==null);l===null?s=l=t:l=l.next=t}else s=l=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ha(e,t,r,a){var s=e.updateQueue;St=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var i=d,c=i.next;i.next=null,o===null?l=c:o.next=c,o=i;var f=e.alternate;f!==null&&(f=f.updateQueue,d=f.lastBaseUpdate,d!==o&&(d===null?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=i))}if(l!==null){var x=s.baseState;o=0,f=c=i=null,d=l;do{var g=d.lane,m=d.eventTime;if((a&g)===g){f!==null&&(f=f.next={eventTime:m,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var h=e,k=d;switch(g=t,m=r,k.tag){case 1:if(h=k.payload,typeof h=="function"){x=h.call(m,x,g);break e}x=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=k.payload,g=typeof h=="function"?h.call(m,x,g):h,g==null)break e;x=se({},x,g);break e;case 2:St=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[d]:g.push(d))}else m={eventTime:m,lane:g,tag:d.tag,payload:d.payload,callback:d.callback,next:null},f===null?(c=f=m,i=x):f=f.next=m,o|=g;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;g=d,d=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(i=x),s.baseState=i,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);nr|=o,e.lanes=o,e.memoizedState=x}}function zi(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(A(191,s));s.call(a)}}}var Hn={},ct=Bt(Hn),Dn=Bt(Hn),Tn=Bt(Hn);function Jt(e){if(e===Hn)throw Error(A(174));return e}function Do(e,t){switch(X(Tn,t),X(Dn,e),X(ct,Hn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=il(t,e)}ee(ct),X(ct,t)}function Lr(){ee(ct),ee(Dn),ee(Tn)}function qc(e){Jt(Tn.current);var t=Jt(ct.current),r=il(t,e.type);t!==r&&(X(Dn,e),X(ct,r))}function To(e){Dn.current===e&&(ee(ct),ee(Dn))}var ne=Bt(0);function Ua(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Os=[];function Eo(){for(var e=0;e<Os.length;e++)Os[e]._workInProgressVersionPrimary=null;Os.length=0}var ba=wt.ReactCurrentDispatcher,Ls=wt.ReactCurrentBatchConfig,rr=0,ae=null,ue=null,me=null,Ga=!1,gn=!1,En=0,Kg=0;function ve(){throw Error(A(321))}function Mo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!st(e[r],t[r]))return!1;return!0}function Io(e,t,r,a,s,l){if(rr=l,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ba.current=e===null||e.memoizedState===null?em:tm,e=r(a,s),gn){l=0;do{if(gn=!1,En=0,25<=l)throw Error(A(301));l+=1,me=ue=null,t.updateQueue=null,ba.current=rm,e=r(a,s)}while(gn)}if(ba.current=Wa,t=ue!==null&&ue.next!==null,rr=0,me=ue=ae=null,Ga=!1,t)throw Error(A(300));return e}function Fo(){var e=En!==0;return En=0,e}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ae.memoizedState=me=e:me=me.next=e,me}function Ke(){if(ue===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=me===null?ae.memoizedState:me.next;if(t!==null)me=t,ue=e;else{if(e===null)throw Error(A(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},me===null?ae.memoizedState=me=e:me=me.next=e}return me}function Mn(e,t){return typeof t=="function"?t(e):t}function $s(e){var t=Ke(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var a=ue,s=a.baseQueue,l=r.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}a.baseQueue=s=l,r.pending=null}if(s!==null){l=s.next,a=a.baseState;var d=o=null,i=null,c=l;do{var f=c.lane;if((rr&f)===f)i!==null&&(i=i.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var x={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};i===null?(d=i=x,o=a):i=i.next=x,ae.lanes|=f,nr|=f}c=c.next}while(c!==null&&c!==l);i===null?o=a:i.next=d,st(a,t.memoizedState)||(Me=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=i,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do l=s.lane,ae.lanes|=l,nr|=l,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Rs(e){var t=Ke(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,l=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);st(l,t.memoizedState)||(Me=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,a]}function Vc(){}function Qc(e,t){var r=ae,a=Ke(),s=t(),l=!st(a.memoizedState,s);if(l&&(a.memoizedState=s,Me=!0),a=a.queue,Ao(Jc.bind(null,r,a,e),[e]),a.getSnapshot!==t||l||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,In(9,Kc.bind(null,r,a,s,t),void 0,null),fe===null)throw Error(A(349));rr&30||Yc(r,t,s)}return s}function Yc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Kc(e,t,r,a){t.value=r,t.getSnapshot=a,Xc(t)&&Zc(e)}function Jc(e,t,r){return r(function(){Xc(t)&&Zc(e)})}function Xc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!st(e,r)}catch{return!0}}function Zc(e){var t=bt(e,1);t!==null&&nt(t,e,1,-1)}function Bi(e){var t=ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t.queue=e,e=e.dispatch=Zg.bind(null,ae,e),[t.memoizedState,e]}function In(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function eu(){return Ke().memoizedState}function ka(e,t,r,a){var s=ot();ae.flags|=e,s.memoizedState=In(1|t,r,void 0,a===void 0?null:a)}function ss(e,t,r,a){var s=Ke();a=a===void 0?null:a;var l=void 0;if(ue!==null){var o=ue.memoizedState;if(l=o.destroy,a!==null&&Mo(a,o.deps)){s.memoizedState=In(t,r,l,a);return}}ae.flags|=e,s.memoizedState=In(1|t,r,l,a)}function Hi(e,t){return ka(8390656,8,e,t)}function Ao(e,t){return ss(2048,8,e,t)}function tu(e,t){return ss(4,2,e,t)}function ru(e,t){return ss(4,4,e,t)}function nu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function au(e,t,r){return r=r!=null?r.concat([e]):null,ss(4,4,nu.bind(null,t,e),r)}function Po(){}function su(e,t){var r=Ke();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Mo(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function lu(e,t){var r=Ke();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&Mo(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function ou(e,t,r){return rr&21?(st(r,t)||(r=gc(),ae.lanes|=r,nr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=r)}function Jg(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var a=Ls.transition;Ls.transition={};try{e(!1),t()}finally{K=r,Ls.transition=a}}function iu(){return Ke().memoizedState}function Xg(e,t,r){var a=Ot(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},du(e))cu(t,r);else if(r=Gc(e,t,r,a),r!==null){var s=Ce();nt(r,e,a,s),uu(r,t,a)}}function Zg(e,t,r){var a=Ot(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(du(e))cu(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,d=l(o,r);if(s.hasEagerState=!0,s.eagerState=d,st(d,o)){var i=t.interleaved;i===null?(s.next=s,So(t)):(s.next=i.next,i.next=s),t.interleaved=s;return}}catch{}finally{}r=Gc(e,t,s,a),r!==null&&(s=Ce(),nt(r,e,a,s),uu(r,t,a))}}function du(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function cu(e,t){gn=Ga=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uu(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,uo(e,r)}}var Wa={readContext:Ye,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},em={readContext:Ye,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:Hi,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ka(4194308,4,nu.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return ka(4,2,e,t)},useMemo:function(e,t){var r=ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=ot();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Xg.bind(null,ae,e),[a.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:Bi,useDebugValue:Po,useDeferredValue:function(e){return ot().memoizedState=e},useTransition:function(){var e=Bi(!1),t=e[0];return e=Jg.bind(null,e[1]),ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=ae,s=ot();if(te){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),fe===null)throw Error(A(349));rr&30||Yc(a,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,Hi(Jc.bind(null,a,l,e),[e]),a.flags|=2048,In(9,Kc.bind(null,a,l,r,t),void 0,null),r},useId:function(){var e=ot(),t=fe.identifierPrefix;if(te){var r=pt,a=ht;r=(a&~(1<<32-rt(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=En++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Kg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tm={readContext:Ye,useCallback:su,useContext:Ye,useEffect:Ao,useImperativeHandle:au,useInsertionEffect:tu,useLayoutEffect:ru,useMemo:lu,useReducer:$s,useRef:eu,useState:function(){return $s(Mn)},useDebugValue:Po,useDeferredValue:function(e){var t=Ke();return ou(t,ue.memoizedState,e)},useTransition:function(){var e=$s(Mn)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Vc,useSyncExternalStore:Qc,useId:iu,unstable_isNewReconciler:!1},rm={readContext:Ye,useCallback:su,useContext:Ye,useEffect:Ao,useImperativeHandle:au,useInsertionEffect:tu,useLayoutEffect:ru,useMemo:lu,useReducer:Rs,useRef:eu,useState:function(){return Rs(Mn)},useDebugValue:Po,useDeferredValue:function(e){var t=Ke();return ue===null?t.memoizedState=e:ou(t,ue.memoizedState,e)},useTransition:function(){var e=Rs(Mn)[0],t=Ke().memoizedState;return[e,t]},useMutableSource:Vc,useSyncExternalStore:Qc,useId:iu,unstable_isNewReconciler:!1};function Ze(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function El(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ls={isMounted:function(e){return(e=e._reactInternals)?or(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=Ce(),s=Ot(e),l=xt(a,s);l.payload=t,r!=null&&(l.callback=r),t=Pt(e,l,s),t!==null&&(nt(t,e,s,a),va(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=Ce(),s=Ot(e),l=xt(a,s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Pt(e,l,s),t!==null&&(nt(t,e,s,a),va(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ce(),a=Ot(e),s=xt(r,a);s.tag=2,t!=null&&(s.callback=t),t=Pt(e,s,a),t!==null&&(nt(t,e,a,r),va(t,e,a))}};function Ui(e,t,r,a,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,o):t.prototype&&t.prototype.isPureReactComponent?!jn(r,a)||!jn(s,l):!0}function gu(e,t,r){var a=!1,s=Rt,l=t.contextType;return typeof l=="object"&&l!==null?l=Ye(l):(s=Fe(t)?er:Ne.current,a=t.contextTypes,l=(a=a!=null)?Pr(e,s):Rt),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Gi(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function Ml(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Co(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Ye(l):(l=Fe(t)?er:Ne.current,s.context=Pr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(El(e,t,l,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ls.enqueueReplaceState(s,s.state,null),Ha(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $r(e,t){try{var r="",a=t;do r+=M0(a),a=a.return;while(a);var s=r}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function zs(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Il(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nm=typeof WeakMap=="function"?WeakMap:Map;function mu(e,t,r){r=xt(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Va||(Va=!0,Bl=a),Il(e,t)},r}function fu(e,t,r){r=xt(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){Il(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Il(e,t),typeof a!="function"&&(_t===null?_t=new Set([this]):_t.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Wi(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new nm;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=xm.bind(null,e,t,r),t.then(e,e))}function qi(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vi(e,t,r,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xt(-1,1),t.tag=2,Pt(r,t,1))),r.lanes|=1),e)}var am=wt.ReactCurrentOwner,Me=!1;function Se(e,t,r,a){t.child=e===null?Uc(t,null,r,a):Or(t,e.child,r,a)}function Qi(e,t,r,a,s){r=r.render;var l=t.ref;return Ir(t,s),a=Io(e,t,r,a,l,s),r=Fo(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(te&&r&&vo(t),t.flags|=1,Se(e,t,a,s),t.child)}function Yi(e,t,r,a,s){if(e===null){var l=r.type;return typeof l=="function"&&!Ho(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,hu(e,t,l,a,s)):(e=Sa(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(r=r.compare,r=r!==null?r:jn,r(o,a)&&e.ref===t.ref)return kt(e,t,s)}return t.flags|=1,e=Lt(l,a),e.ref=t.ref,e.return=t,t.child=e}function hu(e,t,r,a,s){if(e!==null){var l=e.memoizedProps;if(jn(l,a)&&e.ref===t.ref)if(Me=!1,t.pendingProps=a=l,(e.lanes&s)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,kt(e,t,s)}return Fl(e,t,r,a,s)}function pu(e,t,r){var a=t.pendingProps,s=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Cr,_e),_e|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Cr,_e),_e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,X(Cr,_e),_e|=a}else l!==null?(a=l.baseLanes|r,t.memoizedState=null):a=r,X(Cr,_e),_e|=a;return Se(e,t,s,r),t.child}function xu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Fl(e,t,r,a,s){var l=Fe(r)?er:Ne.current;return l=Pr(t,l),Ir(t,s),r=Io(e,t,r,a,l,s),a=Fo(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(te&&a&&vo(t),t.flags|=1,Se(e,t,r,s),t.child)}function Ki(e,t,r,a,s){if(Fe(r)){var l=!0;La(t)}else l=!1;if(Ir(t,s),t.stateNode===null)wa(e,t),gu(t,r,a),Ml(t,r,a,s),a=!0;else if(e===null){var o=t.stateNode,d=t.memoizedProps;o.props=d;var i=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Fe(r)?er:Ne.current,c=Pr(t,c));var f=r.getDerivedStateFromProps,x=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";x||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==a||i!==c)&&Gi(t,o,a,c),St=!1;var g=t.memoizedState;o.state=g,Ha(t,a,o,s),i=t.memoizedState,d!==a||g!==i||Ie.current||St?(typeof f=="function"&&(El(t,r,f,a),i=t.memoizedState),(d=St||Ui(t,r,d,a,g,i,c))?(x||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=i),o.props=a,o.state=i,o.context=c,a=d):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,Wc(e,t),d=t.memoizedProps,c=t.type===t.elementType?d:Ze(t.type,d),o.props=c,x=t.pendingProps,g=o.context,i=r.contextType,typeof i=="object"&&i!==null?i=Ye(i):(i=Fe(r)?er:Ne.current,i=Pr(t,i));var m=r.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==x||g!==i)&&Gi(t,o,a,i),St=!1,g=t.memoizedState,o.state=g,Ha(t,a,o,s);var h=t.memoizedState;d!==x||g!==h||Ie.current||St?(typeof m=="function"&&(El(t,r,m,a),h=t.memoizedState),(c=St||Ui(t,r,c,a,g,h,i)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,h,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,h,i)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),o.props=a,o.state=h,o.context=i,a=c):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),a=!1)}return Al(e,t,r,a,l,s)}function Al(e,t,r,a,s,l){xu(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return s&&_i(t,r,!1),kt(e,t,l);a=t.stateNode,am.current=t;var d=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Or(t,e.child,null,l),t.child=Or(t,null,d,l)):Se(e,t,d,l),t.memoizedState=a.state,s&&_i(t,r,!0),t.child}function yu(e){var t=e.stateNode;t.pendingContext?Pi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(e,t.context,!1),Do(e,t.containerInfo)}function Ji(e,t,r,a,s){return _r(),ko(s),t.flags|=256,Se(e,t,r,a),t.child}var Pl={dehydrated:null,treeContext:null,retryLane:0};function _l(e){return{baseLanes:e,cachePool:null,transitions:null}}function vu(e,t,r){var a=t.pendingProps,s=ne.current,l=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(s&2)!==0),d?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ne,s&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=ds(o,a,0,null),e=Zt(e,a,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=_l(r),t.memoizedState=Pl,e):_o(t,o));if(s=e.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return sm(e,t,o,a,d,s,r);if(l){l=a.fallback,o=t.mode,s=e.child,d=s.sibling;var i={mode:"hidden",children:a.children};return!(o&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=i,t.deletions=null):(a=Lt(s,i),a.subtreeFlags=s.subtreeFlags&14680064),d!==null?l=Lt(d,l):(l=Zt(l,o,r,null),l.flags|=2),l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=e.child.memoizedState,o=o===null?_l(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=Pl,a}return l=e.child,e=l.sibling,a=Lt(l,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function _o(e,t){return t=ds({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function la(e,t,r,a){return a!==null&&ko(a),Or(t,e.child,null,r),e=_o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sm(e,t,r,a,s,l,o){if(r)return t.flags&256?(t.flags&=-257,a=zs(Error(A(422))),la(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=a.fallback,s=t.mode,a=ds({mode:"visible",children:a.children},s,0,null),l=Zt(l,s,o,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,t.mode&1&&Or(t,e.child,null,o),t.child.memoizedState=_l(o),t.memoizedState=Pl,l);if(!(t.mode&1))return la(e,t,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var d=a.dgst;return a=d,l=Error(A(419)),a=zs(l,a,void 0),la(e,t,o,a)}if(d=(o&e.childLanes)!==0,Me||d){if(a=fe,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,bt(e,s),nt(a,e,s,-1))}return Bo(),a=zs(Error(A(421))),la(e,t,o,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ym.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Le=At(s.nextSibling),$e=t,te=!0,tt=null,e!==null&&(Ue[Ge++]=ht,Ue[Ge++]=pt,Ue[Ge++]=tr,ht=e.id,pt=e.overflow,tr=t),t=_o(t,a.children),t.flags|=4096,t)}function Xi(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Tl(e.return,t,r)}function Bs(e,t,r,a,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=s)}function bu(e,t,r){var a=t.pendingProps,s=a.revealOrder,l=a.tail;if(Se(e,t,a.children,r),a=ne.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xi(e,r,t);else if(e.tag===19)Xi(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(X(ne,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ua(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Bs(t,!1,s,r,l);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ua(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Bs(t,!0,r,null,l);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),nr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=Lt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Lt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lm(e,t,r){switch(t.tag){case 3:yu(t),_r();break;case 5:qc(t);break;case 1:Fe(t.type)&&La(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;X(za,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(X(ne,ne.current&1),t.flags|=128,null):r&t.child.childLanes?vu(e,t,r):(X(ne,ne.current&1),e=kt(e,t,r),e!==null?e.sibling:null);X(ne,ne.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return bu(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ne,ne.current),a)break;return null;case 22:case 23:return t.lanes=0,pu(e,t,r)}return kt(e,t,r)}var ku,Ol,wu,ju;ku=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ol=function(){};wu=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,Jt(ct.current);var l=null;switch(r){case"input":s=al(e,s),a=al(e,a),l=[];break;case"select":s=se({},s,{value:void 0}),a=se({},a,{value:void 0}),l=[];break;case"textarea":s=ol(e,s),a=ol(e,a),l=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=_a)}dl(r,a);var o;r=null;for(c in s)if(!a.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var d=s[c];for(o in d)d.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pn.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in a){var i=a[c];if(d=s!=null?s[c]:void 0,a.hasOwnProperty(c)&&i!==d&&(i!=null||d!=null))if(c==="style")if(d){for(o in d)!d.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in i)i.hasOwnProperty(o)&&d[o]!==i[o]&&(r||(r={}),r[o]=i[o])}else r||(l||(l=[]),l.push(c,r)),r=i;else c==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,d=d?d.__html:void 0,i!=null&&d!==i&&(l=l||[]).push(c,i)):c==="children"?typeof i!="string"&&typeof i!="number"||(l=l||[]).push(c,""+i):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pn.hasOwnProperty(c)?(i!=null&&c==="onScroll"&&Z("scroll",e),l||d===i||(l=[])):(l=l||[]).push(c,i))}r&&(l=l||[]).push("style",r);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};ju=function(e,t,r,a){r!==a&&(t.flags|=4)};function Xr(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function be(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function om(e,t,r){var a=t.pendingProps;switch(bo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(t),null;case 1:return Fe(t.type)&&Oa(),be(t),null;case 3:return a=t.stateNode,Lr(),ee(Ie),ee(Ne),Eo(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(Gl(tt),tt=null))),Ol(e,t),be(t),null;case 5:To(t);var s=Jt(Tn.current);if(r=t.type,e!==null&&t.stateNode!=null)wu(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(A(166));return be(t),null}if(e=Jt(ct.current),aa(t)){a=t.stateNode,r=t.type;var l=t.memoizedProps;switch(a[it]=t,a[Cn]=l,e=(t.mode&1)!==0,r){case"dialog":Z("cancel",a),Z("close",a);break;case"iframe":case"object":case"embed":Z("load",a);break;case"video":case"audio":for(s=0;s<sn.length;s++)Z(sn[s],a);break;case"source":Z("error",a);break;case"img":case"image":case"link":Z("error",a),Z("load",a);break;case"details":Z("toggle",a);break;case"input":oi(a,l),Z("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Z("invalid",a);break;case"textarea":di(a,l),Z("invalid",a)}dl(r,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="children"?typeof d=="string"?a.textContent!==d&&(l.suppressHydrationWarning!==!0&&na(a.textContent,d,e),s=["children",d]):typeof d=="number"&&a.textContent!==""+d&&(l.suppressHydrationWarning!==!0&&na(a.textContent,d,e),s=["children",""+d]):pn.hasOwnProperty(o)&&d!=null&&o==="onScroll"&&Z("scroll",a)}switch(r){case"input":Yn(a),ii(a,l,!0);break;case"textarea":Yn(a),ci(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=_a)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[it]=t,e[Cn]=a,ku(e,t,!1,!1),t.stateNode=e;e:{switch(o=cl(r,a),r){case"dialog":Z("cancel",e),Z("close",e),s=a;break;case"iframe":case"object":case"embed":Z("load",e),s=a;break;case"video":case"audio":for(s=0;s<sn.length;s++)Z(sn[s],e);s=a;break;case"source":Z("error",e),s=a;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=a;break;case"details":Z("toggle",e),s=a;break;case"input":oi(e,a),s=al(e,a),Z("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=se({},a,{value:void 0}),Z("invalid",e);break;case"textarea":di(e,a),s=ol(e,a),Z("invalid",e);break;default:s=a}dl(r,s),d=s;for(l in d)if(d.hasOwnProperty(l)){var i=d[l];l==="style"?ec(e,i):l==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&Xd(e,i)):l==="children"?typeof i=="string"?(r!=="textarea"||i!=="")&&xn(e,i):typeof i=="number"&&xn(e,""+i):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(pn.hasOwnProperty(l)?i!=null&&l==="onScroll"&&Z("scroll",e):i!=null&&ao(e,l,i,o))}switch(r){case"input":Yn(e),ii(e,a,!1);break;case"textarea":Yn(e),ci(e);break;case"option":a.value!=null&&e.setAttribute("value",""+$t(a.value));break;case"select":e.multiple=!!a.multiple,l=a.value,l!=null?Dr(e,!!a.multiple,l,!1):a.defaultValue!=null&&Dr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_a)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return be(t),null;case 6:if(e&&t.stateNode!=null)ju(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(A(166));if(r=Jt(Tn.current),Jt(ct.current),aa(t)){if(a=t.stateNode,r=t.memoizedProps,a[it]=t,(l=a.nodeValue!==r)&&(e=$e,e!==null))switch(e.tag){case 3:na(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&na(a.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[it]=t,t.stateNode=a}return be(t),null;case 13:if(ee(ne),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Le!==null&&t.mode&1&&!(t.flags&128))Bc(),_r(),t.flags|=98560,l=!1;else if(l=aa(t),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(A(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[it]=t}else _r(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;be(t),l=!1}else tt!==null&&(Gl(tt),tt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?ge===0&&(ge=3):Bo())),t.updateQueue!==null&&(t.flags|=4),be(t),null);case 4:return Lr(),Ol(e,t),e===null&&Nn(t.stateNode.containerInfo),be(t),null;case 10:return No(t.type._context),be(t),null;case 17:return Fe(t.type)&&Oa(),be(t),null;case 19:if(ee(ne),l=t.memoizedState,l===null)return be(t),null;if(a=(t.flags&128)!==0,o=l.rendering,o===null)if(a)Xr(l,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ua(e),o!==null){for(t.flags|=128,Xr(l,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)l=r,e=a,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(ne,ne.current&1|2),t.child}e=e.sibling}l.tail!==null&&de()>Rr&&(t.flags|=128,a=!0,Xr(l,!1),t.lanes=4194304)}else{if(!a)if(e=Ua(o),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!te)return be(t),null}else 2*de()-l.renderingStartTime>Rr&&r!==1073741824&&(t.flags|=128,a=!0,Xr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(r=l.last,r!==null?r.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=de(),t.sibling=null,r=ne.current,X(ne,a?r&1|2:r&1),t):(be(t),null);case 22:case 23:return zo(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?_e&1073741824&&(be(t),t.subtreeFlags&6&&(t.flags|=8192)):be(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function im(e,t){switch(bo(t),t.tag){case 1:return Fe(t.type)&&Oa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lr(),ee(Ie),ee(Ne),Eo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return To(t),null;case 13:if(ee(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));_r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ne),null;case 4:return Lr(),null;case 10:return No(t.type._context),null;case 22:case 23:return zo(),null;case 24:return null;default:return null}}var oa=!1,je=!1,dm=typeof WeakSet=="function"?WeakSet:Set,R=null;function Sr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){oe(e,t,a)}else r.current=null}function Ll(e,t,r){try{r()}catch(a){oe(e,t,a)}}var Zi=!1;function cm(e,t){if(bl=Fa,e=Tc(),yo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var o=0,d=-1,i=-1,c=0,f=0,x=e,g=null;t:for(;;){for(var m;x!==r||s!==0&&x.nodeType!==3||(d=o+s),x!==l||a!==0&&x.nodeType!==3||(i=o+a),x.nodeType===3&&(o+=x.nodeValue.length),(m=x.firstChild)!==null;)g=x,x=m;for(;;){if(x===e)break t;if(g===r&&++c===s&&(d=o),g===l&&++f===a&&(i=o),(m=x.nextSibling)!==null)break;x=g,g=x.parentNode}x=m}r=d===-1||i===-1?null:{start:d,end:i}}else r=null}r=r||{start:0,end:0}}else r=null;for(kl={focusedElem:e,selectionRange:r},Fa=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var k=h.memoizedProps,w=h.memoizedState,y=t.stateNode,u=y.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ze(t.type,k),w);y.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(v){oe(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return h=Zi,Zi=!1,h}function mn(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Ll(t,r,l)}s=s.next}while(s!==a)}}function os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function $l(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Nu(e){var t=e.alternate;t!==null&&(e.alternate=null,Nu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[Cn],delete t[Nl],delete t[qg],delete t[Vg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Su(e){return e.tag===5||e.tag===3||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rl(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=_a));else if(a!==4&&(e=e.child,e!==null))for(Rl(e,t,r),e=e.sibling;e!==null;)Rl(e,t,r),e=e.sibling}function zl(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(zl(e,t,r),e=e.sibling;e!==null;)zl(e,t,r),e=e.sibling}var pe=null,et=!1;function jt(e,t,r){for(r=r.child;r!==null;)Cu(e,t,r),r=r.sibling}function Cu(e,t,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Za,r)}catch{}switch(r.tag){case 5:je||Sr(r,t);case 6:var a=pe,s=et;pe=null,jt(e,t,r),pe=a,et=s,pe!==null&&(et?(e=pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pe.removeChild(r.stateNode));break;case 18:pe!==null&&(et?(e=pe,r=r.stateNode,e.nodeType===8?Ps(e.parentNode,r):e.nodeType===1&&Ps(e,r),kn(e)):Ps(pe,r.stateNode));break;case 4:a=pe,s=et,pe=r.stateNode.containerInfo,et=!0,jt(e,t,r),pe=a,et=s;break;case 0:case 11:case 14:case 15:if(!je&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Ll(r,t,o),s=s.next}while(s!==a)}jt(e,t,r);break;case 1:if(!je&&(Sr(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(d){oe(r,t,d)}jt(e,t,r);break;case 21:jt(e,t,r);break;case 22:r.mode&1?(je=(a=je)||r.memoizedState!==null,jt(e,t,r),je=a):jt(e,t,r);break;default:jt(e,t,r)}}function td(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dm),t.forEach(function(a){var s=vm.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function Xe(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var l=e,o=t,d=o;e:for(;d!==null;){switch(d.tag){case 5:pe=d.stateNode,et=!1;break e;case 3:pe=d.stateNode.containerInfo,et=!0;break e;case 4:pe=d.stateNode.containerInfo,et=!0;break e}d=d.return}if(pe===null)throw Error(A(160));Cu(l,o,s),pe=null,et=!1;var i=s.alternate;i!==null&&(i.return=null),s.return=null}catch(c){oe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Du(t,e),t=t.sibling}function Du(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xe(t,e),lt(e),a&4){try{mn(3,e,e.return),os(3,e)}catch(k){oe(e,e.return,k)}try{mn(5,e,e.return)}catch(k){oe(e,e.return,k)}}break;case 1:Xe(t,e),lt(e),a&512&&r!==null&&Sr(r,r.return);break;case 5:if(Xe(t,e),lt(e),a&512&&r!==null&&Sr(r,r.return),e.flags&32){var s=e.stateNode;try{xn(s,"")}catch(k){oe(e,e.return,k)}}if(a&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=r!==null?r.memoizedProps:l,d=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{d==="input"&&l.type==="radio"&&l.name!=null&&Yd(s,l),cl(d,o);var c=cl(d,l);for(o=0;o<i.length;o+=2){var f=i[o],x=i[o+1];f==="style"?ec(s,x):f==="dangerouslySetInnerHTML"?Xd(s,x):f==="children"?xn(s,x):ao(s,f,x,c)}switch(d){case"input":sl(s,l);break;case"textarea":Kd(s,l);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?Dr(s,!!l.multiple,m,!1):g!==!!l.multiple&&(l.defaultValue!=null?Dr(s,!!l.multiple,l.defaultValue,!0):Dr(s,!!l.multiple,l.multiple?[]:"",!1))}s[Cn]=l}catch(k){oe(e,e.return,k)}}break;case 6:if(Xe(t,e),lt(e),a&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(k){oe(e,e.return,k)}}break;case 3:if(Xe(t,e),lt(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{kn(t.containerInfo)}catch(k){oe(e,e.return,k)}break;case 4:Xe(t,e),lt(e);break;case 13:Xe(t,e),lt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||($o=de())),a&4&&td(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(je=(c=je)||f,Xe(t,e),je=c):Xe(t,e),lt(e),a&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(R=e,f=e.child;f!==null;){for(x=R=f;R!==null;){switch(g=R,m=g.child,g.tag){case 0:case 11:case 14:case 15:mn(4,g,g.return);break;case 1:Sr(g,g.return);var h=g.stateNode;if(typeof h.componentWillUnmount=="function"){a=g,r=g.return;try{t=a,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(k){oe(a,r,k)}}break;case 5:Sr(g,g.return);break;case 22:if(g.memoizedState!==null){nd(x);continue}}m!==null?(m.return=g,R=m):nd(x)}f=f.sibling}e:for(f=null,x=e;;){if(x.tag===5){if(f===null){f=x;try{s=x.stateNode,c?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(d=x.stateNode,i=x.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,d.style.display=Zd("display",o))}catch(k){oe(e,e.return,k)}}}else if(x.tag===6){if(f===null)try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(k){oe(e,e.return,k)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;f===x&&(f=null),x=x.return}f===x&&(f=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Xe(t,e),lt(e),a&4&&td(e);break;case 21:break;default:Xe(t,e),lt(e)}}function lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Su(r)){var a=r;break e}r=r.return}throw Error(A(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(xn(s,""),a.flags&=-33);var l=ed(e);zl(e,l,s);break;case 3:case 4:var o=a.stateNode.containerInfo,d=ed(e);Rl(e,d,o);break;default:throw Error(A(161))}}catch(i){oe(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function um(e,t,r){R=e,Tu(e)}function Tu(e,t,r){for(var a=(e.mode&1)!==0;R!==null;){var s=R,l=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||oa;if(!o){var d=s.alternate,i=d!==null&&d.memoizedState!==null||je;d=oa;var c=je;if(oa=o,(je=i)&&!c)for(R=s;R!==null;)o=R,i=o.child,o.tag===22&&o.memoizedState!==null?ad(s):i!==null?(i.return=o,R=i):ad(s);for(;l!==null;)R=l,Tu(l),l=l.sibling;R=s,oa=d,je=c}rd(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,R=l):rd(e)}}function rd(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||os(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!je)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ze(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&zi(t,l,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zi(t,o,r)}break;case 5:var d=t.stateNode;if(r===null&&t.flags&4){r=d;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break;case"img":i.src&&(r.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var x=f.dehydrated;x!==null&&kn(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}je||t.flags&512&&$l(t)}catch(g){oe(t,t.return,g)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function nd(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function ad(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{os(4,t)}catch(i){oe(t,r,i)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(i){oe(t,s,i)}}var l=t.return;try{$l(t)}catch(i){oe(t,l,i)}break;case 5:var o=t.return;try{$l(t)}catch(i){oe(t,o,i)}}}catch(i){oe(t,t.return,i)}if(t===e){R=null;break}var d=t.sibling;if(d!==null){d.return=t.return,R=d;break}R=t.return}}var gm=Math.ceil,qa=wt.ReactCurrentDispatcher,Oo=wt.ReactCurrentOwner,Qe=wt.ReactCurrentBatchConfig,Y=0,fe=null,ce=null,xe=0,_e=0,Cr=Bt(0),ge=0,Fn=null,nr=0,is=0,Lo=0,fn=null,Ee=null,$o=0,Rr=1/0,mt=null,Va=!1,Bl=null,_t=null,ia=!1,Et=null,Qa=0,hn=0,Hl=null,ja=-1,Na=0;function Ce(){return Y&6?de():ja!==-1?ja:ja=de()}function Ot(e){return e.mode&1?Y&2&&xe!==0?xe&-xe:Yg.transition!==null?(Na===0&&(Na=gc()),Na):(e=K,e!==0||(e=window.event,e=e===void 0?16:vc(e.type)),e):1}function nt(e,t,r,a){if(50<hn)throw hn=0,Hl=null,Error(A(185));Rn(e,r,a),(!(Y&2)||e!==fe)&&(e===fe&&(!(Y&2)&&(is|=r),ge===4&&Dt(e,xe)),Ae(e,a),r===1&&Y===0&&!(t.mode&1)&&(Rr=de()+500,as&&Ht()))}function Ae(e,t){var r=e.callbackNode;Y0(e,t);var a=Ia(e,e===fe?xe:0);if(a===0)r!==null&&mi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&mi(r),t===1)e.tag===0?Qg(sd.bind(null,e)):$c(sd.bind(null,e)),Gg(function(){!(Y&6)&&Ht()}),r=null;else{switch(mc(a)){case 1:r=co;break;case 4:r=cc;break;case 16:r=Ma;break;case 536870912:r=uc;break;default:r=Ma}r=Ou(r,Eu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Eu(e,t){if(ja=-1,Na=0,Y&6)throw Error(A(327));var r=e.callbackNode;if(Fr()&&e.callbackNode!==r)return null;var a=Ia(e,e===fe?xe:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Ya(e,a);else{t=a;var s=Y;Y|=2;var l=Iu();(fe!==e||xe!==t)&&(mt=null,Rr=de()+500,Xt(e,t));do try{hm();break}catch(d){Mu(e,d)}while(!0);jo(),qa.current=l,Y=s,ce!==null?t=0:(fe=null,xe=0,t=ge)}if(t!==0){if(t===2&&(s=hl(e),s!==0&&(a=s,t=Ul(e,s))),t===1)throw r=Fn,Xt(e,0),Dt(e,a),Ae(e,de()),r;if(t===6)Dt(e,a);else{if(s=e.current.alternate,!(a&30)&&!mm(s)&&(t=Ya(e,a),t===2&&(l=hl(e),l!==0&&(a=l,t=Ul(e,l))),t===1))throw r=Fn,Xt(e,0),Dt(e,a),Ae(e,de()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(A(345));case 2:Qt(e,Ee,mt);break;case 3:if(Dt(e,a),(a&130023424)===a&&(t=$o+500-de(),10<t)){if(Ia(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){Ce(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=jl(Qt.bind(null,e,Ee,mt),t);break}Qt(e,Ee,mt);break;case 4:if(Dt(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var o=31-rt(a);l=1<<o,o=t[o],o>s&&(s=o),a&=~l}if(a=s,a=de()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*gm(a/1960))-a,10<a){e.timeoutHandle=jl(Qt.bind(null,e,Ee,mt),a);break}Qt(e,Ee,mt);break;case 5:Qt(e,Ee,mt);break;default:throw Error(A(329))}}}return Ae(e,de()),e.callbackNode===r?Eu.bind(null,e):null}function Ul(e,t){var r=fn;return e.current.memoizedState.isDehydrated&&(Xt(e,t).flags|=256),e=Ya(e,t),e!==2&&(t=Ee,Ee=r,t!==null&&Gl(t)),e}function Gl(e){Ee===null?Ee=e:Ee.push.apply(Ee,e)}function mm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],l=s.getSnapshot;s=s.value;try{if(!st(l(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dt(e,t){for(t&=~Lo,t&=~is,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rt(t),a=1<<r;e[r]=-1,t&=~a}}function sd(e){if(Y&6)throw Error(A(327));Fr();var t=Ia(e,0);if(!(t&1))return Ae(e,de()),null;var r=Ya(e,t);if(e.tag!==0&&r===2){var a=hl(e);a!==0&&(t=a,r=Ul(e,a))}if(r===1)throw r=Fn,Xt(e,0),Dt(e,t),Ae(e,de()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qt(e,Ee,mt),Ae(e,de()),null}function Ro(e,t){var r=Y;Y|=1;try{return e(t)}finally{Y=r,Y===0&&(Rr=de()+500,as&&Ht())}}function ar(e){Et!==null&&Et.tag===0&&!(Y&6)&&Fr();var t=Y;Y|=1;var r=Qe.transition,a=K;try{if(Qe.transition=null,K=1,e)return e()}finally{K=a,Qe.transition=r,Y=t,!(Y&6)&&Ht()}}function zo(){_e=Cr.current,ee(Cr)}function Xt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ug(r)),ce!==null)for(r=ce.return;r!==null;){var a=r;switch(bo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Oa();break;case 3:Lr(),ee(Ie),ee(Ne),Eo();break;case 5:To(a);break;case 4:Lr();break;case 13:ee(ne);break;case 19:ee(ne);break;case 10:No(a.type._context);break;case 22:case 23:zo()}r=r.return}if(fe=e,ce=e=Lt(e.current,null),xe=_e=t,ge=0,Fn=null,Lo=is=nr=0,Ee=fn=null,Kt!==null){for(t=0;t<Kt.length;t++)if(r=Kt[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,l=r.pending;if(l!==null){var o=l.next;l.next=s,a.next=o}r.pending=a}Kt=null}return e}function Mu(e,t){do{var r=ce;try{if(jo(),ba.current=Wa,Ga){for(var a=ae.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Ga=!1}if(rr=0,me=ue=ae=null,gn=!1,En=0,Oo.current=null,r===null||r.return===null){ge=1,Fn=t,ce=null;break}e:{var l=e,o=r.return,d=r,i=t;if(t=xe,d.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var c=i,f=d,x=f.tag;if(!(f.mode&1)&&(x===0||x===11||x===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=qi(o);if(m!==null){m.flags&=-257,Vi(m,o,d,l,t),m.mode&1&&Wi(l,c,t),t=m,i=c;var h=t.updateQueue;if(h===null){var k=new Set;k.add(i),t.updateQueue=k}else h.add(i);break e}else{if(!(t&1)){Wi(l,c,t),Bo();break e}i=Error(A(426))}}else if(te&&d.mode&1){var w=qi(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Vi(w,o,d,l,t),ko($r(i,d));break e}}l=i=$r(i,d),ge!==4&&(ge=2),fn===null?fn=[l]:fn.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var y=mu(l,i,t);Ri(l,y);break e;case 1:d=i;var u=l.type,p=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_t===null||!_t.has(p)))){l.flags|=65536,t&=-t,l.lanes|=t;var v=fu(l,d,t);Ri(l,v);break e}}l=l.return}while(l!==null)}Au(r)}catch(N){t=N,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function Iu(){var e=qa.current;return qa.current=Wa,e===null?Wa:e}function Bo(){(ge===0||ge===3||ge===2)&&(ge=4),fe===null||!(nr&268435455)&&!(is&268435455)||Dt(fe,xe)}function Ya(e,t){var r=Y;Y|=2;var a=Iu();(fe!==e||xe!==t)&&(mt=null,Xt(e,t));do try{fm();break}catch(s){Mu(e,s)}while(!0);if(jo(),Y=r,qa.current=a,ce!==null)throw Error(A(261));return fe=null,xe=0,ge}function fm(){for(;ce!==null;)Fu(ce)}function hm(){for(;ce!==null&&!z0();)Fu(ce)}function Fu(e){var t=_u(e.alternate,e,_e);e.memoizedProps=e.pendingProps,t===null?Au(e):ce=t,Oo.current=null}function Au(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=im(r,t),r!==null){r.flags&=32767,ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,ce=null;return}}else if(r=om(r,t,_e),r!==null){ce=r;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);ge===0&&(ge=5)}function Qt(e,t,r){var a=K,s=Qe.transition;try{Qe.transition=null,K=1,pm(e,t,r,a)}finally{Qe.transition=s,K=a}return null}function pm(e,t,r,a){do Fr();while(Et!==null);if(Y&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(K0(e,l),e===fe&&(ce=fe=null,xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ia||(ia=!0,Ou(Ma,function(){return Fr(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Qe.transition,Qe.transition=null;var o=K;K=1;var d=Y;Y|=4,Oo.current=null,cm(e,r),Du(r,e),Og(kl),Fa=!!bl,kl=bl=null,e.current=r,um(r),B0(),Y=d,K=o,Qe.transition=l}else e.current=r;if(ia&&(ia=!1,Et=e,Qa=s),l=e.pendingLanes,l===0&&(_t=null),G0(r.stateNode),Ae(e,de()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(Va)throw Va=!1,e=Bl,Bl=null,e;return Qa&1&&e.tag!==0&&Fr(),l=e.pendingLanes,l&1?e===Hl?hn++:(hn=0,Hl=e):hn=0,Ht(),null}function Fr(){if(Et!==null){var e=mc(Qa),t=Qe.transition,r=K;try{if(Qe.transition=null,K=16>e?16:e,Et===null)var a=!1;else{if(e=Et,Et=null,Qa=0,Y&6)throw Error(A(331));var s=Y;for(Y|=4,R=e.current;R!==null;){var l=R,o=l.child;if(R.flags&16){var d=l.deletions;if(d!==null){for(var i=0;i<d.length;i++){var c=d[i];for(R=c;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:mn(8,f,l)}var x=f.child;if(x!==null)x.return=f,R=x;else for(;R!==null;){f=R;var g=f.sibling,m=f.return;if(Nu(f),f===c){R=null;break}if(g!==null){g.return=m,R=g;break}R=m}}}var h=l.alternate;if(h!==null){var k=h.child;if(k!==null){h.child=null;do{var w=k.sibling;k.sibling=null,k=w}while(k!==null)}}R=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,R=o;else e:for(;R!==null;){if(l=R,l.flags&2048)switch(l.tag){case 0:case 11:case 15:mn(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,R=y;break e}R=l.return}}var u=e.current;for(R=u;R!==null;){o=R;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,R=p;else e:for(o=u;R!==null;){if(d=R,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:os(9,d)}}catch(N){oe(d,d.return,N)}if(d===o){R=null;break e}var v=d.sibling;if(v!==null){v.return=d.return,R=v;break e}R=d.return}}if(Y=s,Ht(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Za,e)}catch{}a=!0}return a}finally{K=r,Qe.transition=t}}return!1}function ld(e,t,r){t=$r(r,t),t=mu(e,t,1),e=Pt(e,t,1),t=Ce(),e!==null&&(Rn(e,1,t),Ae(e,t))}function oe(e,t,r){if(e.tag===3)ld(e,e,r);else for(;t!==null;){if(t.tag===3){ld(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(_t===null||!_t.has(a))){e=$r(r,e),e=fu(t,e,1),t=Pt(t,e,1),e=Ce(),t!==null&&(Rn(t,1,e),Ae(t,e));break}}t=t.return}}function xm(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(xe&r)===r&&(ge===4||ge===3&&(xe&130023424)===xe&&500>de()-$o?Xt(e,0):Lo|=r),Ae(e,t)}function Pu(e,t){t===0&&(e.mode&1?(t=Xn,Xn<<=1,!(Xn&130023424)&&(Xn=4194304)):t=1);var r=Ce();e=bt(e,t),e!==null&&(Rn(e,t,r),Ae(e,r))}function ym(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Pu(e,r)}function vm(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(A(314))}a!==null&&a.delete(t),Pu(e,r)}var _u;_u=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ie.current)Me=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Me=!1,lm(e,t,r);Me=!!(e.flags&131072)}else Me=!1,te&&t.flags&1048576&&Rc(t,Ra,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;wa(e,t),e=t.pendingProps;var s=Pr(t,Ne.current);Ir(t,r),s=Io(null,t,a,e,s,r);var l=Fo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(a)?(l=!0,La(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Co(t),s.updater=ls,t.stateNode=s,s._reactInternals=t,Ml(t,a,e,r),t=Al(null,t,a,!0,l,r)):(t.tag=0,te&&l&&vo(t),Se(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(wa(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=km(a),e=Ze(a,e),s){case 0:t=Fl(null,t,a,e,r);break e;case 1:t=Ki(null,t,a,e,r);break e;case 11:t=Qi(null,t,a,e,r);break e;case 14:t=Yi(null,t,a,Ze(a.type,e),r);break e}throw Error(A(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ze(a,s),Fl(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ze(a,s),Ki(e,t,a,s,r);case 3:e:{if(yu(t),e===null)throw Error(A(387));a=t.pendingProps,l=t.memoizedState,s=l.element,Wc(e,t),Ha(t,a,null,r);var o=t.memoizedState;if(a=o.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=$r(Error(A(423)),t),t=Ji(e,t,a,r,s);break e}else if(a!==s){s=$r(Error(A(424)),t),t=Ji(e,t,a,r,s);break e}else for(Le=At(t.stateNode.containerInfo.firstChild),$e=t,te=!0,tt=null,r=Uc(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_r(),a===s){t=kt(e,t,r);break e}Se(e,t,a,r)}t=t.child}return t;case 5:return qc(t),e===null&&Dl(t),a=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,wl(a,s)?o=null:l!==null&&wl(a,l)&&(t.flags|=32),xu(e,t),Se(e,t,o,r),t.child;case 6:return e===null&&Dl(t),null;case 13:return vu(e,t,r);case 4:return Do(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Or(t,null,a,r):Se(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ze(a,s),Qi(e,t,a,s,r);case 7:return Se(e,t,t.pendingProps,r),t.child;case 8:return Se(e,t,t.pendingProps.children,r),t.child;case 12:return Se(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,X(za,a._currentValue),a._currentValue=o,l!==null)if(st(l.value,o)){if(l.children===s.children&&!Ie.current){t=kt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var d=l.dependencies;if(d!==null){o=l.child;for(var i=d.firstContext;i!==null;){if(i.context===a){if(l.tag===1){i=xt(-1,r&-r),i.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i}}l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),Tl(l.return,r,t),d.lanes|=r;break}i=i.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(A(341));o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),Tl(o,r,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Se(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Ir(t,r),s=Ye(s),a=a(s),t.flags|=1,Se(e,t,a,r),t.child;case 14:return a=t.type,s=Ze(a,t.pendingProps),s=Ze(a.type,s),Yi(e,t,a,s,r);case 15:return hu(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:Ze(a,s),wa(e,t),t.tag=1,Fe(a)?(e=!0,La(t)):e=!1,Ir(t,r),gu(t,a,s),Ml(t,a,s,r),Al(null,t,a,!0,e,r);case 19:return bu(e,t,r);case 22:return pu(e,t,r)}throw Error(A(156,t.tag))};function Ou(e,t){return dc(e,t)}function bm(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,r,a){return new bm(e,t,r,a)}function Ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function km(e){if(typeof e=="function")return Ho(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lo)return 11;if(e===oo)return 14}return 2}function Lt(e,t){var r=e.alternate;return r===null?(r=We(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sa(e,t,r,a,s,l){var o=2;if(a=e,typeof e=="function")Ho(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pr:return Zt(r.children,s,l,t);case so:o=8,s|=8;break;case el:return e=We(12,r,t,s|2),e.elementType=el,e.lanes=l,e;case tl:return e=We(13,r,t,s),e.elementType=tl,e.lanes=l,e;case rl:return e=We(19,r,t,s),e.elementType=rl,e.lanes=l,e;case qd:return ds(r,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gd:o=10;break e;case Wd:o=9;break e;case lo:o=11;break e;case oo:o=14;break e;case Nt:o=16,a=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=We(o,r,t,s),t.elementType=e,t.type=a,t.lanes=l,t}function Zt(e,t,r,a){return e=We(7,e,a,t),e.lanes=r,e}function ds(e,t,r,a){return e=We(22,e,a,t),e.elementType=qd,e.lanes=r,e.stateNode={isHidden:!1},e}function Hs(e,t,r){return e=We(6,e,null,t),e.lanes=r,e}function Us(e,t,r){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wm(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=js(0),this.expirationTimes=js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uo(e,t,r,a,s,l,o,d,i){return e=new wm(e,t,r,d,i),t===1?(t=1,l===!0&&(t|=8)):t=0,l=We(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Co(l),e}function jm(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hr,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Lu(e){if(!e)return Rt;e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(Fe(r))return Lc(e,r,t)}return t}function $u(e,t,r,a,s,l,o,d,i){return e=Uo(r,a,!0,e,s,l,o,d,i),e.context=Lu(null),r=e.current,a=Ce(),s=Ot(r),l=xt(a,s),l.callback=t??null,Pt(r,l,s),e.current.lanes=s,Rn(e,s,a),Ae(e,a),e}function cs(e,t,r,a){var s=t.current,l=Ce(),o=Ot(s);return r=Lu(r),t.context===null?t.context=r:t.pendingContext=r,t=xt(l,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Pt(s,t,o),e!==null&&(nt(e,s,o,l),va(e,s,o)),o}function Ka(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Go(e,t){od(e,t),(e=e.alternate)&&od(e,t)}function Nm(){return null}var Ru=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wo(e){this._internalRoot=e}us.prototype.render=Wo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));cs(e,t,null,null)};us.prototype.unmount=Wo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ar(function(){cs(null,e,null,null)}),t[vt]=null}};function us(e){this._internalRoot=e}us.prototype.unstable_scheduleHydration=function(e){if(e){var t=pc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ct.length&&t!==0&&t<Ct[r].priority;r++);Ct.splice(r,0,e),r===0&&yc(e)}};function qo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function id(){}function Sm(e,t,r,a,s){if(s){if(typeof a=="function"){var l=a;a=function(){var c=Ka(o);l.call(c)}}var o=$u(t,a,e,0,null,!1,!1,"",id);return e._reactRootContainer=o,e[vt]=o.current,Nn(e.nodeType===8?e.parentNode:e),ar(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var d=a;a=function(){var c=Ka(i);d.call(c)}}var i=Uo(e,0,!1,null,null,!1,!1,"",id);return e._reactRootContainer=i,e[vt]=i.current,Nn(e.nodeType===8?e.parentNode:e),ar(function(){cs(t,i,r,a)}),i}function ms(e,t,r,a,s){var l=r._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var d=s;s=function(){var i=Ka(o);d.call(i)}}cs(t,o,e,s)}else o=Sm(r,t,e,s,a);return Ka(o)}fc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=an(t.pendingLanes);r!==0&&(uo(t,r|1),Ae(t,de()),!(Y&6)&&(Rr=de()+500,Ht()))}break;case 13:ar(function(){var a=bt(e,1);if(a!==null){var s=Ce();nt(a,e,1,s)}}),Go(e,1)}};go=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var r=Ce();nt(t,e,134217728,r)}Go(e,134217728)}};hc=function(e){if(e.tag===13){var t=Ot(e),r=bt(e,t);if(r!==null){var a=Ce();nt(r,e,t,a)}Go(e,t)}};pc=function(){return K};xc=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};gl=function(e,t,r){switch(t){case"input":if(sl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=ns(a);if(!s)throw Error(A(90));Qd(a),sl(a,s)}}}break;case"textarea":Kd(e,r);break;case"select":t=r.value,t!=null&&Dr(e,!!r.multiple,t,!1)}};nc=Ro;ac=ar;var Cm={usingClientEntryPoint:!1,Events:[Bn,br,ns,tc,rc,Ro]},Zr={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dm={bundleType:Zr.bundleType,version:Zr.version,rendererPackageName:Zr.rendererPackageName,rendererConfig:Zr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oc(e),e===null?null:e.stateNode},findFiberByHostInstance:Zr.findFiberByHostInstance||Nm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{Za=da.inject(Dm),dt=da}catch{}}ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cm;ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qo(t))throw Error(A(200));return jm(e,t,null,r)};ze.createRoot=function(e,t){if(!qo(e))throw Error(A(299));var r=!1,a="",s=Ru;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Uo(e,1,!1,null,null,r,!1,a,s),e[vt]=t.current,Nn(e.nodeType===8?e.parentNode:e),new Wo(t)};ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=oc(t),e=e===null?null:e.stateNode,e};ze.flushSync=function(e){return ar(e)};ze.hydrate=function(e,t,r){if(!gs(t))throw Error(A(200));return ms(null,e,t,!0,r)};ze.hydrateRoot=function(e,t,r){if(!qo(e))throw Error(A(405));var a=r!=null&&r.hydratedSources||null,s=!1,l="",o=Ru;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=$u(t,null,e,1,r??null,s,!1,l,o),e[vt]=t.current,Nn(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new us(t)};ze.render=function(e,t,r){if(!gs(t))throw Error(A(200));return ms(null,e,t,!1,r)};ze.unmountComponentAtNode=function(e){if(!gs(e))throw Error(A(40));return e._reactRootContainer?(ar(function(){ms(null,null,e,!1,function(){e._reactRootContainer=null,e[vt]=null})}),!0):!1};ze.unstable_batchedUpdates=Ro;ze.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!gs(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return ms(e,t,r,!1,a)};ze.version="18.3.1-next-f1338f8080-20240426";function zu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zu)}catch(e){console.error(e)}}zu(),zd.exports=ze;var Tm=zd.exports,dd=Tm;Xs.createRoot=dd.createRoot,Xs.hydrateRoot=dd.hydrateRoot;var Em={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Im=(e,t)=>{const r=T.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,children:d,...i},c)=>T.createElement("svg",{ref:c,...Em,width:s,height:s,stroke:a,strokeWidth:o?Number(l)*24/Number(s):l,className:`lucide lucide-${Mm(e)}`,...i},[...t.map(([f,x])=>T.createElement(f,x)),...(Array.isArray(d)?d:[d])||[]]));return r.displayName=`${e}`,r};var B=Im;const An=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Fm=B("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),Bu=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Am=B("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Wl=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),cd=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Pm=B("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Pn=B("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),_m=B("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Om=B("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Hu=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Lm=B("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Ja=B("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Vo=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),$m=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ql=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Uu=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),sr=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Rm=B("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),Gu=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),zm=B("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),Bm=B("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Hm=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Um=B("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Gm=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Wm=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),qm=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Vm=B("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Qm=B("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Ym=B("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ud=B("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Wu=B("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),_n=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Km=B("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),at=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Gs=B("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),qu=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Jm=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Xm=B("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Vl=B("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Zm=B("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Ws=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),gd=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ql=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ut=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ef=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Vu=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),tf=B("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),rf=B("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),nf=B("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),gt=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),af={},md=e=>{let t;const r=new Set,a=(f,x)=>{const g=typeof f=="function"?f(t):f;if(!Object.is(g,t)){const m=t;t=x??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(h=>h(t,m))}},s=()=>t,i={setState:a,getState:s,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(af?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(a,s,i);return i},sf=e=>e?md(e):md;var Qu={exports:{}},Yu={},Ku={exports:{}},Ju={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zr=T;function lf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var of=typeof Object.is=="function"?Object.is:lf,df=zr.useState,cf=zr.useEffect,uf=zr.useLayoutEffect,gf=zr.useDebugValue;function mf(e,t){var r=t(),a=df({inst:{value:r,getSnapshot:t}}),s=a[0].inst,l=a[1];return uf(function(){s.value=r,s.getSnapshot=t,qs(s)&&l({inst:s})},[e,r,t]),cf(function(){return qs(s)&&l({inst:s}),e(function(){qs(s)&&l({inst:s})})},[e]),gf(r),r}function qs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!of(e,r)}catch{return!0}}function ff(e,t){return t()}var hf=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ff:mf;Ju.useSyncExternalStore=zr.useSyncExternalStore!==void 0?zr.useSyncExternalStore:hf;Ku.exports=Ju;var pf=Ku.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs=T,xf=pf;function yf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vf=typeof Object.is=="function"?Object.is:yf,bf=xf.useSyncExternalStore,kf=fs.useRef,wf=fs.useEffect,jf=fs.useMemo,Nf=fs.useDebugValue;Yu.useSyncExternalStoreWithSelector=function(e,t,r,a,s){var l=kf(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=jf(function(){function i(m){if(!c){if(c=!0,f=m,m=a(m),s!==void 0&&o.hasValue){var h=o.value;if(s(h,m))return x=h}return x=m}if(h=x,vf(f,m))return h;var k=a(m);return s!==void 0&&s(h,k)?(f=m,h):(f=m,x=k)}var c=!1,f,x,g=r===void 0?null:r;return[function(){return i(t())},g===null?void 0:function(){return i(g())}]},[t,r,a,s]);var d=bf(e,l[0],l[1]);return wf(function(){o.hasValue=!0,o.value=d},[d]),Nf(d),d};Qu.exports=Yu;var Sf=Qu.exports;const Cf=Dd(Sf),Xu={},{useDebugValue:Df}=$d,{useSyncExternalStoreWithSelector:Tf}=Cf;let fd=!1;const Ef=e=>e;function Mf(e,t=Ef,r){(Xu?"production":void 0)!=="production"&&r&&!fd&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),fd=!0);const a=Tf(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return Df(a),a}const hd=e=>{(Xu?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?sf(e):e,r=(a,s)=>Mf(t,a,s);return Object.assign(r,t),r},Ut=e=>e?hd(e):hd,If={};function Ff(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var l;const o=i=>i===null?null:JSON.parse(i,void 0),d=(l=r.getItem(s))!=null?l:null;return d instanceof Promise?d.then(o):o(d)},setItem:(s,l)=>r.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>r.removeItem(s)}}const On=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(a){return On(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return On(a)(r)}}}},Af=(e,t)=>(r,a,s)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,y)=>({...y,...w}),...t},o=!1;const d=new Set,i=new Set;let c;try{c=l.getStorage()}catch{}if(!c)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...w)},a,s);const f=On(l.serialize),x=()=>{const w=l.partialize({...a()});let y;const u=f({state:w,version:l.version}).then(p=>c.setItem(l.name,p)).catch(p=>{y=p});if(y)throw y;return u},g=s.setState;s.setState=(w,y)=>{g(w,y),x()};const m=e((...w)=>{r(...w),x()},a,s);let h;const k=()=>{var w;if(!c)return;o=!1,d.forEach(u=>u(a()));const y=((w=l.onRehydrateStorage)==null?void 0:w.call(l,a()))||void 0;return On(c.getItem.bind(c))(l.name).then(u=>{if(u)return l.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==l.version){if(l.migrate)return l.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var p;return h=l.merge(u,(p=a())!=null?p:m),r(h,!0),x()}).then(()=>{y==null||y(h,void 0),o=!0,i.forEach(u=>u(h))}).catch(u=>{y==null||y(void 0,u)})};return s.persist={setOptions:w=>{l={...l,...w},w.getStorage&&(c=w.getStorage())},clearStorage:()=>{c==null||c.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:w=>(d.add(w),()=>{d.delete(w)}),onFinishHydration:w=>(i.add(w),()=>{i.delete(w)})},k(),h||m},Pf=(e,t)=>(r,a,s)=>{let l={storage:Ff(()=>localStorage),partialize:k=>k,version:0,merge:(k,w)=>({...w,...k}),...t},o=!1;const d=new Set,i=new Set;let c=l.storage;if(!c)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...k)},a,s);const f=()=>{const k=l.partialize({...a()});return c.setItem(l.name,{state:k,version:l.version})},x=s.setState;s.setState=(k,w)=>{x(k,w),f()};const g=e((...k)=>{r(...k),f()},a,s);s.getInitialState=()=>g;let m;const h=()=>{var k,w;if(!c)return;o=!1,d.forEach(u=>{var p;return u((p=a())!=null?p:g)});const y=((w=l.onRehydrateStorage)==null?void 0:w.call(l,(k=a())!=null?k:g))||void 0;return On(c.getItem.bind(c))(l.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==l.version){if(l.migrate)return[!0,l.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var p;const[v,N]=u;if(m=l.merge(N,(p=a())!=null?p:g),r(m,!0),v)return f()}).then(()=>{y==null||y(m,void 0),m=a(),o=!0,i.forEach(u=>u(m))}).catch(u=>{y==null||y(void 0,u)})};return s.persist={setOptions:k=>{l={...l,...k},k.storage&&(c=k.storage)},clearStorage:()=>{c==null||c.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:k=>(d.add(k),()=>{d.delete(k)}),onFinishHydration:k=>(i.add(k),()=>{i.delete(k)})},l.skipHydration||h(),m||g},_f=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((If?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Af(e,t)):Pf(e,t),ir=_f,Of={orange:"Orange",blue:"Cyan",green:"Emerald",purple:"Purple",red:"Bordeaux",yellow:"Corn"},ca={notifications:{pushNotifications:!0,reminderTime:"08:00",achievementNotifications:!0,dailyReminders:!0,weeklyReports:!1},appearance:{theme:"light",accentColor:"orange",animations:!0,compactMode:!1,showProgressRings:!0},privacy:{analytics:!0,crashReporting:!0,dataSharing:!1,locationTracking:!1},premium:{aiAssistant:!1,advancedAnalytics:!1,cloudSync:!1,unlimitedGoals:!1,customThemes:!1},version:"1.0.0",firstLaunch:!0,onboardingCompleted:!1},hs=Ut()(ir((e,t)=>({settings:ca,isLoading:!1,updateNotificationSettings:r=>{e(a=>({settings:{...a.settings,notifications:{...a.settings.notifications,...r}}}))},updateAppearanceSettings:r=>{e(a=>({settings:{...a.settings,appearance:{...a.settings.appearance,...r}}}))},updatePrivacySettings:r=>{e(a=>({settings:{...a.settings,privacy:{...a.settings.privacy,...r}}}))},updatePremiumSettings:r=>{e(a=>({settings:{...a.settings,premium:{...a.settings.premium,...r}}}))},setTheme:r=>{e(a=>({settings:{...a.settings,appearance:{...a.settings.appearance,theme:r}}})),r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},setAccentColor:r=>{e(o=>({settings:{...o.settings,appearance:{...o.settings.appearance,accentColor:r}}}));const a={orange:{50:"#FFF7ED",100:"#FFEDD5",200:"#FED7AA",300:"#FDBA74",400:"#FB923C",500:"#FF7101",600:"#EA580C",700:"#C2410C",800:"#9A3412",900:"#7C2D12"},blue:{50:"#ECFEFF",100:"#CFFAFE",200:"#A5F3FC",300:"#67E8F9",400:"#22D3EE",500:"#06B6D4",600:"#0891B2",700:"#0E7490",800:"#155E75",900:"#164E63"},green:{50:"#ECFDF5",100:"#D1FAE5",200:"#A7F3D0",300:"#6EE7B7",400:"#34D399",500:"#10B981",600:"#059669",700:"#047857",800:"#065F46",900:"#064E3B"},purple:{50:"#FAF5FF",100:"#F3E8FF",200:"#E9D5FF",300:"#D8B4FE",400:"#C084FC",500:"#A855F7",600:"#9333EA",700:"#7C3AED",800:"#6B21A8",900:"#581C87"},red:{50:"#FEF2F2",100:"#FEE2E2",200:"#FECACA",300:"#FCA5A5",400:"#F87171",500:"#7C2D12",600:"#6D2813",700:"#5D2312",800:"#4E1E10",900:"#3F180D"},yellow:{50:"#FFFBEB",100:"#FEF3C7",200:"#FDE68A",300:"#FCD34D",400:"#FBBF24",500:"#EAB308",600:"#CA8A04",700:"#A16207",800:"#854D0E",900:"#713F12"}},s=document.documentElement,l=a[r];Object.entries(l).forEach(([o,d])=>{s.style.setProperty(`--accent-${o}`,d)}),s.style.setProperty("--accent-color",l[500]),s.style.setProperty("--accent-color-light",l[400]),s.style.setProperty("--accent-color-dark",l[600])},setReminderTime:r=>{e(a=>({settings:{...a.settings,notifications:{...a.settings.notifications,reminderTime:r}}}))},toggleNotifications:r=>{e(a=>({settings:{...a.settings,notifications:{...a.settings.notifications,[r]:!a.settings.notifications[r]}}}))},togglePrivacySetting:r=>{e(a=>({settings:{...a.settings,privacy:{...a.settings.privacy,[r]:!a.settings.privacy[r]}}}))},resetToDefaults:()=>{e({settings:{...ca,firstLaunch:!1}})},exportSettings:()=>{const{settings:r}=t();return JSON.stringify(r,null,2)},importSettings:r=>{try{const a=JSON.parse(r);return a&&typeof a=="object"?(e(()=>({settings:{...ca,...a,version:ca.version}})),!0):!1}catch(a){return console.error("Failed to import settings:",a),!1}},getTheme:()=>t().settings.appearance.theme,getAccentColor:()=>t().settings.appearance.accentColor,getAccentColorName:()=>{const r=t().settings.appearance.accentColor;return Of[r]||"Orange"},isPremiumEnabled:()=>{const{premium:r}=t().settings;return Object.values(r).some(a=>a===!0)},areNotificationsEnabled:()=>t().settings.notifications.pushNotifications,initializeSettings:()=>{const{settings:r}=t();r.appearance.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const a={orange:{50:"#FFF7ED",100:"#FFEDD5",200:"#FED7AA",300:"#FDBA74",400:"#FB923C",500:"#FF7101",600:"#EA580C",700:"#C2410C",800:"#9A3412",900:"#7C2D12"},blue:{50:"#ECFEFF",100:"#CFFAFE",200:"#A5F3FC",300:"#67E8F9",400:"#22D3EE",500:"#06B6D4",600:"#0891B2",700:"#0E7490",800:"#155E75",900:"#164E63"},green:{50:"#ECFDF5",100:"#D1FAE5",200:"#A7F3D0",300:"#6EE7B7",400:"#34D399",500:"#10B981",600:"#059669",700:"#047857",800:"#065F46",900:"#064E3B"},purple:{50:"#FAF5FF",100:"#F3E8FF",200:"#E9D5FF",300:"#D8B4FE",400:"#C084FC",500:"#A855F7",600:"#9333EA",700:"#7C3AED",800:"#6B21A8",900:"#581C87"},red:{50:"#FEF2F2",100:"#FEE2E2",200:"#FECACA",300:"#FCA5A5",400:"#F87171",500:"#7C2D12",600:"#6D2813",700:"#5D2312",800:"#4E1E10",900:"#3F180D"},yellow:{50:"#FFFBEB",100:"#FEF3C7",200:"#FDE68A",300:"#FCD34D",400:"#FBBF24",500:"#EAB308",600:"#CA8A04",700:"#A16207",800:"#854D0E",900:"#713F12"}},s=document.documentElement,l=a[r.appearance.accentColor];Object.entries(l).forEach(([o,d])=>{s.style.setProperty(`--accent-${o}`,d)}),s.style.setProperty("--accent-color",l[500]),s.style.setProperty("--accent-color-light",l[400]),s.style.setProperty("--accent-color-dark",l[600])}}),{name:"settings-store",version:1,onRehydrateStorage:()=>e=>{e&&e.initializeSettings()}})),Lf=()=>{const e=document.documentElement,a={orange:{50:"#FFF7ED",100:"#FFEDD5",200:"#FED7AA",300:"#FDBA74",400:"#FB923C",500:"#FF7101",600:"#EA580C",700:"#C2410C",800:"#9A3412",900:"#7C2D12"}}["orange"];Object.entries(a).forEach(([s,l])=>{e.style.setProperty(`--accent-${s}`,l)}),e.style.setProperty("--accent-color",a[500]),e.style.setProperty("--accent-color-light",a[400]),e.style.setProperty("--accent-color-dark",a[600])};typeof window<"u"&&Lf();const $f="modulepreload",Rf=function(e){return"/"+e},pd={},we=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(i=>{if(i=Rf(i),i in pd)return;pd[i]=!0;const c=i.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${f}`))return;const x=document.createElement("link");if(x.rel=c?"stylesheet":$f,c||(x.as="script"),x.crossOrigin="",x.href=i,d&&x.setAttribute("nonce",d),document.head.appendChild(x),c)return new Promise((g,m)=>{x.addEventListener("load",g),x.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${i}`)))})}))}function l(o){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=o,window.dispatchEvent(d),!d.defaultPrevented)throw o}return s.then(o=>{for(const d of o||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},Gt=()=>Date.now().toString()+Math.random().toString(36).substring(2,9),xd=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${a}`},Wt=e=>{if(!e)return!1;const t=new Date,r=new Date(e);return r.toDateString()!==t.toDateString()&&r<t},en=e=>{if(!e)return!1;const t=new Date;return new Date(e).toDateString()===t.toDateString()},Vs=e=>{if(!e)return!1;const t=new Date,r=new Date(e);if(r.toDateString()===t.toDateString())return!1;const a=r.getTime()-t.getTime(),s=Math.ceil(a/(1e3*60*60*24));return s>0&&s<=7},qe=Ut()(ir((e,t)=>({tasks:[],currentFilter:"all",isModalOpen:!1,selectedTask:void 0,addTask:r=>{var l;const a=Gt(),s={id:a,name:r.name,description:r.description,type:r.type,status:"pending",priority:r.priority,dueDate:r.dueDate?new Date(r.dueDate):void 0,createdAt:new Date,updatedAt:new Date,goalId:r.goalId||void 0,estimatedTime:r.estimatedTime?parseInt(r.estimatedTime.toString()):void 0,location:r.location||void 0,reminderTime:r.reminderTime?new Date(r.reminderTime):void 0,notes:r.notes||void 0,tags:r.tags||[],subtasks:r.subtasks.filter(o=>o&&o.trim()!=="").map(o=>({id:Gt(),name:o.trim(),completed:!1,createdAt:new Date})),shoppingItems:((l=r.shoppingItems)==null?void 0:l.map(o=>({id:Gt(),name:o.name,quantity:o.quantity,completed:!1})))||[]};return e(o=>({tasks:[s,...o.tasks],isModalOpen:!1})),s.isRecurring?(console.log("📅 Generating recurring tasks for:",s.name),t().generateRecurringTasks(s)):s.addToCalendar?(console.log("📅 Creating calendar entry for non-recurring task:",s.name),t().createCalendarEntryForTask(s)):console.log("📅 No calendar integration for task:",s.name,{isRecurring:s.isRecurring,addToCalendar:s.addToCalendar}),s.goalId&&we(async()=>{const{useGoalStore:o}=await Promise.resolve().then(()=>Oe);return{useGoalStore:o}},void 0).then(({useGoalStore:o})=>{o.getState().updateGoalProgress(s.goalId)}).catch(console.warn),a},updateTask:(r,a)=>{const s=t().tasks.find(o=>o.id===r),l=s?{...s,...a}:null;e(o=>({tasks:o.tasks.map(d=>d.id===r?{...d,...a,updatedAt:new Date}:d)})),l&&new Set([s==null?void 0:s.goalId,l.goalId].filter(Boolean)).forEach(d=>{d&&we(async()=>{const{useGoalStore:i}=await Promise.resolve().then(()=>Oe);return{useGoalStore:i}},void 0).then(({useGoalStore:i})=>{i.getState().updateGoalProgress(d)}).catch(console.warn)})},deleteTask:r=>{const a=t().tasks.find(s=>s.id===r);a!=null&&a.isRecurring&&t().cleanupRecurringTasks(r),e(s=>({tasks:s.tasks.filter(l=>l.id!==r)})),a!=null&&a.goalId&&we(async()=>{const{useGoalStore:s}=await Promise.resolve().then(()=>Oe);return{useGoalStore:s}},void 0).then(({useGoalStore:s})=>{s.getState().updateGoalProgress(a.goalId)}).catch(console.warn)},toggleTask:r=>{const a=t().tasks.find(s=>s.id===r);e(s=>({tasks:s.tasks.map(l=>{if(l.id===r){const o=l.status==="completed"?"pending":"completed";return{...l,status:o,updatedAt:new Date}}return l})})),a!=null&&a.goalId&&we(async()=>{const{useGoalStore:s}=await Promise.resolve().then(()=>Oe);return{useGoalStore:s}},void 0).then(({useGoalStore:s})=>{s.getState().updateGoalProgress(a.goalId)}).catch(console.warn)},toggleSubtask:(r,a)=>{e(s=>({tasks:s.tasks.map(l=>l.id===r?{...l,subtasks:l.subtasks.map(o=>o.id===a?{...o,completed:!o.completed}:o),updatedAt:new Date}:l)}))},toggleShoppingItem:(r,a)=>{e(s=>({tasks:s.tasks.map(l=>{var o;return l.id===r?{...l,shoppingItems:((o=l.shoppingItems)==null?void 0:o.map(d=>d.id===a?{...d,completed:!d.completed}:d))||[],updatedAt:new Date}:l})}))},setFilter:r=>{e({currentFilter:r})},openModal:()=>{e({isModalOpen:!0})},closeModal:()=>{e({isModalOpen:!1,selectedTask:void 0})},selectTask:r=>{e({selectedTask:r})},getFilteredTasks:()=>{const{tasks:r,currentFilter:a}=t();switch(a){case"today":return r.filter(s=>en(s.dueDate)&&!Wt(s.dueDate)&&s.status!=="completed");case"upcoming":return r.filter(s=>Vs(s.dueDate)&&!Wt(s.dueDate)&&!en(s.dueDate)&&s.status!=="completed");case"overdue":return r.filter(s=>Wt(s.dueDate)&&s.status!=="completed");case"completed":return r.filter(s=>s.status==="completed");default:return r}},getTasksBySection:()=>{const{tasks:r}=t(),a=r.filter(s=>s.status!=="completed");return{overdue:a.filter(s=>Wt(s.dueDate)),today:a.filter(s=>en(s.dueDate)&&!Wt(s.dueDate)),upcoming:a.filter(s=>Vs(s.dueDate)&&!Wt(s.dueDate)&&!en(s.dueDate)),noDueDate:a.filter(s=>!s.dueDate)}},getTaskCounts:()=>{const{tasks:r}=t();return{all:r.length,today:r.filter(a=>en(a.dueDate)&&a.status!=="completed").length,upcoming:r.filter(a=>Vs(a.dueDate)&&a.status!=="completed").length,overdue:r.filter(a=>Wt(a.dueDate)&&a.status!=="completed").length,completed:r.filter(a=>a.status==="completed").length}},linkTaskToGoal:(r,a)=>{e(s=>({tasks:s.tasks.map(l=>l.id===r?{...l,goalId:a,updatedAt:new Date}:l)})),we(async()=>{const{useGoalStore:s}=await Promise.resolve().then(()=>Oe);return{useGoalStore:s}},void 0).then(({useGoalStore:s})=>{s.getState().updateGoalProgress(a)}).catch(console.warn)},unlinkTaskFromGoal:(r,a)=>{e(s=>({tasks:s.tasks.map(l=>l.id===r&&l.goalId===a?{...l,goalId:void 0,updatedAt:new Date}:l)})),we(async()=>{const{useGoalStore:s}=await Promise.resolve().then(()=>Oe);return{useGoalStore:s}},void 0).then(({useGoalStore:s})=>{s.getState().updateGoalProgress(a)}).catch(console.warn)},getTasksByGoal:r=>{const{tasks:a}=t();return a.filter(s=>s.goalId===r)},cleanupEmptySubtasks:()=>{e(r=>({tasks:r.tasks.map(a=>({...a,subtasks:a.subtasks.filter(s=>typeof s=="string"?s.trim()!=="":s.id&&s.name!==void 0&&s.name!==null).map(s=>typeof s=="string"?{id:Gt(),name:s,completed:!1,createdAt:new Date}:s)}))}))},generateRecurringTasks:r=>{var i,c;if(!r.isRecurring)return;const{tasks:a}=t();let s;r.recurrenceStartDate?s=new Date(r.recurrenceStartDate):r.dueDate?s=new Date(r.dueDate):s=new Date;const l=r.recurrenceEndDate?new Date(r.recurrenceEndDate):new Date(s.getTime()+365*24*60*60*1e3),o=[],d=new Date(s);for(;d<=l&&(r.recurrenceType==="daily"?d.setDate(d.getDate()+(r.recurrenceInterval||1)):r.recurrenceType==="weekly"?d.setDate(d.getDate()+7*(r.recurrenceInterval||1)):r.recurrenceType==="monthly"&&d.setMonth(d.getMonth()+(r.recurrenceInterval||1)),!(d>l));){const f=xd(d);if((i=r.recurrenceExceptions)!=null&&i.includes(f))continue;const x={...r,id:Gt(),dueDate:new Date(d),originalTaskId:r.id,isRecurring:!1,createdAt:new Date,updatedAt:new Date,subtasks:r.subtasks.map(g=>({...g,id:Gt(),completed:!1,createdAt:new Date})),shoppingItems:((c=r.shoppingItems)==null?void 0:c.map(g=>({...g,id:Gt(),completed:!1})))||[]};if(o.push(x),o.length>=100)break}e(f=>({tasks:[...f.tasks,...o]})),r.addToCalendar?(console.log("📅 Creating calendar entries for",o.length,"recurring instances"),o.forEach((f,x)=>{console.log(`📅 Creating calendar entry ${x+1}/${o.length} for date:`,f.dueDate),t().createCalendarEntryForTask(f)})):console.log("📅 No calendar integration enabled for recurring task:",r.name)},cleanupRecurringTasks:r=>{e(a=>({tasks:a.tasks.filter(s=>s.originalTaskId!==r)}))},createCalendarEntryForTask:r=>{if(console.log("📅 createCalendarEntryForTask called with task:",{taskId:r.id,taskName:r.name,addToCalendar:r.addToCalendar,calendarStartTime:r.calendarStartTime,calendarDate:r.calendarDate,isRecurring:r.isRecurring,dueDate:r.dueDate}),!r.addToCalendar){console.log("❌ Task calendar integration disabled");return}if(!r.calendarStartTime){console.log("❌ Missing calendarStartTime");return}let a=null;if(r.isRecurring&&r.dueDate?(a=new Date(r.dueDate),console.log("📅 Using dueDate for recurring task:",r.dueDate)):!r.isRecurring&&r.calendarDate?(a=new Date(r.calendarDate),console.log("📅 Using calendarDate for non-recurring task:",r.calendarDate)):r.dueDate?(a=new Date(r.dueDate),console.log("📅 Using dueDate as fallback:",r.dueDate)):r.isRecurring||(a=new Date,console.log("📅 Defaulting to today for non-recurring task without calendar date")),!a){console.log("❌ No valid date found for calendar entry",{isRecurring:r.isRecurring,hasCalendarDate:!!r.calendarDate,hasDueDate:!!r.dueDate,calendarDate:r.calendarDate,dueDate:r.dueDate});return}we(async()=>{const{useCalendarStore:s}=await Promise.resolve().then(()=>Bf);return{useCalendarStore:s}},void 0).then(({useCalendarStore:s})=>{console.log("📅 Calendar store imported successfully");const l=s.getState(),o=xd(a);console.log("📅 Creating calendar entry with dateString:",o);const d={title:r.name,description:r.description||"Task reminder",date:o,startTime:r.calendarStartTime,durationMinutes:r.calendarDuration||60,blockType:"admin",icon:"📋",color:r.type==="deadline"?"linear-gradient(135deg, #EF4444, #DC2626)":r.type==="to-buy"?"linear-gradient(135deg, #F59E0B, #D97706)":"linear-gradient(135deg, #8B5CF6, #7C3AED)",linkedItemType:"task",linkedItemId:r.id,isRecurring:r.isRecurring&&r.recurrenceType!=="daily",recurrenceType:r.recurrenceType==="daily"?void 0:r.recurrenceType,recurrenceInterval:r.recurrenceType==="daily"?void 0:r.recurrenceInterval,recurrenceEndDate:r.recurrenceType==="daily"?void 0:r.recurrenceEndDate};console.log("📅 Time block data:",d);try{console.log("📅 About to call calendarStore.addTimeBlock..."),l.addTimeBlock(d),console.log("✅ Calendar entry created successfully");const i=l.timeBlocks;console.log("📅 Current time blocks count:",i.length);const c=i.find(f=>f.title===r.name&&f.linkedItemId===r.id);c?console.log("✅ Verified: Time block found in calendar store:",c.id):console.log("❌ Warning: Time block not found in calendar store after addition")}catch(i){console.error("❌ Error creating calendar entry:",i),console.error("❌ Error details:",{message:i instanceof Error?i.message:"Unknown error",stack:i instanceof Error?i.stack:void 0,timeBlockData:d})}}).catch(s=>{console.error("❌ Failed to import calendar store:",s)})}}),{name:"task-store",version:1})),zf=Object.freeze(Object.defineProperty({__proto__:null,useTaskStore:qe},Symbol.toStringTag,{value:"Module"})),yd=()=>Math.random().toString(36).substr(2,9),qt=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${a}`},ua=(e,t)=>{const[r,a]=e.split(":").map(Number),s=r*60+a+t,l=Math.floor(s/60)%24,o=s%60;return`${l.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},Ve=Ut()(ir((e,t)=>({timeBlocks:[],currentView:"day",currentDate:new Date,addTimeBlock:r=>{const a={id:yd(),...r,status:"scheduled",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e(s=>({timeBlocks:[...s.timeBlocks,a]})),a.isRecurring&&t().generateRecurringEvents(a)},updateTimeBlock:(r,a)=>{e(s=>({timeBlocks:s.timeBlocks.map(l=>l.id===r?{...l,...a,updatedAt:new Date().toISOString()}:l)}))},deleteTimeBlock:r=>{console.log("🗑️ Calendar Store: Deleting time block with ID:",r);const{timeBlocks:a}=t(),s=a.find(l=>l.id===r);s!=null&&s.isRecurring&&t().cleanupRecurringEvents(r),e(l=>{const o=l.timeBlocks.filter(d=>d.id!==r);return console.log("🗑️ Calendar Store: Blocks before deletion:",l.timeBlocks.length),console.log("🗑️ Calendar Store: Blocks after deletion:",o.length),{timeBlocks:o}})},toggleTimeBlockCompletion:r=>{e(a=>({timeBlocks:a.timeBlocks.map(s=>s.id===r?{...s,status:s.status==="completed"?"scheduled":"completed",updatedAt:new Date().toISOString()}:s)}))},setCurrentView:r=>{e({currentView:r})},setCurrentDate:r=>{e({currentDate:new Date(r)})},navigateToDay:r=>{e({currentView:"day",currentDate:new Date(r)})},navigatePrevious:()=>{const{currentView:r,currentDate:a}=t(),s=new Date(a);switch(r){case"day":s.setDate(s.getDate()-1);break;case"week":s.setDate(s.getDate()-7);break;case"month":s.setMonth(s.getMonth()-1);break}e({currentDate:s})},navigateNext:()=>{const{currentView:r,currentDate:a}=t(),s=new Date(a);switch(r){case"day":s.setDate(s.getDate()+1);break;case"week":s.setDate(s.getDate()+7);break;case"month":s.setMonth(s.getMonth()+1);break}e({currentDate:s})},getDayViewData:r=>{const{timeBlocks:a}=t(),s=qt(r);console.log("Calendar getDayViewData:",{requestedDate:s,totalTimeBlocks:a.length,allBlockDates:a.map(i=>i.date)});const l=a.filter(i=>i.date===s);console.log("Filtered timeBlocks for date:",{date:s,foundBlocks:l.length,blocks:l});const o=l.map(i=>({id:i.id,title:i.title,description:i.description,date:i.date,startTime:i.startTime,endTime:ua(i.startTime,i.durationMinutes),type:"timeblock",icon:i.icon,color:i.color,completed:i.status==="completed",linkedId:i.id})),d={totalTasks:l.filter(i=>i.linkedItemType==="task").length,totalHabits:l.filter(i=>i.linkedItemType==="habit").length,completedItems:o.filter(i=>i.completed).length};return{date:s,events:o,stats:d}},getWeekViewData:r=>{const{timeBlocks:a}=t(),s=new Date(r),l=s.getDay();s.setDate(s.getDate()-l);const o=new Date(s);o.setDate(s.getDate()+6),console.log("🗓️ getWeekViewData Debug:",{inputDate:r.toISOString(),startOfWeek:s.toISOString(),endOfWeek:o.toISOString(),totalTimeBlocks:a.length,timeBlockDates:a.map(i=>i.date)});const d=[];for(let i=0;i<7;i++){const c=new Date(s);c.setDate(s.getDate()+i);const f=t().getDayViewData(c);console.log(`📅 Week Day ${i}:`,{date:qt(c),eventsFound:f.events.length}),d.push(f)}return{weekStart:qt(s),weekEnd:qt(o),days:d}},getMonthViewData:r=>{const a=r.getFullYear(),s=r.getMonth(),l=new Date(a,s,1),o=new Date(l),d=l.getDay();o.setDate(l.getDate()-d);const i=[],c=new Date;for(let f=0;f<42;f++){const x=new Date(o);x.setDate(o.getDate()+f);const g=t().getDayViewData(x),m=x.getMonth()===s,h=qt(x)===qt(c);i.push({...g,dayNumber:x.getDate(),isCurrentMonth:m,isToday:h})}return{year:a,month:s,days:i}},getAllEventsForDate:r=>{const{timeBlocks:a}=t();return a.filter(s=>s.date===r).map(s=>({id:s.id,title:s.title,description:s.description,date:s.date,startTime:s.startTime,endTime:ua(s.startTime,s.durationMinutes),type:"timeblock",icon:s.icon,color:s.color,completed:s.status==="completed",linkedId:s.id}))},checkTimeConflict:(r,a,s,l)=>{const{timeBlocks:o}=t(),d=ua(a,s);return o.some(i=>{if(i.id===l||i.date!==r)return!1;const c=ua(i.startTime,i.durationMinutes);return a>=i.startTime&&a<c||d>i.startTime&&d<=c||a<=i.startTime&&d>=c})},generateRecurringEvents:r=>{var i;if(!r.isRecurring)return;const{timeBlocks:a}=t(),s=new Date(r.date),l=r.recurrenceEndDate?new Date(r.recurrenceEndDate):new Date(s.getTime()+365*24*60*60*1e3),o=[],d=new Date(s);for(;d<=l&&(r.recurrenceType==="weekly"?d.setDate(d.getDate()+7*(r.recurrenceInterval||1)):r.recurrenceType==="monthly"&&d.setMonth(d.getMonth()+(r.recurrenceInterval||1)),!(d>l));){const c=qt(d);if((i=r.recurrenceExceptions)!=null&&i.includes(c))continue;const f={...r,id:yd(),date:c,originalEventId:r.id,isRecurring:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};if(o.push(f),o.length>=100)break}e(c=>({timeBlocks:[...c.timeBlocks,...o]}))},cleanupRecurringEvents:r=>{e(a=>({timeBlocks:a.timeBlocks.filter(s=>s.originalEventId!==r)}))}}),{name:"calendar-store",version:1,partialize:e=>({timeBlocks:e.timeBlocks})})),Bf=Object.freeze(Object.defineProperty({__proto__:null,useCalendarStore:Ve},Symbol.toStringTag,{value:"Module"})),ga=()=>Math.random().toString(36).substr(2,9),ke=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${a}`},Hf=ke(new Date),Ca=e=>{const t=[];if(!e.calendarIntegration||!e.startDate||!e.scheduledTime)return t;const r=new Date(e.startDate),a=new Date,s=new Date(a.getTime()+8*7*24*60*60*1e3);if(e.frequency==="daily"){const l=Math.ceil((s.getTime()-r.getTime())/864e5);for(let o=0;o<=l;o++){const d=new Date(r.getTime()+o*24*60*60*1e3),i=ke(d);t.push({title:e.name,description:e.description||"",date:i,startTime:e.scheduledTime,durationMinutes:30,blockType:"focus",icon:e.icon,color:e.color,linkedItemType:"habit",linkedItemId:e.id})}}else if(e.frequency==="weekly"&&e.selectedDays){const l={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},o=e.selectedDays.map(i=>l[i]),d=Math.ceil((s.getTime()-r.getTime())/(24*60*60*1e3));for(let i=0;i<=d;i++){const c=new Date(r.getTime()+i*24*60*60*1e3),f=c.getDay(),x=ke(c);o.includes(f)&&t.push({title:e.name,description:e.description||"",date:x,startTime:e.scheduledTime,durationMinutes:30,blockType:"focus",icon:e.icon,color:e.color,linkedItemType:"habit",linkedItemId:e.id})}}return t};new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const Uf=()=>{const e=Pe.getState(),t=Ve.getState();t.timeBlocks.filter(a=>a.linkedItemType==="habit").forEach(a=>{t.deleteTimeBlock(a.id)}),e.habits.forEach(a=>{a.calendarIntegration&&Ca(a).forEach(l=>{t.addTimeBlock(l)})})},Pe=Ut()(ir((e,t)=>({habits:[],completions:[],viewMode:"list",addHabit:r=>{const a=ga(),s={id:a,...r,streak:0,completions:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};if(e(l=>({habits:[...l.habits,s]})),s.calendarIntegration){const l=Ca(s),o=Ve.getState();l.forEach(d=>{o.addTimeBlock(d)})}return s.goalId&&we(async()=>{const{useGoalStore:l}=await Promise.resolve().then(()=>Oe);return{useGoalStore:l}},void 0).then(({useGoalStore:l})=>{l.getState().updateGoalProgress(s.goalId)}).catch(console.warn),a},updateHabit:(r,a)=>{const{habits:s}=t(),l=s.find(i=>i.id===r);if(!l)return;const o={...l,...a,updatedAt:new Date().toISOString()};if(e(i=>({habits:i.habits.map(c=>c.id===r?o:c)})),a.calendarIntegration!==void 0||a.startDate||a.scheduledTime||a.frequency||a.selectedDays){const i=Ve.getState();i.timeBlocks.filter(f=>f.linkedItemType==="habit"&&f.linkedItemId===r).forEach(f=>{i.deleteTimeBlock(f.id)}),o.calendarIntegration&&Ca(o).forEach(x=>{i.addTimeBlock(x)})}new Set([l==null?void 0:l.goalId,o.goalId].filter(Boolean)).forEach(i=>{i&&we(async()=>{const{useGoalStore:c}=await Promise.resolve().then(()=>Oe);return{useGoalStore:c}},void 0).then(({useGoalStore:c})=>{c.getState().updateGoalProgress(i)}).catch(console.warn)})},deleteHabit:r=>{const a=t().habits.find(o=>o.id===r);e(o=>({habits:o.habits.filter(d=>d.id!==r),completions:o.completions.filter(d=>d.habitId!==r)}));const s=Ve.getState();s.timeBlocks.filter(o=>o.linkedItemType==="habit"&&o.linkedItemId===r).forEach(o=>{s.deleteTimeBlock(o.id)}),a!=null&&a.goalId&&we(async()=>{const{useGoalStore:o}=await Promise.resolve().then(()=>Oe);return{useGoalStore:o}},void 0).then(({useGoalStore:o})=>{o.getState().updateGoalProgress(a.goalId)}).catch(console.warn)},toggleCompletion:(r,a)=>{const{completions:s,habits:l}=t(),o=l.find(i=>i.id===r);if(s.find(i=>i.habitId===r&&i.date===a))e(i=>({completions:i.completions.filter(c=>!(c.habitId===r&&c.date===a))}));else{const i={id:ga(),habitId:r,date:a,completed:!0,completedAt:new Date().toISOString()};e(c=>({completions:[...c.completions,i]}))}o!=null&&o.goalId&&we(async()=>{const{useGoalStore:i}=await Promise.resolve().then(()=>Oe);return{useGoalStore:i}},void 0).then(({useGoalStore:i})=>{i.getState().updateGoalProgress(o.goalId)}).catch(console.warn)},setViewMode:r=>{e({viewMode:r})},getHabitCompletions:r=>{const{completions:a}=t();return a.filter(s=>s.habitId===r)},getHabitStreak:r=>{const{habits:a,completions:s}=t(),l=a.find(d=>d.id===r);return!l||s.filter(d=>d.habitId===r&&d.completed).sort((d,i)=>new Date(i.date).getTime()-new Date(d.date).getTime()).length===0?0:t().calculateStreakForFrequency(r,l.frequency)},calculateStreakForFrequency:(r,a)=>{const{habits:s,completions:l}=t(),o=s.find(c=>c.id===r);if(!o)return 0;const d=l.filter(c=>c.habitId===r&&c.completed).sort((c,f)=>new Date(f.date).getTime()-new Date(c.date).getTime());if(d.length===0)return 0;const i=new Date;switch(i.setHours(0,0,0,0),a){case"daily":return t().calculateDailyStreak(d,i,o);case"weekly":return t().calculateWeeklyStreak(d,o.selectedDays||[],i);case"custom":return t().calculateCustomStreak(d,o.customFrequency,i);default:return 0}},calculateDailyStreak:(r,a,s)=>{let l=0;const o=new Date(a);for(;;){const d=ke(o),i=r.find(f=>f.date===d),c=i?i.completed:!1;if(c)l++;else if(d===ke(a)){if(r.find(x=>x.date===d)&&!c)break}else break;o.setDate(o.getDate()-1)}return l},calculateWeeklyStreak:(r,a,s)=>{if(!a||a.length===0)return 0;const l={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},o=a.map(x=>l[x]);let d=0,i=new Date(s);const f=-i.getDay();for(i.setDate(i.getDate()+f);;){const x=new Date(i);x.setDate(x.getDate()+6);const g=s>=i&&s<=x;let m=0;for(const k of o){const w=new Date(i);w.setDate(w.getDate()+k);const y=ke(w);r.find(p=>p.date===y&&p.completed)&&m++}const h=a.length;if(m===h)d++;else if(!g)break;i.setDate(i.getDate()-7)}return d},calculateCustomStreak:(r,a,s)=>{if(!a)return 0;let l=0;const{times:o,period:d}=a;let i=new Date(s);if(i.setHours(0,0,0,0),d==="week"){const f=-i.getDay();i.setDate(i.getDate()+f)}else i.setDate(1);for(;;){const c=new Date(i);d==="week"?(c.setDate(c.getDate()+6),c.setHours(23,59,59,999)):(c.setMonth(c.getMonth()+1),c.setDate(0),c.setHours(23,59,59,999));const f=new Date(s);f.setHours(0,0,0,0);const x=f>=i&&f<=c;let g=0;for(const m of r){if(!m.completed)continue;const h=new Date(m.date+"T00:00:00");h.setHours(0,0,0,0),h>=i&&h<=c&&g++}if(console.log(`Custom Streak Debug - Period: ${ke(i)} to ${ke(c)}`),console.log(`  - Is Current Period: ${x}`),console.log(`  - Completions Found: ${g}/${o}`),console.log(`  - Current Streak: ${l}`),g>=o)l++;else if(!x)break;d==="week"?i.setDate(i.getDate()-7):i.setMonth(i.getMonth()-1)}return l},toggleDayCompletion:(r,a)=>{const{completions:s,habits:l}=t(),o=l.find(i=>i.id===r),d=s.find(i=>i.habitId===r&&i.date===a);if(d)e(i=>({completions:i.completions.map(c=>c.id===d.id?{...c,completed:!c.completed,completedAt:c.completed?void 0:new Date().toISOString()}:c)}));else{const i={id:ga(),habitId:r,date:a,completed:!0,completedAt:new Date().toISOString()};e(c=>({completions:[...c.completions,i]}))}o!=null&&o.goalId&&we(async()=>{const{useGoalStore:i}=await Promise.resolve().then(()=>Oe);return{useGoalStore:i}},void 0).then(({useGoalStore:i})=>{i.getState().updateGoalProgress(o.goalId)}).catch(console.warn)},isRequiredDay:(r,a)=>{const{habits:s}=t(),l=s.find(i=>i.id===r);if(!l)return!1;const d=new Date(a).getDay();switch(l.frequency){case"daily":return!0;case"weekly":if(!l.selectedDays)return!1;const i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};return l.selectedDays.map(f=>i[f]).includes(d);case"custom":return!0;default:return!1}},getCompletionRate:(r,a=30)=>{const{habits:s,completions:l}=t();if(!s.find(g=>g.id===r))return 0;const d=new Date,i=new Date(d);i.setDate(i.getDate()-a);const c=l.filter(g=>g.habitId===r);let f=0,x=0;for(let g=new Date(i);g<=d;g.setDate(g.getDate()+1)){const m=ke(g);if(t().isRequiredDay(r,m)){f++;const h=c.find(w=>w.date===m);(h?h.completed:!1)&&x++}}return f>0?Math.round(x/f*100):0},getLastTwoWeeksProgress:r=>{const{habits:a}=t();if(!a.find(c=>c.id===r))return[];const l=new Date,o=new Date(l);o.setDate(o.getDate()-13);const d=[],i=t().getHabitCompletions(r);for(let c=0;c<14;c++){const f=new Date(o);f.setDate(f.getDate()+c);const x=ke(f),g=i.find(w=>w.date===x),m=x===ke(l),h=t().isRequiredDay(r,x),k=g?g.completed:!1;d.push({date:x,completed:k,isToday:m,isRequired:h,value:g==null?void 0:g.value})}return d},isHabitCompletedToday:r=>{const{completions:a,habits:s}=t();s.find(o=>o.id===r);const l=a.find(o=>o.habitId===r&&o.date===Hf);return l?l.completed:!1},linkHabitToGoal:(r,a)=>{e(s=>({habits:s.habits.map(l=>l.id===r?{...l,goalId:a,updatedAt:new Date().toISOString()}:l)})),we(async()=>{const{useGoalStore:s}=await Promise.resolve().then(()=>Oe);return{useGoalStore:s}},void 0).then(({useGoalStore:s})=>{s.getState().updateGoalProgress(a)}).catch(console.warn)},unlinkHabitFromGoal:(r,a)=>{e(s=>({habits:s.habits.map(l=>l.id===r&&l.goalId===a?{...l,goalId:void 0,updatedAt:new Date().toISOString()}:l)})),we(async()=>{const{useGoalStore:s}=await Promise.resolve().then(()=>Oe);return{useGoalStore:s}},void 0).then(({useGoalStore:s})=>{s.getState().updateGoalProgress(a)}).catch(console.warn)},getHabitsByGoal:r=>{const{habits:a}=t();return a.filter(s=>s.goalId===r)},regenerateAllTimeBlocks:()=>{Uf()},changeHabitFrequency:(r,a,s,l,o)=>{const{habits:d}=t(),i=d.find(m=>m.id===r);if(!i)return;const c=t().getHabitStreak(r),f=i.frequency==="weekly"?"weeks":i.frequency==="custom"?"periods":"days",x={id:ga(),changeDate:new Date().toISOString(),previousFrequency:{type:i.frequency,selectedDays:i.selectedDays,customFrequency:i.customFrequency},newFrequency:{type:a,selectedDays:s,customFrequency:l},streakAtChange:{value:c,type:f,label:`${c} ${f}`},reason:o};e(m=>({habits:m.habits.map(h=>h.id===r?{...h,frequency:a,selectedDays:s,customFrequency:l,frequencyHistory:[...h.frequencyHistory||[],x],updatedAt:new Date().toISOString()}:h)}));const g=t().habits.find(m=>m.id===r);if(g&&g.calendarIntegration){const m=Ve.getState();m.timeBlocks.filter(w=>w.linkedItemType==="habit"&&w.linkedItemId===r).forEach(w=>{m.deleteTimeBlock(w.id)}),Ca(g).forEach(w=>{m.addTimeBlock(w)})}},getHabitFrequencyHistory:r=>{const{habits:a}=t(),s=a.find(l=>l.id===r);return(s==null?void 0:s.frequencyHistory)||[]},getTotalStreakContext:r=>{const{habits:a}=t(),s=a.find(c=>c.id===r);if(!s)return{current:0,historical:0,label:"0 days"};const l=t().getHabitStreak(r),d=(s.frequencyHistory||[]).reduce((c,f)=>c+f.streakAtChange.value,0),i=s.frequency==="weekly"?"weeks":s.frequency==="custom"?"periods":"days";return d>0?{current:l,historical:d,label:`${l} ${i} (${d} total)`}:{current:l,historical:0,label:`${l} ${i}`}},getTotalCompletions:r=>{const{completions:a}=t();return a.filter(s=>s.habitId===r&&s.completed).length},getBestStreak:r=>{const{habits:a,completions:s}=t(),l=a.find(o=>o.id===r);return l?l.frequency==="daily"?t().calculateBestDailyStreak(r):l.frequency==="weekly"?t().calculateBestWeeklyStreak(r):t().calculateBestCustomStreak(r):0},calculateBestDailyStreak:r=>{const{completions:a}=t(),s=a.filter(i=>i.habitId===r&&i.completed).sort((i,c)=>new Date(i.date).getTime()-new Date(c.date).getTime());if(s.length===0)return 0;let l=0,o=0,d=null;for(const i of s){const c=new Date(i.date);d?Math.floor((c.getTime()-d.getTime())/864e5)===1?o++:(l=Math.max(l,o),o=1):o=1,d=c}return Math.max(l,o)},calculateBestWeeklyStreak:r=>{const{habits:a}=t(),s=a.find(d=>d.id===r);if(!s||!s.selectedDays)return 0;const l=new Date;let o=0;for(let d=0;d<52;d++){const i=new Date(l);i.setDate(i.getDate()-d*7);const c=t().calculateWeeklyStreak(t().getHabitCompletions(r),s.selectedDays,i);o=Math.max(o,c)}return o},calculateBestCustomStreak:r=>{const{habits:a}=t(),s=a.find(d=>d.id===r);if(!s||!s.customFrequency)return 0;const l=new Date;let o=0;s.customFrequency.period;for(let d=0;d<52;d++){const i=new Date(l);s.customFrequency.period==="week"?i.setDate(i.getDate()-d*7):i.setMonth(i.getMonth()-d);const c=t().calculateCustomStreak(t().getHabitCompletions(r),s.customFrequency,i);o=Math.max(o,c)}return o},getMonthlyProgress:r=>{const{completions:a}=t(),s=new Date,l=new Date(s.getFullYear(),s.getMonth(),1);return a.filter(o=>o.habitId===r&&new Date(o.date)>=l).map(o=>({date:o.date,completed:o.completed}))},isHabitCompletedOnDate:(r,a)=>{const{completions:s,habits:l}=t(),o=s.find(d=>d.habitId===r&&d.date===a);return o?o.completed:!1}}),{name:"habit-store",version:1})),Gf=Object.freeze(Object.defineProperty({__proto__:null,formatDateToString:ke,useHabitStore:Pe},Symbol.toStringTag,{value:"Module"})),Wf=()=>Date.now().toString()+Math.random().toString(36).substr(2,9),qf=e=>{const t=new Date;return(typeof e=="string"?new Date(e):e).toDateString()===t.toDateString()},Vf=e=>{const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+6),s=typeof e=="string"?new Date(e):e;return s>=r&&s<=a},Qf=e=>{const t=new Date,r=typeof e=="string"?new Date(e):e;return r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()},Ln=Ut()(ir((e,t)=>({entries:[],currentFilter:"all",isModalOpen:!1,selectedEntry:void 0,searchQuery:"",isAutoSaving:!1,lastSaved:void 0,addEntry:r=>{const a={id:Wf(),content:r.content,mood:r.mood||"neutral",createdAt:new Date,updatedAt:new Date,tags:r.tags.filter(s=>s.trim()!==""),linkedGoals:r.linkedGoals||[],linkedTasks:r.linkedTasks||[],linkedHabits:r.linkedHabits||[],characterCount:r.content.length};e(s=>({entries:[a,...s.entries],isModalOpen:!1,lastSaved:new Date}))},updateEntry:(r,a)=>{e(s=>({entries:s.entries.map(l=>l.id===r?{...l,...a,updatedAt:new Date,characterCount:a.content?a.content.length:l.characterCount}:l),lastSaved:new Date}))},deleteEntry:r=>{e(a=>({entries:a.entries.filter(s=>s.id!==r)}))},setFilter:r=>{e({currentFilter:r})},setSearchQuery:r=>{e({searchQuery:r})},openModal:()=>{e({isModalOpen:!0,selectedEntry:void 0})},closeModal:()=>{e({isModalOpen:!1,selectedEntry:void 0})},selectEntry:r=>{e({selectedEntry:r,isModalOpen:!0})},setAutoSaving:r=>{e({isAutoSaving:r})},autoSaveEntry:(r,a)=>{e(s=>s.entries.find(o=>o.id===r)?{entries:s.entries.map(o=>o.id===r?{...o,content:a,updatedAt:new Date,characterCount:a.length}:o),isAutoSaving:!0}:s),setTimeout(()=>{e(s=>({...s,isAutoSaving:!1,lastSaved:new Date}))},1e3)},getFilteredEntries:()=>{const{entries:r,currentFilter:a,searchQuery:s}=t();let l=r;switch(a){case"today":l=r.filter(o=>qf(o.createdAt));break;case"this-week":l=r.filter(o=>Vf(o.createdAt));break;case"this-month":l=r.filter(o=>Qf(o.createdAt));break;default:l=r}if(s.trim()){const o=s.toLowerCase();l=l.filter(d=>d.content.toLowerCase().includes(o)||d.tags.some(i=>i.toLowerCase().includes(o)))}return l.sort((o,d)=>new Date(d.createdAt).getTime()-new Date(o.createdAt).getTime())},getEntriesByDate:()=>{const{entries:r}=t(),a={};return r.forEach(s=>{const o=(typeof s.createdAt=="string"?new Date(s.createdAt):s.createdAt).toISOString().split("T")[0];a[o]||(a[o]=[]),a[o].push(s)}),Object.keys(a).forEach(s=>{a[s].sort((l,o)=>{const d=typeof l.createdAt=="string"?new Date(l.createdAt):l.createdAt;return(typeof o.createdAt=="string"?new Date(o.createdAt):o.createdAt).getTime()-d.getTime()})}),a},getMoodStats:()=>{const{entries:r}=t(),a={"very-low":0,low:0,neutral:0,good:0,great:0};return r.forEach(s=>{a[s.mood]++}),a},getTagUsage:()=>{const{entries:r}=t(),a={};return r.forEach(s=>{s.tags.forEach(l=>{a[l]=(a[l]||0)+1})}),a}}),{name:"journal-store",version:1})),Yf=()=>Date.now().toString()+Math.random().toString(36).substring(2,9),Kf=[{id:"health-fitness",name:"Get Fit & Strong",description:"Build a consistent workout routine and develop healthy eating habits for long-term fitness.",category:"health",icon:"💪",color:"linear-gradient(135deg, #10B981, #22C55E)",estimatedDuration:"3-6 months",difficulty:"intermediate",popularity:"high",isPopular:!0,tags:["fitness","health","strength"],templateTasks:[{id:"1",name:"Join a gym or set up home workout space",priority:"high"},{id:"2",name:"Create workout schedule",priority:"high"},{id:"3",name:"Plan healthy meal prep routine",priority:"medium"},{id:"4",name:"Buy workout clothes and equipment",priority:"medium"},{id:"5",name:"Set fitness goals and track progress",priority:"high"},{id:"6",name:"Find workout buddy or trainer",priority:"low"}],templateHabits:[{id:"1",name:"Morning workout",icon:"🏃",measurementType:"simple",frequency:"daily"},{id:"2",name:"Drink 8 glasses of water",icon:"💧",measurementType:"count",frequency:"daily",targetAmount:8},{id:"3",name:"Eat healthy breakfast",icon:"🥗",measurementType:"simple",frequency:"daily"},{id:"4",name:"Track calories",icon:"📊",measurementType:"simple",frequency:"daily"}]},{id:"career-sideproject",name:"Launch Side Project",description:"Take your side project idea from concept to launch with structured milestones.",category:"career",icon:"🚀",color:"linear-gradient(135deg, #3B82F6, #60A5FA)",estimatedDuration:"3-4 months",difficulty:"advanced",popularity:"high",isPopular:!0,tags:["entrepreneurship","project","launch"],templateTasks:[{id:"1",name:"Define project scope and requirements",priority:"critical"},{id:"2",name:"Create project timeline and milestones",priority:"high"},{id:"3",name:"Set up development environment",priority:"high"},{id:"4",name:"Design user interface and experience",priority:"high"},{id:"5",name:"Develop MVP features",priority:"critical"},{id:"6",name:"Test with beta users",priority:"high"},{id:"7",name:"Create landing page and marketing materials",priority:"medium"},{id:"8",name:"Launch and gather feedback",priority:"critical"}],templateHabits:[{id:"1",name:"Daily coding/development",icon:"💻",measurementType:"time",frequency:"daily",targetAmount:120},{id:"2",name:"Research competitors",icon:"🔍",measurementType:"simple",frequency:"weekly"}]},{id:"learning-spanish",name:"Learn Spanish",description:"Achieve conversational Spanish fluency through structured learning and practice.",category:"learning",icon:"📚",color:"linear-gradient(135deg, #F59E0B, #FBBF24)",estimatedDuration:"6-12 months",difficulty:"intermediate",popularity:"medium",isPopular:!1,tags:["language","spanish","fluency"],templateTasks:[{id:"1",name:"Choose learning platform or course",priority:"high"},{id:"2",name:"Set up study schedule",priority:"high"},{id:"3",name:"Find conversation partner",priority:"medium"},{id:"4",name:"Download language learning apps",priority:"low"},{id:"5",name:"Join Spanish learning community",priority:"medium"},{id:"6",name:"Plan trip to Spanish-speaking country",priority:"low"}],templateHabits:[{id:"1",name:"Daily Spanish lessons",icon:"📖",measurementType:"time",frequency:"daily",targetAmount:30},{id:"2",name:"Practice speaking",icon:"🗣️",measurementType:"time",frequency:"daily",targetAmount:15},{id:"3",name:"Learn new vocabulary",icon:"📝",measurementType:"count",frequency:"daily",targetAmount:10}]}],Qs={isOpen:!1,mode:"template",currentStep:0,formData:{}},Jf={category:"all",status:"all",priority:"all"},Je=Ut()(ir((e,t)=>({goals:[],templates:Kf,currentFilter:Jf,viewMode:"list",modalState:Qs,selectedGoal:void 0,addGoal:r=>{const a=Yf(),s={id:a,name:r.name,description:r.description,category:r.category,icon:r.icon,color:r.color,targetDate:r.targetDate,isCompleted:!1,priority:r.priority,motivation:r.motivation,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),progress:{percentage:0,tasksCompleted:0,tasksTotal:0,habitsActive:0,habitCompletionRate:0,currentStreak:0,longestStreak:0,lastUpdated:new Date().toISOString()},linkedTaskIds:[],linkedHabitIds:[],linkedJournalIds:[],tags:r.tags||[],isArchived:!1};return e(l=>({goals:[...l.goals,s],modalState:{...Qs}})),setTimeout(()=>{t().updateGoalProgress(a)},100),a},updateGoal:(r,a)=>{e(s=>{var l;return{goals:s.goals.map(o=>o.id===r?{...o,...a,updatedAt:new Date().toISOString()}:o),selectedGoal:((l=s.selectedGoal)==null?void 0:l.id)===r?{...s.selectedGoal,...a,updatedAt:new Date().toISOString()}:s.selectedGoal}})},deleteGoal:r=>{e(a=>{var s;return{goals:a.goals.filter(l=>l.id!==r),selectedGoal:((s=a.selectedGoal)==null?void 0:s.id)===r?void 0:a.selectedGoal}})},toggleGoalCompletion:r=>{const a=t().goals.find(l=>l.id===r);if(!a)return;const s={isCompleted:!a.isCompleted,completedAt:a.isCompleted?void 0:new Date().toISOString(),updatedAt:new Date().toISOString()};a.isCompleted||(s.progress={...a.progress,percentage:100,lastUpdated:new Date().toISOString()}),t().updateGoal(r,s)},updateGoalProgress:async r=>{const a=t().goals.find(f=>f.id===r);if(!a)return;let s=0,l=0,o=0,d=0;try{const{useTaskStore:f}=await we(async()=>{const{useTaskStore:u}=await Promise.resolve().then(()=>zf);return{useTaskStore:u}},void 0),{useHabitStore:x}=await we(async()=>{const{useHabitStore:u}=await Promise.resolve().then(()=>Gf);return{useHabitStore:u}},void 0),m=(f.getState().tasks||[]).filter(u=>u.goalId===r);s=m.length,l=m.filter(u=>u.status==="completed").length;const h=x.getState(),k=h.habits||[],w=h.completions||[],y=k.filter(u=>u.goalId===r);if(o=y.length,y.length>0){const u=new Date;u.setDate(u.getDate()-7);const p=y.reduce((v,N)=>{const b=w.filter(j=>j.habitId===N.id).filter(j=>new Date(j.date)>=u&&j.completed);return v+b.length/7*100},0);d=Math.round(p/y.length)}}catch(f){console.warn("Could not calculate goal progress:",f)}let i=0;if(s>0||o>0){const g=s>0?l/s*100:0,m=d;s>0&&o>0?i=Math.round(g*.6+m*.4):s>0?i=Math.round(g):o>0&&(i=Math.round(m))}const c={...a.progress,percentage:Math.min(i,100),tasksCompleted:l,tasksTotal:s,habitsActive:o,habitCompletionRate:d,lastUpdated:new Date().toISOString()};console.log(`Goal Progress Update for "${a.name}":`,{goalId:r,tasksTotal:s,tasksCompleted:l,habitsActive:o,habitCompletionRate:d,percentage:i,updatedProgress:c}),t().updateGoal(r,{progress:c})},linkTaskToGoal:(r,a)=>{const s=t().goals.find(l=>l.id===r);!s||s.linkedTaskIds.includes(a)||(e(l=>({goals:l.goals.map(o=>o.id===r?{...o,linkedTaskIds:[...o.linkedTaskIds,a],updatedAt:new Date().toISOString()}:o)})),t().updateGoalProgress(r))},unlinkTaskFromGoal:(r,a)=>{t().goals.find(l=>l.id===r)&&(e(l=>({goals:l.goals.map(o=>o.id===r?{...o,linkedTaskIds:o.linkedTaskIds.filter(d=>d!==a),updatedAt:new Date().toISOString()}:o)})),t().updateGoalProgress(r))},linkHabitToGoal:(r,a)=>{const s=t().goals.find(l=>l.id===r);!s||s.linkedHabitIds.includes(a)||(e(l=>({goals:l.goals.map(o=>o.id===r?{...o,linkedHabitIds:[...o.linkedHabitIds,a],updatedAt:new Date().toISOString()}:o)})),t().updateGoalProgress(r))},unlinkHabitFromGoal:(r,a)=>{t().goals.find(l=>l.id===r)&&(e(l=>({goals:l.goals.map(o=>o.id===r?{...o,linkedHabitIds:o.linkedHabitIds.filter(d=>d!==a),updatedAt:new Date().toISOString()}:o)})),t().updateGoalProgress(r))},createGoalFromTemplate:(r,a)=>{const s=t().templates.find(o=>o.id===r);if(!s)return;const l={name:(a==null?void 0:a.name)||s.name,description:(a==null?void 0:a.description)||s.description,category:s.category,icon:(a==null?void 0:a.icon)||s.icon,color:(a==null?void 0:a.color)||s.color,priority:(a==null?void 0:a.priority)||"medium",targetDate:a==null?void 0:a.targetDate,motivation:a==null?void 0:a.motivation,tags:(a==null?void 0:a.tags)||s.tags,templateId:r};t().addGoal(l)},getTemplatesByCategory:r=>t().templates.filter(a=>a.category===r),setFilter:r=>{e(a=>({currentFilter:{...a.currentFilter,...r}}))},setViewMode:r=>{e({viewMode:r})},getFilteredGoals:()=>{const{goals:r,currentFilter:a}=t();return r.filter(s=>{if(a.category!=="all"&&s.category!==a.category)return!1;if(a.status!=="all")switch(a.status){case"active":return!s.isCompleted&&!s.isArchived;case"completed":return s.isCompleted;case"overdue":return!s.isCompleted&&s.targetDate&&new Date(s.targetDate)<new Date;default:return!0}return!(a.priority!=="all"&&s.priority!==a.priority)})},openModal:()=>{e(r=>({modalState:{...r.modalState,isOpen:!0,currentStep:0,formData:{}}}))},closeModal:()=>{e(()=>({modalState:{...Qs}}))},setModalStep:r=>{e(a=>({modalState:{...a.modalState,currentStep:r}}))},updateModalFormData:r=>{e(a=>({modalState:{...a.modalState,formData:{...a.modalState.formData,...r}}}))},selectGoal:r=>{e({selectedGoal:r})},clearSelection:()=>{e({selectedGoal:void 0})},getGoalStats:()=>{const r=t().goals,a=r.filter(i=>!i.isCompleted&&!i.isArchived),s=r.filter(i=>i.isCompleted),l=r.reduce((i,c)=>i+c.progress.percentage,0),o=r.length>0?l/r.length:0,d=r.reduce((i,c)=>(i[c.category]||(i[c.category]={count:0,averageProgress:0,completionRate:0}),i[c.category].count++,i[c.category].averageProgress+=c.progress.percentage,i),{});return Object.keys(d).forEach(i=>{const c=d[i];c.averageProgress=c.averageProgress/c.count,c.completionRate=r.filter(f=>f.category===i&&f.isCompleted).length/c.count*100}),{totalGoals:r.length,activeGoals:a.length,completedGoals:s.length,averageProgress:o,totalTasksLinked:r.reduce((i,c)=>i+c.linkedTaskIds.length,0),totalHabitsLinked:r.reduce((i,c)=>i+c.linkedHabitIds.length,0),overallCompletionRate:r.length>0?s.length/r.length*100:0,categoryBreakdown:d,currentActiveStreak:0,longestActiveStreak:0,goalsCompletedThisMonth:s.filter(i=>i.completedAt&&new Date(i.completedAt).getMonth()===new Date().getMonth()).length,goalsCompletedThisYear:s.filter(i=>i.completedAt&&new Date(i.completedAt).getFullYear()===new Date().getFullYear()).length}},getGoalDetailData:r=>{const a=t().goals.find(s=>s.id===r);if(a)return{goal:a,linkedTasks:[],linkedHabits:[],linkedJournalEntries:[],progressHistory:[],milestones:[]}},getGoalProgress:r=>{const a=t().goals.find(s=>s.id===r);return a==null?void 0:a.progress},getActiveGoals:()=>t().goals.filter(r=>!r.isCompleted&&!r.isArchived),getCompletedGoals:()=>t().goals.filter(r=>r.isCompleted),getOverdueGoals:()=>{const r=new Date;return t().goals.filter(a=>!a.isCompleted&&a.targetDate&&new Date(a.targetDate)<r)},getGoalsByCategory:r=>t().goals.filter(a=>a.category===r),recalculateAllGoalProgress:async()=>{const r=t().goals;for(const a of r)await t().updateGoalProgress(a.id)}}),{name:"goal-store",partialize:e=>({goals:e.goals,currentFilter:e.currentFilter,viewMode:e.viewMode})})),Oe=Object.freeze(Object.defineProperty({__proto__:null,useGoalStore:Je},Symbol.toStringTag,{value:"Module"})),Xf=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Zf=()=>{const e=new Date().getHours();return e<12?"Good morning!":e<17?"Good afternoon!":"Good evening!"},eh=()=>new Date().toISOString().split("T")[0],th=e=>{const t=e instanceof Date?e:new Date(e),r=new Date,a=new Date(r.setDate(r.getDate()-r.getDay())),s=new Date(a);return s.setDate(a.getDate()+6),t>=a&&t<=s},rh=e=>{const t=e instanceof Date?e:new Date(e),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()},Zu=Ut(()=>({getDashboardStats:()=>{const e=qe.getState(),t=Pe.getState(),r=Ln.getState(),a=Je.getState(),s=eh(),l=e.tasks.filter(u=>u.dueDate?(u.dueDate instanceof Date?u.dueDate.toISOString().split("T")[0]:String(u.dueDate).split("T")[0])===s:u.type==="standard"),o=l.filter(u=>u.status==="completed"),d=l.length>0?o.length/l.length*100:0,i=t.habits.filter(u=>{var p;if(u.frequency==="daily")return!0;if(u.frequency==="weekly"){const v=new Date().getDay(),N=["sun","mon","tue","wed","thu","fri","sat"];return(p=u.selectedDays)==null?void 0:p.includes(N[v])}return!1}),c=i.filter(u=>{const p=u.completions.find(v=>v.date===s);return p&&p.completed}),f=i.length>0?c.length/i.length*100:0,x=t.habits.reduce((u,p)=>Math.max(u,p.streak||0),0),g=a.goals.filter(u=>!u.isCompleted&&!u.isArchived),m=a.goals.length,h=m>0&&Math.round(g.reduce((u,p)=>u+p.progress.percentage,0)/g.length)||0,k=r.entries.filter(u=>th(u.createdAt)).length,w=r.entries.filter(u=>rh(u.createdAt)).length,y=r.entries.sort((u,p)=>new Date(p.createdAt).getTime()-new Date(u.createdAt).getTime())[0];return{goals:{total:m,averageProgress:h,activeGoals:g.length},tasks:{total:e.tasks.length,completedToday:o.length,remaining:l.length-o.length,completionRate:d},habits:{total:t.habits.length,completedToday:c.length,remaining:i.length-c.length,completionRate:f,bestStreak:x},journal:{totalEntries:r.entries.length,entriesThisWeek:k,entriesThisMonth:w,lastEntryDate:y?(y.createdAt instanceof Date?y.createdAt:new Date(y.createdAt)).toISOString().split("T")[0]:void 0}}},getDashboardCards:e=>{const r=Zu.getState().getDashboardStats();return[{id:"goals",title:"Goals",icon:"🎯",value:r.goals.activeGoals.toString(),subtitle:"active goals",progress:r.goals.averageProgress,progressText:r.goals.averageProgress>0?`${r.goals.averageProgress}% average progress`:"No goals yet",colorClass:"goals-card",onClick:()=>e("goals")},{id:"tasks",title:"Tasks",icon:"✅",value:`${r.tasks.completedToday}/${r.tasks.completedToday+r.tasks.remaining}`,subtitle:"completed today",progress:r.tasks.completionRate,progressText:r.tasks.remaining>0?`${r.tasks.remaining} tasks remaining`:"All tasks completed!",colorClass:"tasks-card",onClick:()=>e("tasks")},{id:"habits",title:"Habits",icon:"🔄",value:`${r.habits.completedToday}/${r.habits.completedToday+r.habits.remaining}`,subtitle:"completed today",progress:r.habits.completionRate,progressText:r.habits.bestStreak>0?`🔥 ${r.habits.bestStreak}-day streak`:"Start your streak!",colorClass:"habits-card",onClick:()=>e("habits")}]},hasAnyData:()=>{const e=qe.getState(),t=Pe.getState(),r=Ln.getState(),a=Je.getState();return e.tasks.length>0||t.habits.length>0||r.entries.length>0||a.goals.length>0},getGreeting:()=>Zf(),getCurrentDate:()=>Xf(new Date),getUrgentTasks:()=>{const t=qe.getState().getTasksBySection();return[...t.overdue,...t.today.filter(a=>(a.priority==="high"||a.priority==="urgent")&&a.status!=="completed")].filter(a=>a.status!=="completed")},getTodayTasks:()=>{const e=qe.getState(),t=e.getTasksBySection(),r=new Date;r.setHours(0,0,0,0);let a=t.today.filter(s=>s.priority!=="high"&&s.priority!=="urgent");if(a.length<5){const s=e.tasks.filter(c=>c.status!=="completed"&&c.priority!=="high"&&c.priority!=="urgent"),l=s.filter(c=>!c.dueDate),o=s.filter(c=>{if(!c.dueDate)return!1;const f=new Date(c.dueDate);return f.setHours(0,0,0,0),f>r}).sort((c,f)=>new Date(c.dueDate).getTime()-new Date(f.dueDate).getTime());a=[...a,...l,...o].filter((c,f,x)=>x.findIndex(g=>g.id===c.id)===f).slice(0,5)}return a},getTodayHabits:()=>{const e=Pe.getState(),t=new Date().getDay(),a=["sun","mon","tue","wed","thu","fri","sat"][t];return e.habits.filter(l=>l.frequency==="daily"?!0:l.frequency==="weekly"&&l.selectedDays?l.selectedDays.includes(a):l.frequency==="custom").map(l=>({habit:l,isCompleted:e.isHabitCompletedToday(l.id)}))}})),tn=[{id:"health",name:"Health & Fitness",icon:"🏃",description:"Physical wellness, exercise, nutrition",color:"#10B981",gradientStart:"#10B981",gradientEnd:"#22C55E",templateCount:8},{id:"career",name:"Career & Business",icon:"🚀",description:"Professional growth, projects, skills",color:"#3B82F6",gradientStart:"#3B82F6",gradientEnd:"#60A5FA",templateCount:12},{id:"learning",name:"Learning & Skills",icon:"📚",description:"Education, new skills, knowledge",color:"#F59E0B",gradientStart:"#F59E0B",gradientEnd:"#FBBF24",templateCount:10},{id:"personal",name:"Personal Growth",icon:"🧘",description:"Self-improvement, mindfulness, habits",color:"#8B5CF6",gradientStart:"#8B5CF6",gradientEnd:"#A855F7",templateCount:6},{id:"financial",name:"Financial",icon:"💰",description:"Savings, investments, budgeting",color:"#10B981",gradientStart:"#10B981",gradientEnd:"#059669",templateCount:7},{id:"creative",name:"Creative & Hobbies",icon:"🎨",description:"Art, music, writing, crafts",color:"#EC4899",gradientStart:"#EC4899",gradientEnd:"#F472B6",templateCount:9}],nh=["🎯","🚀","💪","📚","💰","🏃","🧘","🎨","🌟","🔥","⚡","💡","🎪","🎭","🏆","📈"],ma=["#FF7101","#3B82F6","#22C55E","#A855F7","#EC4899","#F59E0B","#EF4444","#14B8A6"];function ah({linkedTasks:e,linkedHabits:t,onAddTask:r,onAddHabit:a,onEditTask:s,onEditHabit:l,onDeleteTask:o,onDeleteHabit:d}){const[i,c]=T.useState(!1),f=e.length+t.length;return n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{onClick:()=>c(!i),className:`flex items-center justify-between p-4 border-2 rounded-xl cursor-pointer transition-all ${i?"bg-gray-100 dark:bg-gray-800 accent-border-500 rounded-b-none":"bg-gray-50 dark:bg-gray-800/50 border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-xl",children:"📋"}),n.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Tasks & Habits"}),f>0&&n.jsx("span",{className:"accent-bg-500 text-white text-xs px-2 py-1 rounded-full font-semibold",children:f})]}),n.jsx(Vo,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&n.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 border-2 border-t-0 accent-border-500 rounded-b-xl p-5 animate-slideDown",children:[n.jsxs("div",{className:"flex gap-3 mb-5",children:[n.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover-accent-border hover:bg-gray-200 dark:hover:bg-gray-700 transition-all group",children:[n.jsx(at,{className:"w-4 h-4 text-gray-400 group-hover:accent-text-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-400 group-hover:accent-text-500",children:"Add Task"})]}),n.jsxs("button",{onClick:a,className:"flex-1 flex items-center justify-center gap-2 p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover-accent-border hover:bg-gray-200 dark:hover:bg-gray-700 transition-all group",children:[n.jsx(at,{className:"w-4 h-4 text-gray-400 group-hover:accent-text-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-400 group-hover:accent-text-500",children:"Add Habit"})]})]}),n.jsx("div",{className:"space-y-3",children:f===0?n.jsxs("div",{className:"text-center py-6 text-gray-400",children:[n.jsx("div",{className:"text-3xl mb-2",children:"📋"}),n.jsx("p",{className:"text-sm",children:"No tasks or habits added yet."}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add tasks and habits to help achieve your goal!"})]}):n.jsxs(n.Fragment,{children:[e.map(x=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-200 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors",children:[n.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center text-white flex-shrink-0",style:{background:x.color},children:x.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white truncate",children:x.name}),n.jsx("div",{className:"text-xs text-gray-400",children:"Task"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>s(x),className:"w-7 h-7 flex items-center justify-center rounded-md bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:n.jsx(_n,{className:"w-3 h-3 text-gray-600 dark:text-gray-300"})}),n.jsx("button",{onClick:()=>o(x.id),className:"w-7 h-7 flex items-center justify-center rounded-md bg-red-600/20 hover:bg-red-600/30 transition-colors",children:n.jsx(ut,{className:"w-3 h-3 text-red-400"})})]})]},x.id)),t.map(x=>n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-700/50 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors",children:[n.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center text-white flex-shrink-0",style:{background:x.color},children:x.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium text-white truncate",children:x.name}),n.jsx("div",{className:"text-xs text-gray-400",children:"Habit"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>l(x),className:"w-7 h-7 flex items-center justify-center rounded-md bg-gray-600 hover:bg-gray-500 transition-colors",children:n.jsx(_n,{className:"w-3 h-3 text-gray-300"})}),n.jsx("button",{onClick:()=>d(x.id),className:"w-7 h-7 flex items-center justify-center rounded-md bg-red-600/20 hover:bg-red-600/30 transition-colors",children:n.jsx(ut,{className:"w-3 h-3 text-red-400"})})]})]},x.id))]})})]})]})}function sh({isOpen:e,onClose:t,onSave:r,editingTask:a,goalColor:s="#FF7101"}){const[l,o]=T.useState("standard"),[d,i]=T.useState({name:"",description:"",type:"standard",priority:"medium"});T.useEffect(()=>{e&&(a?(o(a.type||"standard"),i({name:a.name,description:a.description||"",type:a.type||"standard",priority:a.priority||"medium"})):(o("standard"),i({name:"",description:"",type:"standard",priority:"medium"})))},[e,a,s]);const c=x=>{x.preventDefault(),d.name.trim()&&(r({name:d.name.trim(),description:d.description.trim()||void 0,type:l,priority:d.priority}),t())},f=()=>{o("standard"),i({name:"",description:"",type:"standard",priority:"medium"}),t()};return e?n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:a?"Edit Task":"Add Task"}),n.jsx("button",{onClick:f,className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center justify-center transition-colors",children:n.jsx(gt,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]}),n.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Task Type"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"standard",label:"Standard",icon:sr,color:"bg-blue-50 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300"},{id:"to-buy",label:"To-Buy",icon:Vl,color:"bg-amber-50 border-amber-200 text-amber-700 dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-300"},{id:"deadline",label:"Deadline",icon:An,color:"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300"}].map(x=>{const g=x.icon;return n.jsxs("button",{type:"button",onClick:()=>o(x.id),className:`p-2 rounded-lg border-2 transition-all text-center flex flex-col justify-center items-center ${l===x.id?`${x.color} border-opacity-100`:"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(g,{className:"w-4 h-4 mx-auto mb-1"}),n.jsx("div",{className:"text-xs font-medium",children:x.label})]},x.id)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Task Name *"}),n.jsx("input",{type:"text",value:d.name,onChange:x=>i({...d,name:x.target.value}),placeholder:"What needs to be done?",className:"w-full p-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus-accent-border transition-colors",autoFocus:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),n.jsx("textarea",{value:d.description,onChange:x=>i({...d,description:x.target.value}),placeholder:"Additional details...",rows:2,className:"w-full p-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus-accent-border transition-colors resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{id:"low",label:"Low",color:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200"},{id:"medium",label:"Medium",color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},{id:"high",label:"High",color:"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300"},{id:"urgent",label:"Urgent",color:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300"}].map(x=>n.jsx("button",{type:"button",onClick:()=>i(g=>({...g,priority:x.id})),className:`py-2 px-2 rounded-lg text-xs font-medium transition-all text-center ${d.priority===x.id?`${x.color} ring-2 ring-offset-1 accent-ring-300`:"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:x.label},x.id))})]}),n.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700/50 border border-gray-300 dark:border-gray-600 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Preview"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"w-8 h-8 rounded-lg bg-gray-200 dark:bg-gray-600 flex items-center justify-center",children:[l==="standard"&&n.jsx(sr,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}),l==="to-buy"&&n.jsx(Vl,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}),l==="deadline"&&n.jsx(An,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:d.name||"Task name"}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[l.charAt(0).toUpperCase()+l.slice(1)," · ",d.priority.charAt(0).toUpperCase()+d.priority.slice(1)," Priority"]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:f,className:"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:!d.name.trim(),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${d.name.trim()?"accent-bg-500 hover-accent-bg-dark text-white":"bg-gray-400 dark:bg-gray-600 text-gray-600 dark:text-gray-400 cursor-not-allowed"}`,children:a?"Update Task":"Add Task"})]})]})]})}):null}const lh=["#FF7101","#3B82F6","#22C55E","#A855F7","#EF4444","#F59E0B","#6B7280","#10B981"],oh=["🔄","💪","📚","🧘","🏃","💧","🥗","😴","🎯","⚡","🌅","🎨"],vd=[{id:"simple",icon:"✅",name:"Simple",desc:"Yes/No daily"},{id:"count",icon:"🔢",name:"Count",desc:"Track number"},{id:"time",icon:"⏱️",name:"Time",desc:"Track duration"},{id:"custom",icon:"📊",name:"Custom",desc:"Custom units"}],ih=[{id:"daily",name:"Daily",desc:"Every day"},{id:"weekly",name:"Weekly",desc:"Select days"},{id:"custom",name:"Custom",desc:"X times per period"}],dh=[{id:"mon",label:"M",full:"Monday"},{id:"tue",label:"T",full:"Tuesday"},{id:"wed",label:"W",full:"Wednesday"},{id:"thu",label:"T",full:"Thursday"},{id:"fri",label:"F",full:"Friday"},{id:"sat",label:"S",full:"Saturday"},{id:"sun",label:"S",full:"Sunday"}];function ch({isOpen:e,onClose:t,onSave:r,editingHabit:a,goalColor:s="#FF7101"}){var x,g,m;const[l,o]=T.useState({name:"",description:"",icon:"🔄",color:s,measurementType:"simple",frequency:"daily",selectedDays:[],customFrequency:{times:1,period:"day"},targetAmount:1,targetUnit:"units"});T.useEffect(()=>{e&&o(a?{name:a.name,description:a.description||"",icon:a.icon,color:a.color,measurementType:a.measurementType,frequency:a.frequency,selectedDays:a.selectedDays||[],customFrequency:a.customFrequency||{times:1,period:"day"},targetAmount:a.targetAmount||1,targetUnit:a.targetUnit||"units"}:{name:"",description:"",icon:"🔄",color:s,measurementType:"simple",frequency:"daily",selectedDays:[],customFrequency:{times:1,period:"day"},targetAmount:1,targetUnit:"units"})},[e,a,s]);const d=h=>{h.preventDefault(),l.name.trim()&&(r({name:l.name.trim(),description:l.description.trim()||void 0,icon:l.icon,color:l.color,measurementType:l.measurementType,frequency:l.frequency,selectedDays:l.selectedDays,customFrequency:l.customFrequency,targetAmount:l.targetAmount,targetUnit:l.targetUnit}),t())},i=()=>{o({name:"",description:"",icon:"🔄",color:s,measurementType:"simple",frequency:"daily",selectedDays:[],customFrequency:{times:1,period:"day"},targetAmount:1,targetUnit:"units"}),t()},c=h=>{const k=l.selectedDays||[];if(k.includes(h)){const w=k.filter(y=>y!==h);o({...l,selectedDays:w})}else{const w=[...k,h];o({...l,selectedDays:w})}},f=()=>{switch(l.measurementType){case"count":return"times";case"time":return"minutes";case"custom":return l.targetUnit||"units";default:return""}};return e?n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:a?"Edit Habit":"Add Habit"}),n.jsx("button",{onClick:i,className:"w-8 h-8 rounded-lg bg-gray-700 hover:bg-gray-600 flex items-center justify-center transition-colors",children:n.jsx(gt,{className:"w-4 h-4 text-gray-300"})})]}),n.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Habit Name *"}),n.jsx("input",{type:"text",value:l.name,onChange:h=>o({...l,name:h.target.value}),placeholder:"What habit do you want to build?",className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus-accent-border transition-colors",autoFocus:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Description"}),n.jsx("textarea",{value:l.description,onChange:h=>o({...l,description:h.target.value}),placeholder:"Why is this habit important?",rows:2,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus-accent-border transition-colors resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Icon"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:oh.map(h=>n.jsx("button",{type:"button",onClick:()=>o({...l,icon:h}),className:`w-10 h-10 rounded-lg flex items-center justify-center text-lg transition-all ${l.icon===h?"accent-bg-500 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:h},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Color"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:lh.map(h=>n.jsx("button",{type:"button",onClick:()=>o({...l,color:h}),className:`w-8 h-8 rounded-lg border-2 transition-all ${l.color===h?"border-white scale-110":"border-transparent hover:scale-105"}`,style:{background:h},children:l.color===h&&n.jsx("span",{className:"text-white text-xs",children:"✓"})},h))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Measurement Type"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:vd.map(h=>n.jsxs("button",{type:"button",onClick:()=>o({...l,measurementType:h.id}),className:`p-2 rounded-lg text-xs transition-all ${l.measurementType===h.id?"accent-bg-500 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[n.jsxs("div",{className:"font-medium",children:[h.icon," ",h.name]}),n.jsx("div",{className:"opacity-75",children:h.desc})]},h.id))})]}),l.measurementType!=="simple"&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:["Target ",f()]}),n.jsx("input",{type:"number",min:"1",value:l.targetAmount||1,onChange:h=>o({...l,targetAmount:parseInt(h.target.value)||1}),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus-accent-border transition-colors"}),l.measurementType==="custom"&&n.jsx("input",{type:"text",value:l.targetUnit,onChange:h=>o({...l,targetUnit:h.target.value}),placeholder:"Custom unit (e.g., pages, cups)",className:"w-full p-3 mt-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus-accent-border transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Frequency"}),n.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:ih.map(h=>n.jsxs("button",{type:"button",onClick:()=>o({...l,frequency:h.id}),className:`p-2 rounded-lg text-xs transition-all ${l.frequency===h.id?"accent-bg-500 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[n.jsx("div",{className:"font-medium",children:h.name}),n.jsx("div",{className:"opacity-75",children:h.desc})]},h.id))}),l.frequency==="weekly"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Select days:"}),n.jsx("div",{className:"flex gap-1 justify-center",children:dh.map(h=>{var k;return n.jsx("button",{type:"button",onClick:()=>c(h.id),className:`w-8 h-8 rounded-lg text-xs font-medium transition-all ${(k=l.selectedDays)!=null&&k.includes(h.id)?"accent-bg-500 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:h.label},h.id)})})]}),l.frequency==="custom"&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"number",min:"1",value:((x=l.customFrequency)==null?void 0:x.times)||1,onChange:h=>o({...l,customFrequency:{...l.customFrequency,times:parseInt(h.target.value)||1}}),className:"w-16 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white text-center focus:outline-none focus-accent-border transition-colors"}),n.jsx("span",{className:"p-2 text-gray-400 text-sm",children:"times per"}),n.jsxs("select",{value:((g=l.customFrequency)==null?void 0:g.period)||"day",onChange:h=>o({...l,customFrequency:{...l.customFrequency,period:h.target.value}}),className:"flex-1 p-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus-accent-border transition-colors",children:[n.jsx("option",{value:"day",children:"Day"}),n.jsx("option",{value:"week",children:"Week"}),n.jsx("option",{value:"month",children:"Month"})]})]})]}),n.jsxs("div",{className:"bg-gray-700/50 border border-gray-600 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Preview"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white",style:{background:l.color},children:l.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-white",children:l.name||"Habit name"}),n.jsxs("div",{className:"text-xs text-gray-400",children:[(m=vd.find(h=>h.id===l.measurementType))==null?void 0:m.name," • ",l.frequency.charAt(0).toUpperCase()+l.frequency.slice(1),l.measurementType!=="simple"&&` • ${l.targetAmount} ${f()}`]})]})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:i,className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:!l.name.trim()||l.frequency==="weekly"&&l.selectedDays.length===0||l.measurementType!=="simple"&&(!l.targetAmount||l.targetAmount<1),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${l.name.trim()?"accent-bg-500 hover-accent-bg-dark text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:a?"Update Habit":"Add Habit"})]})]})]})}):null}const uh=[{id:"low",name:"Low",icon:"🔵",desc:"Nice to have"},{id:"medium",name:"Medium",icon:"🟡",desc:"Important"},{id:"high",name:"High",icon:"🟠",desc:"Very important"},{id:"critical",name:"Critical",icon:"🔴",desc:"Must achieve"}],bd=()=>Date.now().toString()+Math.random().toString(36).substring(2,9);function Qo({isOpen:e,onClose:t,goalToEdit:r}){var ur,Zo,ei;const{templates:a,addGoal:s,createGoalFromTemplate:l,getTemplatesByCategory:o,updateGoal:d,linkTaskToGoal:i,linkHabitToGoal:c}=Je(),{addTask:f}=qe(),{addHabit:x}=Pe(),[g,m]=T.useState("template"),[h,k]=T.useState("categories"),[w,y]=T.useState(null),[u,p]=T.useState(null),[v,N]=T.useState(!1),[S,b]=T.useState([]),[j,L]=T.useState([]),[$,F]=T.useState(!1),[U,z]=T.useState(!1),[W,H]=T.useState(),[J,re]=T.useState(),[I,C]=T.useState({name:"",description:"",category:"health",icon:"🎯",color:ma[0],priority:"medium",tags:[]});T.useEffect(()=>{e&&(r?(m("custom"),k("custom"),y(r.category),p(null),C({name:r.name||"",description:r.description||"",category:r.category||"health",icon:r.icon||"🎯",color:r.color||ma[0],priority:r.priority||"medium",targetDate:r.targetDate||void 0,motivation:r.motivation||"",tags:r.tags||[]})):(m("template"),k("categories"),y(null),p(null),C({name:"",description:"",category:"health",icon:"🎯",color:ma[0],priority:"medium",tags:[]})))},[e,r]);const O=()=>{m("template"),k("categories"),y(null),p(null),b([]),L([]),F(!1),z(!1),H(void 0),re(void 0),t()},M=_=>{m(_),k(_==="template"?"categories":"custom"),y(null),p(null)},E=_=>{y(_),k("templates")},P=_=>{p(_);const Q=a.find(ie=>ie.id===_);Q&&C({...I,name:Q.name,description:Q.description,category:Q.category,icon:Q.icon,color:Q.color})},D=()=>{u&&(l(u,I),O())},q=()=>{if(G()){if(r)d(r.id,I);else{const _=s(I);S.forEach(Q=>{const ie={name:Q.name,description:Q.description||"",type:Q.type,priority:Q.priority,goalId:_,notes:"",tags:[],subtasks:[],shoppingItems:Q.type==="to-buy"?[]:void 0},xs=f(ie);i(xs,_)}),j.forEach(Q=>{const ie={name:Q.name,description:Q.description,icon:Q.icon,color:Q.color,measurementType:Q.measurementType,frequency:Q.frequency,selectedDays:Q.selectedDays,customFrequency:Q.customFrequency,targetAmount:Q.targetAmount,targetUnit:Q.targetUnit,calendarIntegration:!1,startDate:new Date().toISOString().split("T")[0]},xs=x(ie);c(xs,_)})}O()}},G=()=>I.name.trim().length>0&&I.description.trim().length>0,He=()=>{H(void 0),F(!0)},dr=()=>{re(void 0),z(!0)},Un=_=>{H(_),F(!0)},Gn=_=>{re(_),z(!0)},Wn=_=>{b(Q=>Q.filter(ie=>ie.id!==_))},le=_=>{L(Q=>Q.filter(ie=>ie.id!==_))},cr=_=>{if(W)b(Q=>Q.map(ie=>ie.id===W.id?{...ie,..._}:ie));else{const Q={id:bd(),..._};b(ie=>[...ie,Q])}F(!1),H(void 0)},qn=_=>{if(J)L(Q=>Q.map(ie=>ie.id===J.id?{...ie,..._}:ie));else{const Q={id:bd(),..._};L(ie=>[...ie,Q])}z(!1),re(void 0)};if(!e)return null;const ps=w?o(w):[];return n.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-3 sm:p-4 md:p-5",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl xl:max-w-2xl max-h-[90vh] overflow-hidden text-gray-900 dark:text-white flex flex-col shadow-2xl",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[h==="templates"&&n.jsx("button",{onClick:()=>k("categories"),className:"w-9 h-9 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:n.jsx(Bu,{className:"w-4 h-4"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?"Edit Goal":"New Goal"})]}),n.jsx("button",{onClick:O,className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors",children:n.jsx(gt,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl p-1.5 flex",children:[n.jsx("button",{onClick:()=>M("template"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${g==="template"?"accent-gradient text-white shadow-lg shadow-accent":"text-gray-400 hover:text-white"}`,children:"Templates"}),n.jsx("button",{onClick:()=>M("custom"),className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-all duration-300 ${g==="custom"?"accent-gradient text-white shadow-lg shadow-accent":"text-gray-400 hover:text-white"}`,children:"Custom"})]})]}),n.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[g==="template"&&n.jsxs(n.Fragment,{children:[h==="categories"&&n.jsx("div",{className:"space-y-3",children:tn.map(_=>n.jsxs("button",{onClick:()=>E(_.id),className:"w-full bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-2xl p-4 transition-all duration-300 hover:scale-105 border-2 border-transparent hover:border-gray-300 flex items-center gap-4 text-left",children:[n.jsx("div",{className:"text-2xl flex-shrink-0",children:_.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-bold text-base mb-1",children:_.name}),n.jsx("p",{className:"text-gray-400 text-sm",children:_.description})]})]},_.id))}),h==="templates"&&w&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-4xl mb-2",children:(ur=tn.find(_=>_.id===w))==null?void 0:ur.icon}),n.jsx("h3",{className:"text-xl font-bold",children:(Zo=tn.find(_=>_.id===w))==null?void 0:Zo.name})]}),ps.map(_=>n.jsxs("div",{className:`bg-gray-50 dark:bg-gray-800 rounded-2xl p-5 cursor-pointer transition-all border-2 ${u===_.id?"accent-border-500 bg-gray-100 dark:bg-gray-700":"border-transparent hover:border-gray-600"}`,onClick:()=>P(_.id),children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-xl text-white",style:{background:_.color},children:_.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-lg mb-1",children:_.name}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:_.description})]}),n.jsx("div",{className:"text-xs text-gray-400",children:_.estimatedDuration})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-base",children:"✅"}),_.templateTasks.length," tasks"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-base",children:"🔄"}),_.templateHabits.length," habits"]}),n.jsx("span",{className:`px-2 py-1 rounded-lg text-xs ${_.popularity==="high"?"bg-green-500/20 text-green-400":_.popularity==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:_.popularity==="high"?"⭐ Popular":_.popularity==="medium"?"👍 Good":"🌱 Beginner"})]}),u===_.id&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsx("button",{onClick:D,className:"w-full py-3 accent-bg-500 hover-accent-bg-dark rounded-xl font-semibold transition-colors",children:"Create Goal from Template"})})]},_.id)),n.jsx("button",{onClick:()=>k("custom"),className:"w-full py-4 border-2 border-dashed border-gray-600 hover-accent-border rounded-2xl text-gray-400 hover-accent-text transition-colors",children:"+ Create Custom Goal Instead"})]})]}),g==="custom"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Goal Name *"}),n.jsx("input",{type:"text",value:I.name,onChange:_=>C({...I,name:_.target.value}),placeholder:"What do you want to achieve?",maxLength:100,className:"w-full p-3 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus-accent-border transition-colors"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description *"}),n.jsx("textarea",{value:I.description,onChange:_=>C({...I,description:_.target.value}),placeholder:"Describe your goal and why it matters to you...",maxLength:500,rows:3,className:"w-full p-3 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus-accent-border transition-colors resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Category *"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:tn.map(_=>n.jsxs("button",{onClick:()=>C({...I,category:_.id}),className:`p-3 border-2 rounded-xl text-center transition-all ${I.category===_.id?"accent-border-500 bg-gray-100 dark:bg-gray-700 accent-text-500":"border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-600"}`,children:[n.jsx("div",{className:"text-xl mb-1",children:_.icon}),n.jsx("div",{className:"text-xs font-semibold",children:_.name.split(" ")[0]})]},_.id))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Icon"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{onClick:()=>N(!v),className:"w-16 h-16 mx-auto mb-3 rounded-xl flex items-center justify-center text-2xl cursor-pointer hover:opacity-80 transition-all shadow-sm",style:{background:I.color,color:"white"},children:I.icon}),v&&n.jsx("div",{className:"grid grid-cols-4 gap-2 p-3 bg-gray-100 dark:bg-gray-800 rounded-xl",children:nh.map(_=>n.jsx("button",{onClick:()=>{C({...I,icon:_}),N(!1)},className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center text-lg transition-colors",children:_},_))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:ma.map(_=>n.jsx("button",{onClick:()=>C({...I,color:_}),className:`w-10 h-10 rounded-lg border-3 transition-all hover:scale-110 ${I.color===_?"accent-border-500 border-3":"border-transparent"}`,style:{background:_},children:I.color===_&&n.jsx("span",{className:"text-white font-bold",children:"✓"})},_))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:uh.map(_=>n.jsxs("button",{onClick:()=>C({...I,priority:_.id}),className:`p-3 border-2 rounded-xl text-left transition-all ${I.priority===_.id?"accent-border-500 bg-gray-100 dark:bg-gray-700 accent-text-500":"border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-600"}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"text-lg",children:_.icon}),n.jsx("span",{className:"font-semibold",children:_.name})]}),n.jsx("div",{className:"text-xs text-gray-400",children:_.desc})]},_.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Target Date (Optional)"}),n.jsx("input",{type:"date",value:I.targetDate||"",onChange:_=>C({...I,targetDate:_.target.value||void 0}),className:"w-full p-3 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white focus:outline-none focus-accent-border transition-colors"})]}),n.jsx(ah,{linkedTasks:S,linkedHabits:j,onAddTask:He,onAddHabit:dr,onEditTask:Un,onEditHabit:Gn,onDeleteTask:Wn,onDeleteHabit:le}),n.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-2xl p-5 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("span",{className:"text-xl",children:"✨"}),n.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Why This Matters"})]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 leading-relaxed",children:'Understanding your "why" is crucial for long-term success. What will achieving this goal mean to you?'}),n.jsx("textarea",{value:I.motivation||"",onChange:_=>C({...I,motivation:_.target.value}),placeholder:"How will achieving this goal change your life? What impact will it have on you and others?",maxLength:300,rows:3,className:"w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus-accent-border transition-colors resize-none"})]}),n.jsxs("div",{className:"bg-gray-100/50 dark:bg-gray-800/50 border border-gray-300 dark:border-gray-700 rounded-2xl p-5 mb-6",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-400 mb-4 uppercase tracking-wide",children:"Goal Preview"}),n.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-2xl p-4 border border-gray-300 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-xl text-white",style:{background:I.color},children:I.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-semibold text-white mb-1",children:I.name||(r?"Edit Goal":"Your New Goal")}),n.jsxs("div",{className:"text-sm text-gray-400",children:["🏃 ",(ei=tn.find(_=>_.id===I.category))==null?void 0:ei.name," • ",I.targetDate?new Date(I.targetDate).toLocaleDateString():"Not set"]})]})]})})]})]})]}),g==="custom"&&n.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 flex-shrink-0",children:[n.jsx("button",{onClick:O,className:"flex-1 py-4 px-6 bg-transparent border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-semibold hover:bg-gray-100 dark:hover:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-500 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:q,disabled:!G(),className:`flex-1 py-4 px-6 rounded-xl font-semibold transition-all ${G()?"accent-bg-500 hover-accent-bg-dark text-white hover:-translate-y-0.5 shadow-lg shadow-accent":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:G()?r?"Update Goal":"Create Goal":"Enter goal name"})]})]}),n.jsx(sh,{isOpen:$,onClose:()=>F(!1),onSave:cr,editingTask:W,goalColor:I.color}),n.jsx(ch,{isOpen:U,onClose:()=>z(!1),onSave:qn,editingHabit:J,goalColor:I.color})]})}function gh({onNavigate:e}){const[t,r]=T.useState(!1),a=()=>{r(!0)},s=()=>{e("goals"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("openGoalModal"))},100)};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center py-16 px-6 bg-white dark:bg-gray-800 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute top-2 right-8 text-2xl opacity-60 animate-pulse",children:"✨"}),n.jsx("div",{className:"text-8xl mb-4 animate-bounce opacity-80",children:"🌱"})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"Welcome to Kage!"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base leading-relaxed mb-8 max-w-md mx-auto",children:"Your productivity journey starts here. Set meaningful goals, build lasting habits, and track your progress all in one place."}),n.jsx("div",{className:"flex flex-col items-center gap-3 mb-6",children:n.jsx("button",{onClick:a,className:"flex items-center gap-2 px-8 py-4 accent-gradient text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:"🎯 Create Your First Goal"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[n.jsxs("div",{onClick:s,className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 cursor-pointer hover:accent-bg-50 dark:hover:accent-bg-900 hover-accent-border hover:border-solid transition-all",children:[n.jsx("div",{className:"text-3xl mb-2",children:"🎯"}),n.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Set a Goal"})]}),n.jsxs("div",{onClick:()=>e("habits"),className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 cursor-pointer hover:accent-bg-50 dark:hover:accent-bg-900 hover-accent-border hover:border-solid transition-all",children:[n.jsx("div",{className:"text-3xl mb-2",children:"🔄"}),n.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Add Habits"})]}),n.jsxs("div",{onClick:()=>e("tasks"),className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 cursor-pointer hover:accent-bg-50 dark:hover:accent-bg-900 hover-accent-border hover:border-solid transition-all",children:[n.jsx("div",{className:"text-3xl mb-2",children:"✅"}),n.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Create Tasks"})]}),n.jsxs("div",{onClick:()=>e("journal"),className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 cursor-pointer hover:accent-bg-50 dark:hover:accent-bg-900 hover-accent-border hover:border-solid transition-all",children:[n.jsx("div",{className:"text-3xl mb-2",children:"📝"}),n.jsx("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Start Journaling"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"🔗"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Connect goals, habits & tasks"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"📊"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Track your progress visually"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"🎨"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Beautiful, motivating interface"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"🤖"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"AI insights (premium)"})]})]})]}),n.jsx(Qo,{isOpen:t,onClose:()=>r(!1)})]})}function mh({onNavigate:e}){const t=[{id:"goal",icon:"🎯",label:"New Goal",tab:"goals"},{id:"task",icon:"✅",label:"Add Task",tab:"tasks"},{id:"habit",icon:"🔄",label:"Add Habit",tab:"habits"},{id:"journal",icon:"📝",label:"Journal",tab:"journal"}],r=a=>{a==="goals"?window.dispatchEvent(new CustomEvent("openGoalModal")):e(a)};return n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quick Actions"}),n.jsx("div",{className:"accent-gradient rounded-2xl p-5 text-white",children:n.jsx("div",{className:"grid grid-cols-4 gap-3",children:t.map(a=>n.jsxs("button",{onClick:()=>r(a.tab),className:"bg-white/20 backdrop-blur-sm rounded-xl p-4 text-center transition-all duration-200 hover:bg-white/30 hover:scale-105",children:[n.jsx("div",{className:"text-2xl mb-2",children:a.icon}),n.jsx("div",{className:"text-xs font-medium",children:a.label})]},a.id))})})]})}function fh({urgentTasks:e,onTaskToggle:t}){if(e.length===0)return null;const r=s=>s.tags.includes("work")||s.tags.includes("career")?"Career":s.tags.includes("health")||s.tags.includes("fitness")?"Health":s.tags.includes("personal")?"Personal":s.tags.includes("life")?"Life":"General",a=s=>{if(!s.dueDate)return"No due date";const l=new Date,o=new Date(s.dueDate),d=o.toDateString()===l.toDateString();return o<l&&!d?"Overdue":d?"Due today":"Due soon"};return n.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-2xl p-5 dark:bg-gray-800 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:"⚠️"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Urgent"})]}),n.jsxs("span",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:[e.length," item",e.length!==1?"s":""]})]}),n.jsx("div",{className:"space-y-3",children:e.map(s=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-xl border border-orange-100 dark:bg-gray-700 dark:border-gray-600",children:[n.jsx("button",{onClick:()=>t(s.id),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors mt-0.5 ${s.status==="completed"?"bg-orange-500 border-orange-500 text-white":"border-orange-300 hover:border-orange-500"}`,children:s.status==="completed"&&n.jsx("span",{className:"text-xs",children:"✓"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h4",{className:`font-medium text-gray-900 dark:text-white ${s.status==="completed"?"line-through opacity-60":""}`,children:s.name}),n.jsx("span",{className:"text-xs text-orange-600 dark:text-orange-400 whitespace-nowrap",children:a(s)})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-md dark:bg-orange-900/30 dark:text-orange-300",children:r(s)}),s.priority==="urgent"&&n.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-md dark:bg-red-900/30 dark:text-red-300",children:"Urgent"}),s.priority==="high"&&n.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-md dark:bg-yellow-900/30 dark:text-yellow-300",children:"High"})]})]})]},s.id))})]})}function hh({todayTasks:e,onTaskToggle:t}){if(e.length===0)return n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-5 dark:bg-gray-800 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"text-xl",children:"✅"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Today's Tasks"}),n.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"0 of 0"})]}),n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-3xl mb-2",children:"🎉"}),n.jsx("p",{children:"No tasks scheduled for today!"}),n.jsx("p",{className:"text-sm mt-1",children:"Enjoy your free time or add some tasks to stay productive."})]})]});const r=e.filter(o=>o.status==="completed"),a=o=>o.tags.includes("work")||o.tags.includes("career")?"Career":o.tags.includes("health")||o.tags.includes("fitness")?"Health":o.tags.includes("personal")?"Personal":o.tags.includes("life")?"Life":"General",s=o=>o.reminderTime?new Date(o.reminderTime).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):o.priority==="high"||o.priority==="urgent"?"Morning":"Anytime",l=o=>{if(o.reminderTime){const d=new Date(o.reminderTime).getHours();return d<12?"Morning":d<17?"Afternoon":"Evening"}return"Anytime"};return n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-5 dark:bg-gray-800 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:"✅"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Today's Tasks"})]}),n.jsxs("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:[r.length," of ",e.length]})]}),n.jsx("div",{className:"space-y-3",children:e.map(o=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-xl border border-blue-100 dark:bg-gray-700 dark:border-gray-600",children:[n.jsx("button",{onClick:()=>t(o.id),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors mt-0.5 ${o.status==="completed"?"bg-blue-500 border-blue-500 text-white":"border-blue-300 hover:border-blue-500"}`,children:o.status==="completed"&&n.jsx("span",{className:"text-xs",children:"✓"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h4",{className:`font-medium text-gray-900 dark:text-white ${o.status==="completed"?"line-through opacity-60":""}`,children:o.name}),n.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 whitespace-nowrap",children:s(o)})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-md dark:bg-blue-900/30 dark:text-blue-300",children:a(o)}),o.estimatedTime&&n.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md dark:bg-gray-700 dark:text-gray-300",children:[o.estimatedTime,"min"]}),n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-md dark:bg-blue-900/30 dark:text-blue-300",children:l(o)})]})]})]},o.id))})]})}function ph({todayHabits:e,onHabitToggle:t}){const r=ke(new Date);if(e.length===0)return n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-5 dark:bg-gray-800 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"text-xl",children:"🔄"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Today's Habits"}),n.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"0 of 0"})]}),n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-3xl mb-2",children:"🌟"}),n.jsx("p",{children:"No habits scheduled for today!"}),n.jsx("p",{className:"text-sm mt-1",children:"Create some healthy habits to build a better routine."})]})]});const a=e.filter(({isCompleted:d})=>d),s=d=>d.name.toLowerCase().includes("meditat")||d.name.toLowerCase().includes("mindful")?"Wellness":d.name.toLowerCase().includes("exercise")||d.name.toLowerCase().includes("workout")||d.name.toLowerCase().includes("run")?"Fitness":d.name.toLowerCase().includes("read")||d.name.toLowerCase().includes("learn")?"Learning":d.name.toLowerCase().includes("water")||d.name.toLowerCase().includes("sleep")?"Health":"Personal",l=d=>{if(d.scheduledTime){const[i,c]=d.scheduledTime.split(":"),f=parseInt(i),x=f>=12?"PM":"AM";return`${f===0?12:f>12?f-12:f}:${c} ${x}`}return d.name.toLowerCase().includes("morning")||d.name.toLowerCase().includes("meditat")?"7:00 AM":d.name.toLowerCase().includes("evening")||d.name.toLowerCase().includes("journal")?"8:00 PM":"Anytime"},o=d=>d.frequency==="daily"?"Daily":d.frequency==="weekly"?"Weekly":d.frequency==="custom"&&d.customFrequency?`${d.customFrequency.times}x per ${d.customFrequency.period}`:"Custom";return n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-5 dark:bg-gray-800 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:"🔄"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Today's Habits"})]}),n.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[a.length," of ",e.length]})]}),n.jsx("div",{className:"space-y-3",children:e.map(({habit:d,isCompleted:i})=>n.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-xl border border-green-100 dark:bg-gray-700 dark:border-gray-600",children:[n.jsx("button",{onClick:()=>t(d.id,r),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors mt-0.5 ${i?"bg-green-500 border-green-500 text-white":"border-green-300 hover:border-green-500"}`,children:i&&n.jsx("span",{className:"text-xs",children:"✓"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h4",{className:`font-medium text-gray-900 dark:text-white ${i?"line-through opacity-60":""}`,children:d.name}),n.jsx("span",{className:"text-xs text-green-600 dark:text-green-400 whitespace-nowrap",children:l(d)})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-md dark:bg-green-900/30 dark:text-green-300",children:s(d)}),n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md dark:bg-gray-700 dark:text-gray-300",children:o(d)})]})]})]},d.id))})]})}function xh({urgentTasks:e,todayTasks:t,todayHabits:r,onTaskToggle:a,onHabitToggle:s}){return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xl",children:"🎯"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Today's Focus"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(fh,{urgentTasks:e,onTaskToggle:a}),n.jsx(hh,{todayTasks:t,onTaskToggle:a}),n.jsx(ph,{todayHabits:r,onHabitToggle:s})]})]})}function kd({onNavigate:e}){const{hasAnyData:t,getGreeting:r,getCurrentDate:a,getUrgentTasks:s,getTodayTasks:l,getTodayHabits:o}=Zu(),{toggleTask:d}=qe(),{toggleDayCompletion:i}=Pe();if(!t())return n.jsx(gh,{onNavigate:e});const c=r(),f=a(),x=s(),g=l(),m=o(),h=w=>{d(w)},k=(w,y)=>{i(w,y)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:f})]}),n.jsx(mh,{onNavigate:e}),n.jsx(xh,{urgentTasks:x,todayTasks:g,todayHabits:m,onTaskToggle:h,onHabitToggle:k})]})}function yh(){const{openModal:e,modalState:t,closeModal:r}=Je();return n.jsxs("div",{className:"text-center py-16 px-6 bg-white dark:bg-gray-800 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute top-2 right-8 text-2xl opacity-60 animate-pulse",children:"🌟"}),n.jsx("div",{className:"text-8xl mb-4 animate-bounce opacity-80",children:"🎯"})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Goals Yet"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base leading-relaxed mb-8 max-w-md mx-auto",children:"Goals give direction to your daily actions. Start by setting a meaningful goal that excites you and breaks it down into manageable tasks and habits."}),n.jsx("div",{className:"flex flex-col items-center gap-3 mb-6",children:n.jsx("button",{onClick:()=>e(),className:"flex items-center gap-2 px-8 py-4 accent-gradient text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:"✨ Create Your First Goal"})}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 mb-8",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3 text-center",children:"💡 Popular Goal Ideas"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🏃"})," Get fit and healthy"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"📚"})," Learn a new language"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🚀"})," Launch a side project"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🧘"})," Develop mindfulness practice"]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl p-5 text-white text-center",children:[n.jsx("div",{className:"text-base italic mb-2 opacity-90",children:'"A goal is a dream with a deadline."'}),n.jsx("div",{className:"text-xs opacity-70",children:"— Napoleon Hill"})]}),n.jsx(Qo,{isOpen:t.isOpen,onClose:r})]})}function vh({goal:e,viewMode:t,onClick:r}){const{selectGoal:a}=Je(),{habits:s,isHabitCompletedToday:l}=Pe(),o=e.targetDate&&new Date(e.targetDate)<new Date&&!e.isCompleted,d=()=>{a(e),r&&r()},i=g=>{if(!g)return"No deadline";const m=new Date(g),h=new Date,k=m.getTime()-h.getTime(),w=Math.ceil(k/(1e3*60*60*24));return w<0?`${Math.abs(w)} days overdue`:w===0?"Due today":w===1?"Due tomorrow":w<=7?`${w} days left`:m.toLocaleDateString("en-US",{month:"short",day:"numeric",year:m.getFullYear()!==h.getFullYear()?"numeric":void 0})},c=()=>e.isCompleted?"from-green-500 to-green-600":o?"from-red-500 to-red-600":e.color,x=(()=>{const g=s.filter(k=>k.goalId===e.id),m=g.length;if(m>0&&console.log(`🎯 Goal "${e.name}" has ${m} linked habits:`,g.map(k=>k.name)),m===0)return{completed:0,total:0};const h=g.filter(k=>{const w=l(k.id);return w&&console.log(`✅ Habit "${k.name}" completed today`),w}).length;return console.log(`🎯 Goal "${e.name}" habit progress: ${h}/${m}`),{completed:h,total:m}})();return n.jsxs("div",{onClick:d,className:`bg-white dark:bg-gray-800 rounded-2xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm cursor-pointer transition-all duration-300 hover:shadow-lg hover:-translate-y-1 relative border-l-4 ${e.isCompleted?"opacity-75":""} ${o?"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20":""}`,style:{borderLeftColor:e.isCompleted?"#22c55e":o?"#ef4444":e.color.includes("linear-gradient")?e.color.replace("linear-gradient(135deg, ","").replace(")","").split(", ")[0]:e.color},children:[n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-xl text-white flex-shrink-0",style:{background:e.color},children:e.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h3",{className:`font-bold text-gray-900 dark:text-white mb-1 line-clamp-2 ${t==="grid"?"text-lg":"text-xl"}`,children:[e.name,e.isCompleted&&n.jsx("span",{className:"ml-2 text-green-500",children:"✓"})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm line-clamp-2 leading-relaxed",children:e.description})]}),n.jsx("div",{className:`text-xs px-2 py-1 rounded-lg whitespace-nowrap ${o?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":e.isCompleted?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:i(e.targetDate)})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Progress"}),n.jsxs("span",{className:"text-sm font-bold",style:{color:e.isCompleted?"#22c55e":e.color},children:[Math.round(e.progress.percentage),"%"]})]}),n.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${e.isCompleted||o?`bg-gradient-to-r ${c()}`:""}`,style:{width:`${Math.min(e.progress.percentage,100)}%`,backgroundColor:e.isCompleted||o?void 0:e.color}})})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[n.jsx("span",{className:"text-base",children:"✅"}),n.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[e.progress.tasksCompleted,"/",e.progress.tasksTotal]}),n.jsx("span",{children:"tasks"})]}),n.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[n.jsx("span",{className:"text-base",children:"🔄"}),n.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white",children:[x.completed,"/",x.total]}),n.jsx("span",{children:"habits"})]}),e.progress.currentStreak>0&&n.jsxs("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[n.jsx("span",{className:"text-base",children:"🔥"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.progress.currentStreak}),n.jsx("span",{children:"day streak"})]}),e.priority==="high"||e.priority==="critical"&&n.jsxs("div",{className:`ml-auto px-2 py-1 rounded-lg text-xs font-medium ${e.priority==="critical"?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:[e.priority==="critical"?"🚨":"⚡"," ",e.priority]})]}),t==="list"&&e.motivation&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100 dark:border-gray-700",children:n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic line-clamp-1",children:['"',e.motivation,'"']})}),e.tags.length>0&&n.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(g=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:["#",g]},g)),e.tags.length>3&&n.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-md",children:["+",e.tags.length-3]})]})]})}function Yo({isOpen:e,onClose:t,onSubmit:r,editingTask:a,defaultGoalId:s}){const{getActiveGoals:l}=Je(),{addTimeBlock:o}=Ve(),d=l(),[i,c]=T.useState("standard"),[f,x]=T.useState(!1),[g,m]=T.useState({name:"",description:"",priority:"medium",dueDate:"",dueTime:"",goalId:s||"",estimatedTime:"",location:"",reminderTime:"",notes:"",tags:[],subtasks:[],shoppingItems:[{name:"",quantity:""}],isRecurring:!1,recurrenceType:"weekly",recurrenceInterval:1,recurrenceStartDate:"",recurrenceEndDate:"",addToCalendar:!1,calendarStartTime:"09:00",calendarDuration:60,calendarDate:""}),h=()=>{c("standard"),x(!1),m({name:"",description:"",priority:"medium",dueDate:"",dueTime:"",goalId:s||"",estimatedTime:"",location:"",reminderTime:"",notes:"",tags:[],subtasks:[],shoppingItems:[{name:"",quantity:""}],isRecurring:!1,recurrenceType:"weekly",recurrenceInterval:1,recurrenceStartDate:"",recurrenceEndDate:"",addToCalendar:!1,calendarStartTime:"09:00",calendarDuration:60,calendarDate:""})};T.useEffect(()=>{var b,j;e&&a?(c(a.type||"standard"),m({name:a.name||"",description:a.description||"",priority:a.priority||"medium",dueDate:a.dueDate?new Date(a.dueDate).toISOString().split("T")[0]:"",dueTime:a.dueDate?new Date(a.dueDate).toISOString().split("T")[1].substring(0,5):"",goalId:a.goalId||"",estimatedTime:a.estimatedTime?a.estimatedTime.toString():"",location:a.location||"",reminderTime:a.reminderTime?new Date(a.reminderTime).toISOString().split("T")[1].substring(0,5):"",notes:a.notes||"",tags:a.tags||[],subtasks:(b=a.subtasks)!=null&&b.length?a.subtasks.map(L=>L.name||""):[],shoppingItems:(j=a.shoppingItems)!=null&&j.length?a.shoppingItems:[{name:"",quantity:""}],isRecurring:a.isRecurring||!1,recurrenceType:a.recurrenceType||"weekly",recurrenceInterval:a.recurrenceInterval||1,recurrenceStartDate:a.recurrenceStartDate||"",recurrenceEndDate:a.recurrenceEndDate||"",addToCalendar:a.addToCalendar||!1,calendarStartTime:a.calendarStartTime||"09:00",calendarDuration:a.calendarDuration||60,calendarDate:a.calendarDate||""})):e&&!a&&h()},[e,a]);const k=()=>{h(),t()},w=b=>{b.preventDefault();let j;if(i==="deadline"&&g.dueDate){const $=g.dueTime?`${g.dueDate}T${g.dueTime}`:`${g.dueDate}T00:00`;j=new Date($)}else g.isRecurring&&g.recurrenceStartDate&&(j=new Date(g.recurrenceStartDate));const L={...g,type:i,dueDate:j,subtasks:g.subtasks.filter($=>$&&$.trim()!=="").map($=>$.trim()),shoppingItems:i==="to-buy"?g.shoppingItems.filter($=>$.name&&$.name.trim()!==""):[]};console.log("📋 TaskCreationModal: Submitting task data:",{taskName:L.name,taskType:i,addToCalendar:L.addToCalendar,calendarDate:L.calendarDate,calendarStartTime:L.calendarStartTime,calendarDuration:L.calendarDuration,isRecurring:L.isRecurring,recurrenceStartDate:L.recurrenceStartDate,dueDate:L.dueDate}),i==="deadline"&&g.dueDate&&g.dueTime&&!a&&(console.log("Creating calendar entry:",{date:g.dueDate,time:g.dueTime,name:g.name}),o({title:g.name,description:g.description||"Task deadline",date:g.dueDate,startTime:g.dueTime,durationMinutes:parseInt(g.estimatedTime)||60,blockType:"admin",icon:"📋",color:"linear-gradient(135deg, #EF4444, #DC2626)",linkedItemType:"task",linkedItemId:L.name})),r(L),k()},y=()=>{m(b=>({...b,subtasks:[...b.subtasks,""]}))},u=b=>{m(j=>({...j,subtasks:j.subtasks.filter((L,$)=>$!==b)}))},p=(b,j)=>{m(L=>({...L,subtasks:L.subtasks.map(($,F)=>F===b?j:$)}))},v=()=>{m(b=>({...b,shoppingItems:[...b.shoppingItems,{name:"",quantity:""}]}))},N=b=>{m(j=>({...j,shoppingItems:j.shoppingItems.filter((L,$)=>$!==b)}))},S=(b,j,L)=>{m($=>({...$,shoppingItems:$.shoppingItems.map((F,U)=>U===b?{...F,[j]:L}:F)}))};return e?n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-3 sm:p-4 md:p-5",children:n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm sm:max-w-md lg:max-w-lg max-h-[90vh] overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300 text-gray-900 dark:text-white",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a?"Edit Task":"New Task"}),n.jsx("button",{onClick:k,className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n.jsx(gt,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),n.jsxs("form",{onSubmit:w,className:"overflow-y-auto max-h-[calc(90vh-140px)] scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Task Type"}),n.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[{id:"standard",label:"Standard",icon:sr,color:"bg-blue-50 border-blue-200 text-blue-700",desc:"Regular task with optional subtasks"},{id:"to-buy",label:"To-Buy",icon:Vl,color:"bg-amber-50 border-amber-200 text-amber-700",desc:"Shopping list with quantities"},{id:"deadline",label:"Deadline",icon:An,color:"bg-red-50 border-red-200 text-red-700",desc:"Time-sensitive task"}].map(b=>{const j=b.icon;return n.jsxs("button",{type:"button",onClick:()=>c(b.id),className:`p-3 rounded-xl border-2 transition-all text-center min-h-[80px] flex flex-col justify-center items-center ${i===b.id?`${b.color} border-opacity-100`:"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(j,{className:"w-5 h-5 mx-auto mb-1"}),n.jsx("div",{className:"text-xs font-medium mb-1",children:b.label}),n.jsx("div",{className:"text-xs opacity-75 leading-tight",children:b.desc})]},b.id)})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Task Name *"}),n.jsx("input",{type:"text",required:!0,value:g.name,onChange:b=>m(j=>({...j,name:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"What needs to be done?"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),n.jsx("textarea",{value:g.description,onChange:b=>m(j=>({...j,description:b.target.value})),rows:3,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Add more details..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Priority"}),n.jsx("div",{className:"grid grid-cols-4 gap-2 overflow-x-auto",children:[{id:"low",label:"Low",color:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200"},{id:"medium",label:"Medium",color:"bg-blue-100 text-blue-700"},{id:"high",label:"High",color:"bg-amber-100 text-amber-700"},{id:"urgent",label:"Urgent",color:"bg-red-100 text-red-700"}].map(b=>n.jsx("button",{type:"button",onClick:()=>m(j=>({...j,priority:b.id})),className:`py-2 px-3 rounded-lg text-xs font-medium transition-all whitespace-nowrap min-w-[60px] flex-shrink-0 text-center ${g.priority===b.id?`${b.color} ring-2 ring-offset-1 accent-ring-300`:"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:b.label},b.id))})]}),i==="deadline"&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Due Date"}),n.jsx("input",{type:"date",value:g.dueDate,onChange:b=>m(j=>({...j,dueDate:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Due Time"}),n.jsx("input",{type:"time",value:g.dueTime,onChange:b=>m(j=>({...j,dueTime:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Link to Goal"}),n.jsxs("select",{value:g.goalId,onChange:b=>m(j=>({...j,goalId:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",children:[n.jsx("option",{value:"",children:"No goal selected"}),d.length===0?n.jsx("option",{value:"",disabled:!0,children:"No goals available - create a goal first"}):d.map(b=>n.jsxs("option",{value:b.id,children:[b.icon," ",b.name]},b.id))]}),d.length===0&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"💡 Create your first goal to link tasks and track progress!"})]}),i==="to-buy"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Shopping Items"}),n.jsxs("button",{type:"button",onClick:v,className:"accent-text-600 hover-accent-text-dark text-sm font-medium flex items-center gap-1",children:[n.jsx(at,{className:"w-4 h-4"}),"Add Item"]})]}),n.jsx("div",{className:"space-y-3",children:g.shoppingItems.map((b,j)=>n.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-xl",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:b.quantity,onChange:L=>S(j,"quantity",L.target.value),placeholder:"Qty",className:"w-16 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus-accent-ring focus-accent-border outline-none text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),n.jsx("input",{type:"text",value:b.name,onChange:L=>S(j,"name",L.target.value),placeholder:"Item name",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus-accent-ring focus-accent-border outline-none text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),g.shoppingItems.length>1&&n.jsx("button",{type:"button",onClick:()=>N(j),className:"text-red-500 hover:text-red-700 p-1",children:n.jsx(ut,{className:"w-4 h-4"})})]})},j))})]}),i!=="to-buy"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Subtasks"}),n.jsxs("button",{type:"button",onClick:y,className:"accent-text-600 hover-accent-text-dark text-sm font-medium flex items-center gap-1",children:[n.jsx(at,{className:"w-4 h-4"}),"Add Subtask"]})]}),n.jsx("div",{className:"space-y-2",children:g.subtasks.length===0?n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-2",children:'No subtasks added. Click "Add Subtask" to break this task into smaller steps.'}):g.subtasks.map((b,j)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:b,onChange:L=>p(j,L.target.value),placeholder:`Subtask ${j+1}`,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus-accent-ring focus-accent-border outline-none text-sm bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"}),n.jsx("button",{type:"button",onClick:()=>u(j),className:"text-red-500 hover:text-red-700 p-1",children:n.jsx(ut,{className:"w-4 h-4"})})]},j))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Notes"}),n.jsx("textarea",{value:g.notes,onChange:b=>m(j=>({...j,notes:b.target.value})),rows:2,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Additional notes or reminders..."})]}),n.jsxs("div",{children:[n.jsxs("button",{type:"button",onClick:()=>x(!f),className:"flex items-center gap-3 w-full p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors",children:[n.jsx("span",{className:"text-lg",children:"⚙️"}),n.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Advanced Settings"}),n.jsx("span",{className:`ml-auto transition-transform ${f?"rotate-90":""}`,children:"▶"})]}),f&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[n.jsx("span",{className:"text-lg",children:"🔁"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Repeat Task"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create recurring instances of this task"})]}),n.jsx("button",{type:"button",onClick:()=>m(b=>({...b,isRecurring:!b.isRecurring})),className:`relative w-12 h-6 rounded-full transition-colors ${g.isRecurring?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"}`,children:n.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full transition-transform top-0.5 ${g.isRecurring?"translate-x-6":"translate-x-0.5"}`})})]}),g.isRecurring&&n.jsxs("div",{className:"mt-3 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg space-y-4 border border-orange-200 dark:border-orange-800",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 dark:text-orange-300 mb-2",children:"Repeat"}),n.jsxs("select",{value:g.recurrenceType,onChange:b=>m(j=>({...j,recurrenceType:b.target.value})),className:"w-full px-3 py-2 border border-orange-300 dark:border-orange-700 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"daily",children:"Daily"}),n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 dark:text-orange-300 mb-2",children:"Every"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",min:"1",max:"30",placeholder:"1",value:g.recurrenceInterval!==1?g.recurrenceInterval:"",onChange:b=>m(j=>({...j,recurrenceInterval:parseInt(b.target.value)||1})),className:"w-20 px-3 py-2 border border-orange-300 dark:border-orange-700 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}),n.jsxs("span",{className:"text-sm text-orange-600 dark:text-orange-400",children:[g.recurrenceType==="daily"&&"day(s)",g.recurrenceType==="weekly"&&"week(s)",g.recurrenceType==="monthly"&&"month(s)"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 dark:text-orange-300 mb-2",children:"Start Date"}),n.jsx("input",{type:"date",value:g.recurrenceStartDate,onChange:b=>m(j=>({...j,recurrenceStartDate:b.target.value})),className:"w-full px-3 py-2 border border-orange-300 dark:border-orange-700 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 dark:text-orange-300 mb-2",children:"End Date (Optional)"}),n.jsx("input",{type:"date",value:g.recurrenceEndDate,onChange:b=>m(j=>({...j,recurrenceEndDate:b.target.value})),className:"w-full px-3 py-2 border border-orange-300 dark:border-orange-700 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 rounded-lg transition-colors",children:[n.jsx("span",{className:"text-lg",children:"📅"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Add to Calendar"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create calendar time blocks for this task"})]}),n.jsx("button",{type:"button",onClick:()=>m(b=>({...b,addToCalendar:!b.addToCalendar,calendarDate:!b.addToCalendar&&!b.calendarDate&&!b.isRecurring?new Date().toISOString().split("T")[0]:b.calendarDate})),className:`relative w-12 h-6 rounded-full transition-colors ${g.addToCalendar?"bg-purple-500":"bg-gray-300 dark:bg-gray-600"}`,children:n.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full transition-transform top-0.5 ${g.addToCalendar?"translate-x-6":"translate-x-0.5"}`})})]}),g.addToCalendar&&n.jsxs("div",{className:"mt-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg space-y-4 border border-purple-200 dark:border-purple-800",children:[!g.isRecurring&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"Calendar Date"}),n.jsx("input",{type:"date",value:g.calendarDate,onChange:b=>m(j=>({...j,calendarDate:b.target.value})),className:"w-full px-3 py-2 border border-purple-300 dark:border-purple-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0}),n.jsx("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:"Required for calendar integration"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"Start Time"}),n.jsx("input",{type:"time",value:g.calendarStartTime,onChange:b=>m(j=>({...j,calendarStartTime:b.target.value})),className:"w-full px-3 py-2 border border-purple-300 dark:border-purple-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"Duration (minutes)"}),n.jsx("input",{type:"number",min:"15",max:"480",step:"15",placeholder:"60",value:g.calendarDuration!==60?g.calendarDuration:"",onChange:b=>m(j=>({...j,calendarDuration:parseInt(b.target.value)||60})),className:"w-full px-3 py-2 border border-purple-300 dark:border-purple-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]})]}),n.jsxs("div",{className:"p-3 bg-white dark:bg-gray-800 rounded-lg border border-purple-200 dark:border-purple-700",children:[n.jsx("div",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 mb-1",children:"Calendar Preview"}),n.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gradient-to-r from-purple-500 to-blue-500 text-white",children:[n.jsx("span",{className:"text-lg",children:"📋"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold text-sm",children:g.name||"Task Name"}),n.jsxs("div",{className:"text-xs opacity-90",children:[g.calendarStartTime," - ",(()=>{if(!g.calendarStartTime)return"";const[b,j]=g.calendarStartTime.split(":").map(Number),L=b*60+j+g.calendarDuration,$=Math.floor(L/60)%24,F=L%60;return`${$.toString().padStart(2,"0")}:${F.toString().padStart(2,"0")}`})()," (",g.calendarDuration,"min)"]})]})]})]})]})]})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex gap-3",children:[n.jsx("button",{type:"button",onClick:k,className:"flex-1 py-3 px-4 border border-gray-300 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 py-3 px-4 accent-gradient text-white rounded-xl font-medium hover:accent-gradient-dark transition-all shadow-lg hover:shadow-xl",children:a?"Update Task":"Create Task"})]})]})]})}):null}const bh=["💪","🏃","💧","📚","🧘","🥗","💰","🌅","📝","🎨","🎵","🌱","🏠","👥","🎯","⚡","🔥","✨","🌟","🎈","🎊","🎉","🏆","💎"],Ys=["#FF7101","#2196F3","#4CAF50","#9C27B0","#E91E63","#FBC02D","#607D8B"],kh=[{id:"daily",name:"Daily",desc:"Every day"},{id:"weekly",name:"Weekly",desc:"Select days"},{id:"custom",name:"Custom",desc:"X times per period"}],wh=[{id:"mon",label:"M",full:"Monday"},{id:"tue",label:"T",full:"Tuesday"},{id:"wed",label:"W",full:"Wednesday"},{id:"thu",label:"T",full:"Thursday"},{id:"fri",label:"F",full:"Friday"},{id:"sat",label:"S",full:"Saturday"},{id:"sun",label:"S",full:"Sunday"}];function Yl({isOpen:e,onClose:t,editingHabit:r,defaultGoalId:a}){var u,p;const{addHabit:s,updateHabit:l,changeHabitFrequency:o}=Pe(),{getActiveGoals:d}=Je(),i=d(),[c,f]=T.useState(!1),[x,g]=T.useState(!1),[m,h]=T.useState({name:"",description:"",icon:"🎯",color:Ys[0],measurementType:"simple",frequency:"daily",selectedDays:[],calendarIntegration:!1,targetUnit:"units",goalId:a||""});T.useEffect(()=>{e&&(r?(h({name:r.name,description:r.description||"",icon:r.icon,color:r.color,measurementType:r.measurementType,frequency:r.frequency,selectedDays:r.selectedDays||[],calendarIntegration:r.calendarIntegration||!1,targetUnit:r.targetUnit||"units",targetAmount:r.targetAmount,customFrequency:r.customFrequency,startDate:r.startDate||new Date().toISOString().split("T")[0],scheduledTime:r.scheduledTime||"09:00",reminderMinutes:r.reminderMinutes,goalId:r.goalId||""}),g(r.calendarIntegration||!1)):(h({name:"",description:"",icon:"🎯",color:Ys[0],measurementType:"simple",frequency:"daily",selectedDays:[],calendarIntegration:!1,targetUnit:"units",startDate:new Date().toISOString().split("T")[0],scheduledTime:"09:00",goalId:a||""}),g(!1)),f(!1))},[e,r,a]);const k=()=>{var v;return!(!m.name.trim()||m.frequency==="weekly"&&m.selectedDays.length===0||m.frequency==="custom"&&(!((v=m.customFrequency)!=null&&v.times)||m.customFrequency.times<1))},w=()=>{if(k()){if(r)if(r.frequency!==m.frequency||JSON.stringify(r.selectedDays)!==JSON.stringify(m.selectedDays)||JSON.stringify(r.customFrequency)!==JSON.stringify(m.customFrequency)){o(r.id,m.frequency,m.selectedDays,m.customFrequency,"User changed frequency settings");const{frequency:N,selectedDays:S,customFrequency:b,...j}=m;l(r.id,j)}else l(r.id,m);else s(m);t()}},y=v=>{const N=m.selectedDays||[];if(N.includes(v)){const S=N.filter(b=>b!==v);h({...m,selectedDays:S})}else{const S=[...N,v];h({...m,selectedDays:S})}};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-3 sm:p-4 md:p-5",children:n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl w-full max-w-sm sm:max-w-md md:max-w-lg max-h-[90vh] overflow-hidden text-gray-900 dark:text-white animate-in slide-in-from-bottom-4 duration-300 shadow-2xl flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[n.jsx("h2",{className:"text-2xl font-bold",children:r?"Edit Habit":"New Habit"}),n.jsx("button",{onClick:t,className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white transition-colors",children:"✕"})]}),n.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("div",{onClick:()=>f(!c),className:"w-24 h-24 mx-auto mb-4 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center text-4xl cursor-pointer hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors border-3 border-transparent",style:m.icon!=="🎯"?{background:m.color,borderColor:"var(--accent-color)"}:{},children:m.icon}),c&&n.jsx("div",{className:"grid grid-cols-8 gap-2 p-4 bg-gray-100 dark:bg-gray-800 rounded-xl mt-4 max-h-48 overflow-y-auto",children:bh.map(v=>n.jsx("button",{onClick:()=>{h({...m,icon:v}),f(!1)},className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center text-xl transition-colors",children:v},v))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Name *"}),n.jsx("input",{type:"text",value:m.name,onChange:v=>h({...m,name:v.target.value}),placeholder:"What habit do you want to build?",maxLength:50,className:"w-full p-3 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus-accent-border transition-colors"})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),n.jsx("textarea",{value:m.description,onChange:v=>h({...m,description:v.target.value}),placeholder:"Why is this habit important to you?",maxLength:200,className:"w-full p-3 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus-accent-border transition-colors min-h-20 resize-y"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color *"}),n.jsx("div",{className:"grid grid-cols-7 gap-3",children:Ys.map(v=>n.jsx("button",{onClick:()=>h({...m,color:v}),className:`w-12 h-12 rounded-xl border-3 transition-all hover:scale-110 ${m.color===v?"border-white shadow-lg shadow-accent":"border-transparent"}`,style:{background:v},children:m.color===v&&n.jsx("span",{className:"text-white font-bold",children:"✓"})},v))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Link to Goal"}),n.jsxs("select",{value:m.goalId||"",onChange:v=>h({...m,goalId:v.target.value}),className:"w-full p-3 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white focus:outline-none focus-accent-border transition-colors",children:[n.jsx("option",{value:"",children:"No goal selected"}),i.length===0?n.jsx("option",{value:"",disabled:!0,children:"No goals available - create a goal first"}):i.map(v=>n.jsxs("option",{value:v.id,children:[v.icon," ",v.name]},v.id))]}),i.length===0&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"💡 Create your first goal to link habits and track progress!"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Frequency *"}),n.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:kh.map(v=>n.jsxs("button",{onClick:()=>h({...m,frequency:v.id,selectedDays:[]}),className:`p-3 border-2 rounded-lg text-center transition-all ${m.frequency===v.id?"accent-border-500 accent-bg-50 accent-text-500":"border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-600"}`,children:[n.jsx("div",{className:"font-semibold text-sm mb-1",children:v.name}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:v.desc})]},v.id))}),m.frequency==="weekly"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Select Days *"}),n.jsx("div",{className:"grid grid-cols-7 gap-2",children:wh.map(v=>{var N;return n.jsx("button",{onClick:()=>y(v.id),className:`p-2 border-2 rounded-lg text-center text-sm font-semibold transition-all ${(N=m.selectedDays)!=null&&N.includes(v.id)?"accent-border-500 accent-bg-500 text-white":"border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 hover:border-gray-400 dark:hover:border-gray-600"}`,children:v.label},v.id)})})]}),m.frequency==="custom"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Custom Frequency *"}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsx("input",{type:"number",value:((u=m.customFrequency)==null?void 0:u.times)||"",onChange:v=>{var N;return h({...m,customFrequency:{times:parseInt(v.target.value)||1,period:((N=m.customFrequency)==null?void 0:N.period)||"week"}})},placeholder:"3",min:"1",max:"7",className:"w-16 p-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white text-center focus:outline-none focus-accent-border"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"times per"}),n.jsxs("select",{value:((p=m.customFrequency)==null?void 0:p.period)||"week",onChange:v=>{var N;return h({...m,customFrequency:{times:((N=m.customFrequency)==null?void 0:N.times)||1,period:v.target.value}})},className:"p-2 bg-white dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus-accent-border",children:[n.jsx("option",{value:"week",children:"week"}),n.jsx("option",{value:"month",children:"month"})]})]})]})]}),m.frequency!=="custom"&&n.jsxs("div",{className:"mb-6",children:[n.jsxs("button",{onClick:()=>g(!x),className:"w-full flex items-center justify-between p-4 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-xl transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-xl",children:"📅"}),n.jsx("span",{className:"font-semibold",children:"Scheduling"})]}),n.jsx("span",{className:`transition-transform ${x?"rotate-90":""}`,children:"▶"})]}),x&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-100 dark:bg-gray-800 rounded-xl space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),n.jsx("input",{type:"date",value:m.startDate||"",onChange:v=>h({...m,startDate:v.target.value}),className:"w-full p-2 bg-white dark:bg-gray-900 border-2 border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus-accent-border"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Time"}),n.jsx("input",{type:"time",value:m.scheduledTime||"09:00",onChange:v=>h({...m,scheduledTime:v.target.value}),className:"w-full p-2 bg-white dark:bg-gray-900 border-2 border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus-accent-border"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Reminder"}),n.jsxs("select",{value:m.reminderMinutes||"",onChange:v=>h({...m,reminderMinutes:parseInt(v.target.value)||void 0}),className:"w-full p-2 bg-white dark:bg-gray-900 border-2 border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus-accent-border",children:[n.jsx("option",{value:"",children:"No reminder"}),n.jsx("option",{value:"0",children:"At time of habit"}),n.jsx("option",{value:"5",children:"5 minutes before"}),n.jsx("option",{value:"15",children:"15 minutes before"}),n.jsx("option",{value:"30",children:"30 minutes before"}),n.jsx("option",{value:"60",children:"1 hour before"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-lg",children:"📅"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Add to Calendar"}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Create time blocks in your calendar"})]})]}),n.jsx("button",{type:"button",onClick:()=>h({...m,calendarIntegration:!m.calendarIntegration}),className:`w-12 h-6 rounded-full transition-all duration-200 relative ${m.calendarIntegration?"accent-bg-500":"bg-gray-300 dark:bg-gray-600"}`,children:n.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-lg transform transition-transform duration-200 absolute top-0.5 ${m.calendarIntegration?"translate-x-6":"translate-x-0.5"}`})})]})]})]})]}),n.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("button",{onClick:t,className:"flex-1 p-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 rounded-xl font-semibold transition-colors",children:"Cancel"}),n.jsx("button",{onClick:w,disabled:!k(),className:`flex-1 p-3 rounded-xl font-semibold transition-all ${k()?"accent-bg-500 hover-accent-bg-dark text-white hover:-translate-y-0.5 shadow-lg shadow-accent":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:r?"Update Habit":"Create Habit"})]})]})}):null}const Kl=[{id:"very-low",emoji:"😢",label:"Very Low",color:"text-red-600"},{id:"low",emoji:"😕",label:"Low",color:"text-orange-600"},{id:"neutral",emoji:"😐",label:"Neutral",color:"text-gray-600"},{id:"good",emoji:"😊",label:"Good",color:"text-green-600"},{id:"great",emoji:"🤩",label:"Great",color:"text-blue-600"}],wd=[{id:"goals",icon:"🎯",label:"Goals",color:"bg-blue-50 text-blue-700 border-blue-200"},{id:"tasks",icon:"✅",label:"Tasks",color:"bg-green-50 text-green-700 border-green-200"},{id:"habits",icon:"🔄",label:"Habits",color:"bg-purple-50 text-purple-700 border-purple-200"}];function jh({isOpen:e,onClose:t,items:r,selectedItems:a,onItemSelect:s,onItemDeselect:l,title:o,icon:d,emptyMessage:i="No items available",searchPlaceholder:c="Search items..."}){const[f,x]=T.useState(""),[g,m]=T.useState(-1),h=T.useRef(null),k=T.useRef(null),w=T.useRef([]);T.useEffect(()=>{e&&k.current&&k.current.focus()},[e]),T.useEffect(()=>{const p=N=>{h.current&&!h.current.contains(N.target)&&(N.target.closest("[data-dropdown-toggle]")||t())},v=N=>{if(N.key==="Escape")t();else if(N.key==="ArrowDown")N.preventDefault(),m(S=>S<y.length-1?S+1:0);else if(N.key==="ArrowUp")N.preventDefault(),m(S=>S>0?S-1:y.length-1);else if(N.key==="Enter"&&g>=0){N.preventDefault();const S=y[g];S&&u(S)}};return e&&(document.addEventListener("mousedown",p),document.addEventListener("keydown",v)),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("keydown",v)}},[e,t]);const y=r.filter(p=>p.name.toLowerCase().includes(f.toLowerCase())||p.description&&p.description.toLowerCase().includes(f.toLowerCase()));T.useEffect(()=>{m(-1)},[f]),T.useEffect(()=>{var p;g>=0&&w.current[g]&&((p=w.current[g])==null||p.focus())},[g]);const u=p=>{a.includes(p.id)?l(p.id):s(p.id)};return e?n.jsxs("div",{ref:h,className:"w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg max-h-64 overflow-hidden",role:"listbox","aria-label":`Select ${o}`,"aria-multiselectable":"true",onClick:p=>p.stopPropagation(),children:[n.jsxs("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-lg",children:d}),n.jsxs("span",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:["Select ",o]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(qu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{ref:k,type:"text",value:f,onChange:p=>x(p.target.value),placeholder:c,className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus-accent-ring focus-accent-border outline-none"})]})]}),n.jsx("div",{className:"max-h-48 overflow-y-auto",children:y.length===0?n.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400 text-sm",children:f?`No ${o.toLowerCase()} found matching "${f}"`:i}):n.jsx("div",{className:"p-2",children:y.map((p,v)=>{const N=a.includes(p.id),S=v===g;return n.jsxs("button",{ref:b=>w.current[v]=b,onClick:b=>{b.preventDefault(),b.stopPropagation(),u(p)},onMouseEnter:()=>m(v),className:`w-full flex items-center gap-3 p-2 rounded-lg text-left transition-colors ${N?"accent-bg-50 dark:accent-bg-900 accent-border-200 border":S?"bg-gray-100 dark:bg-gray-600":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,"aria-selected":N,role:"option",children:[n.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${N?"accent-bg-500 accent-border-500":"border-gray-300 dark:border-gray-600"}`,children:N&&n.jsx(Ja,{className:"w-3 h-3 text-white"})}),p.icon&&n.jsx("span",{className:"text-lg flex-shrink-0",children:p.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:`font-medium text-sm truncate ${N?"accent-text-700 dark:accent-text-300":"text-gray-900 dark:text-white"}`,children:p.name}),p.isCompleted!==void 0&&n.jsx("span",{className:`text-xs px-2 py-1 rounded-full flex-shrink-0 ml-2 ${p.isCompleted?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:p.isCompleted?"Complete":"In Progress"}),p.progress!==void 0&&n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0 ml-2",children:[Math.round(p.progress),"%"]})]}),p.description&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:p.description})]})]},p.id)})})}),y.length>0&&n.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:[a.length," of ",r.length," selected"]})})]}):null}function Jl({isOpen:e,onClose:t,defaultGoalId:r}){const{addEntry:a,updateEntry:s,selectedEntry:l,isAutoSaving:o,setAutoSaving:d}=Ln(),{tasks:i}=qe(),{getActiveGoals:c}=Je(),{habits:f}=Pe(),x=c(),g=f,[m,h]=T.useState({content:"",mood:void 0,tags:[],linkedGoals:r?[r]:[],linkedTasks:[],linkedHabits:[]}),[k,w]=T.useState(0),[y,u]=T.useState(new Set),[p,v]=T.useState(""),[N,S]=T.useState(null),[b,j]=T.useState(null),L=T.useRef(null),$=E=>{switch(E){case"goals":return x.map(P=>{var D;return{id:P.id,name:P.name,icon:P.icon,color:P.color,description:P.description,progress:((D=P.progress)==null?void 0:D.percentage)||0,isCompleted:P.isCompleted}});case"tasks":return i.map(P=>({id:P.id,name:P.name,icon:"✅",description:P.description,isCompleted:P.status==="completed"}));case"habits":return g.map(P=>({id:P.id,name:P.name,icon:P.icon,color:P.color,description:P.description,progress:P.streak}));default:return[]}};T.useEffect(()=>{var E;if(e){if(l){h({content:l.content,mood:l.mood,tags:l.tags,linkedGoals:l.linkedGoals,linkedTasks:l.linkedTasks,linkedHabits:l.linkedHabits}),w(l.content.length),v(l.tags.join(", "));const P=new Set;l.linkedGoals.length>0&&P.add("goals"),l.linkedTasks.length>0&&P.add("tasks"),l.linkedHabits.length>0&&P.add("habits"),u(P)}else F();(E=L.current)==null||E.focus()}},[e,l]);const F=()=>{h({content:"",mood:void 0,tags:[],linkedGoals:r?[r]:[],linkedTasks:[],linkedHabits:[]}),w(0),u(r?new Set(["goals"]):new Set),v(""),j(null),N&&(clearTimeout(N),S(null))},U=()=>{N&&clearTimeout(N),F(),t()},z=E=>{if(h(P=>({...P,content:E})),w(E.length),l){N&&clearTimeout(N),d(!0);const P=setTimeout(()=>{s(l.id,{content:E}),d(!1)},1500);S(P)}},W=E=>{h(P=>({...P,mood:E}))},H=E=>{v(E);const P=E.split(",").map(D=>D.trim()).filter(D=>D!=="");h(D=>({...D,tags:P}))},J=E=>{j(b===E?null:E)},re=(E,P)=>{const D=`linked${E.charAt(0).toUpperCase()+E.slice(1)}`,q=m[D];if(!q.includes(P)&&(h(G=>({...G,[D]:[...q,P]})),!y.has(E))){const G=new Set(y);G.add(E),u(G)}},I=(E,P)=>{const D=`linked${E.charAt(0).toUpperCase()+E.slice(1)}`,q=m[D].filter(G=>G!==P);if(h(G=>({...G,[D]:q})),q.length===0){const G=new Set(y);G.delete(E),u(G)}},C=(E,P)=>{I(E,P)},O=E=>{E.preventDefault(),l?s(l.id,{content:m.content,mood:m.mood||"neutral",tags:m.tags,linkedGoals:m.linkedGoals,linkedTasks:m.linkedTasks,linkedHabits:m.linkedHabits}):a({...m,mood:m.mood||"neutral"}),U()},M=k>=10;return e?n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-3 sm:p-4 md:p-5",children:n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm sm:max-w-md md:max-w-lg max-h-[90vh] overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300 text-gray-900 dark:text-white",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[n.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:["✍️ ",l?"Edit":"New"," Journal Entry"]}),n.jsx("button",{onClick:U,className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n.jsx(gt,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]}),n.jsxs("form",{onSubmit:O,className:"overflow-y-auto max-h-[calc(90vh-140px)]",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"What's on your mind?"}),n.jsx("textarea",{ref:L,value:m.content,onChange:E=>z(E.target.value),placeholder:"What's on your mind? Reflect on your progress, share your thoughts, or write about your day...",spellCheck:"true",className:"w-full min-h-[120px] p-4 border-2 border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-800 focus:bg-white dark:focus:bg-gray-700 focus-accent-border focus:ring-2 focus-accent-ring outline-none transition-all resize-y placeholder-gray-500 dark:placeholder-gray-400",style:{lineHeight:"1.5"}}),k>=100&&n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-right mt-2",children:[k," characters"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"How are you feeling?"}),n.jsx("div",{className:"flex gap-3 justify-between",children:Kl.map(E=>n.jsxs("button",{type:"button",onClick:()=>W(E.id),className:`flex-1 flex flex-col items-center gap-2 p-3 border-2 rounded-xl transition-all ${m.mood===E.id?"accent-border-500 accent-bg-50 dark:accent-bg-900 shadow-sm":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600 hover:-translate-y-0.5"}`,children:[n.jsx("div",{className:`text-2xl transition-transform ${m.mood===E.id?"scale-110":""}`,children:E.emoji}),n.jsx("div",{className:`text-xs font-semibold ${m.mood===E.id?"accent-text-600":"text-gray-600"}`,children:E.label})]},E.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Link to your progress"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:wd.map(E=>{const P=`linked${E.id.charAt(0).toUpperCase()+E.id.slice(1)}`,D=m[P].length,q=D>0;return n.jsxs("button",{type:"button","data-dropdown-toggle":!0,onClick:G=>{G.preventDefault(),G.stopPropagation(),J(E.id)},className:`w-full flex flex-col items-center gap-2 p-4 border-2 rounded-xl transition-all ${q?"accent-border-500 accent-bg-50 dark:accent-bg-900":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-gray-300 dark:hover:border-gray-600 hover:-translate-y-0.5"}`,children:[n.jsx("div",{className:"text-xl",children:E.icon}),n.jsxs("div",{className:`text-xs font-semibold ${q?"accent-text-600 dark:accent-text-400":"text-gray-600 dark:text-gray-300"}`,children:[E.label,D>0&&n.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[D," selected"]})]})]},E.id)})}),b&&n.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 z-50",children:wd.map(E=>{if(b!==E.id)return null;const P=`linked${E.id.charAt(0).toUpperCase()+E.id.slice(1)}`;return n.jsx(jh,{isOpen:!0,onClose:()=>j(null),items:$(E.id),selectedItems:m[P],onItemSelect:D=>re(E.id,D),onItemDeselect:D=>I(E.id,D),title:E.label,icon:E.icon,emptyMessage:`No ${E.label.toLowerCase()} available`,searchPlaceholder:`Search ${E.label.toLowerCase()}...`},E.id)})})]}),(m.linkedTasks.length>0||m.linkedGoals.length>0||m.linkedHabits.length>0)&&n.jsxs("div",{className:"space-y-3",children:[m.linkedGoals.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 mb-2",children:["🎯 Linked Goals (",m.linkedGoals.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.linkedGoals.map(E=>{const P=x.find(D=>D.id===E);return P?n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-700 dark:bg-blue-900 dark:text-blue-300 dark:border-blue-800",children:[n.jsx("span",{className:"text-lg",children:P.icon}),n.jsx("span",{className:"font-medium",children:P.name}),P.progress&&n.jsxs("span",{className:"text-xs opacity-75",children:["(",Math.round(P.progress.percentage||0),"%)"]}),n.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),D.stopPropagation(),C("goals",E)},className:"w-4 h-4 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs hover:bg-blue-800 transition-colors ml-1",children:"×"})]},E):null})})]}),m.linkedTasks.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 mb-2",children:["✅ Linked Tasks (",m.linkedTasks.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.linkedTasks.map(E=>{const P=i.find(D=>D.id===E);return P?n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 border border-green-200 rounded-lg text-sm text-green-700 dark:bg-green-900 dark:text-green-300 dark:border-green-800",children:[n.jsx("span",{className:"text-lg",children:"✅"}),n.jsx("span",{className:"font-medium",children:P.name}),P.status==="completed"&&n.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-1 py-0.5 rounded",children:"Done"}),n.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),D.stopPropagation(),C("tasks",E)},className:"w-4 h-4 bg-green-600 text-white rounded-full flex items-center justify-center text-xs hover:bg-green-800 transition-colors ml-1",children:"×"})]},E):null})})]}),m.linkedHabits.length>0&&n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-300 mb-2",children:["🔄 Linked Habits (",m.linkedHabits.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:m.linkedHabits.map(E=>{const P=g.find(D=>D.id===E);return P?n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-purple-50 border border-purple-200 rounded-lg text-sm text-purple-700 dark:bg-purple-900 dark:text-purple-300 dark:border-purple-800",children:[n.jsx("span",{className:"text-lg",children:P.icon}),n.jsx("span",{className:"font-medium",children:P.name}),P.streak>0&&n.jsxs("span",{className:"text-xs bg-purple-100 text-purple-600 px-1 py-0.5 rounded",children:[P.streak," day streak"]}),n.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),D.stopPropagation(),C("habits",E)},className:"w-4 h-4 bg-purple-600 text-white rounded-full flex items-center justify-center text-xs hover:bg-purple-800 transition-colors ml-1",children:"×"})]},E):null})})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Tags (optional)"}),n.jsx("input",{type:"text",value:p,onChange:E=>H(E.target.value),placeholder:"Add tags separated by commas...",className:"w-full p-3 border-2 border-gray-200 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white bg-white dark:bg-gray-800 focus-accent-border focus:ring-2 focus-accent-ring outline-none transition-all placeholder-gray-500 dark:placeholder-gray-400"}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Use tags to organize and find your entries later"})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${o?"accent-bg-500 animate-pulse":"bg-gray-400"}`}),n.jsx("span",{children:o?"Saving...":"Auto-saving..."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:U,className:"px-6 py-2 text-gray-600 dark:text-gray-300 border border-gray-300 dark:border-gray-700 rounded-xl font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",disabled:!M,className:`px-6 py-2 rounded-xl font-medium transition-all ${M?"accent-bg-500 text-white shadow-lg hover-accent-bg-dark hover:shadow-xl hover:-translate-y-0.5":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[l?"Update":"Save"," Entry"]})]})]})]})]})}):null}function Nh({goal:e,onBack:t,onEdit:r,onNavigate:a}){const{getTasksByGoal:s,addTask:l}=qe(),{getHabitsByGoal:o,getHabitStreak:d,isHabitCompletedToday:i}=Pe(),{deleteGoal:c,toggleGoalCompletion:f}=Je(),{entries:x}=Ln(),g=()=>({backgroundColor:e.color,transition:"all 0.2s ease-in-out"}),m=()=>{const M=e.color;if(M.startsWith("#")){const E=M.replace("#",""),P=Math.max(0,parseInt(E.substr(0,2),16)*.8),D=Math.max(0,parseInt(E.substr(2,2),16)*.8),q=Math.max(0,parseInt(E.substr(4,2),16)*.8);return`rgb(${Math.round(P)}, ${Math.round(D)}, ${Math.round(q)})`}return M},h=()=>({color:e.color}),[k,w]=T.useState(!1),[y,u]=T.useState(!1),[p,v]=T.useState(!1),[N,S]=T.useState(!1),b=T.useRef(null);T.useEffect(()=>{const M=E=>{b.current&&!b.current.contains(E.target)&&w(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const j=s(e.id),L=o(e.id),$=M=>new Date(M).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),U=(M=>{if(!M)return null;const E=new Date(M),P=new Date,D=E.getTime()-P.getTime();return Math.ceil(D/(1e3*60*60*24))})(e.targetDate),z=()=>{confirm("Are you sure you want to delete this goal? This action cannot be undone.")&&(c(e.id),t())},W=()=>{f(e.id),w(!1)},H=x.filter(M=>M.linkedGoals.includes(e.id)),J=()=>{S(!0)},re=()=>{u(!0)},I=()=>{v(!0)},C=M=>{l(M),u(!1)},O=M=>{const E=typeof M=="string"?new Date(M):M,P=new Date,D=new Date(P);if(D.setDate(D.getDate()-1),E.toDateString()===P.toDateString())return`Today, ${E.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`;if(E.toDateString()===D.toDateString())return`Yesterday, ${E.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`;{const q=P.getTime()-E.getTime();return`${Math.ceil(q/(1e3*60*60*24))} days ago`}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:t,className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:n.jsx(Bu,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:n.jsx("span",{className:"text-base",children:"📊"})}),n.jsx("button",{onClick:()=>r(e),className:"w-9 h-9 rounded-lg flex items-center justify-center text-white",style:g(),onMouseEnter:M=>M.currentTarget.style.backgroundColor=m(),onMouseLeave:M=>M.currentTarget.style.backgroundColor=e.color,children:n.jsx(_n,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{ref:b,className:"relative",children:[n.jsx("button",{onClick:()=>w(!k),className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center transition-colors",children:n.jsx(Ym,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),k&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-48",children:[n.jsxs("button",{onClick:W,className:"w-full px-4 py-3 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-700 first:rounded-t-lg transition-colors flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:e.isCompleted?"🔄":"✅"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:e.isCompleted?"Mark as Active":"Mark as Completed"})]}),n.jsxs("button",{onClick:()=>{w(!1)},className:"w-full px-4 py-3 text-left text-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center gap-2",children:[n.jsx(Fm,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Archive Goal"})]}),n.jsxs("button",{onClick:()=>{w(!1),z()},className:"w-full px-4 py-3 text-left text-sm hover:bg-red-50 dark:hover:bg-red-900/30 last:rounded-b-lg transition-colors flex items-center gap-2",children:[n.jsx(ut,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),n.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Delete Goal"})]})]})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 mb-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-5",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl flex items-center justify-center text-2xl text-white flex-shrink-0",style:{background:e.color},children:e.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:e.name}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base leading-relaxed mb-3",children:e.description}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[e.targetDate&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:"📅"}),n.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:$(e.targetDate)})]}),U&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:"⏱️"}),n.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[U," days left"]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{children:"📈"}),n.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["Created ",$(e.createdAt)]})]})]})]})]}),n.jsxs("div",{className:"rounded-2xl p-5 text-white",style:{background:e.color},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("span",{className:"text-lg font-semibold",children:"Overall Progress"}),n.jsxs("span",{className:"text-2xl font-bold",children:[e.progress.percentage,"%"]})]}),n.jsx("div",{className:"h-2 bg-white bg-opacity-20 rounded-full mb-4",children:n.jsx("div",{className:"h-full bg-white rounded-full transition-all duration-500",style:{width:`${e.progress.percentage}%`}})}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-xl font-bold",children:[e.progress.tasksCompleted,"/",e.progress.tasksTotal]}),n.jsx("div",{className:"text-sm opacity-80",children:"Tasks Done"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-xl font-bold",children:[e.progress.habitCompletionRate,"%"]}),n.jsx("div",{className:"text-sm opacity-80",children:"Habit Rate"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold",children:e.progress.currentStreak}),n.jsx("div",{className:"text-sm opacity-80",children:"Day Streak"})]})]})]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:["✅ Linked Tasks",n.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-md text-xs font-semibold",children:j.length}),j.length>0&&a&&n.jsx("button",{onClick:()=>a("tasks"),className:"transition-colors text-sm font-medium hover:opacity-80",style:h(),children:"View All →"})]}),n.jsxs("button",{onClick:re,className:"text-white px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-1",style:g(),onMouseEnter:M=>M.currentTarget.style.backgroundColor=m(),onMouseLeave:M=>M.currentTarget.style.backgroundColor=e.color,children:[n.jsx(at,{className:"w-4 h-4"}),"Add Task"]})]}),n.jsx("div",{className:"space-y-3",children:j.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"✅"}),n.jsx("p",{children:"No tasks linked to this goal yet."}),n.jsx("p",{className:"text-sm",children:"Add tasks to track your progress!"})]}):j.map(M=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-sm transition-shadow cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${M.status==="completed"?"bg-green-500 border-green-500 text-white":"border-gray-300"}`,children:M.status==="completed"&&n.jsx("span",{className:"text-xs",children:"✓"})}),n.jsx("div",{className:"flex-1 font-semibold text-gray-800 dark:text-white",children:M.name}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:M.status==="completed"?`Completed ${$(typeof M.updatedAt=="string"?M.updatedAt:M.updatedAt.toISOString())}`:M.dueDate?`Due ${$(typeof M.dueDate=="string"?M.dueDate:M.dueDate.toISOString())}`:"No due date"})]}),M.description&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 ml-8",children:M.description})]},M.id))})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:["🔄 Supporting Habits",n.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-md text-xs font-semibold",children:L.length}),L.length>0&&a&&n.jsx("button",{onClick:()=>a("habits"),className:"transition-colors text-sm font-medium hover:opacity-80",style:h(),children:"View All →"})]}),n.jsxs("button",{onClick:I,className:"text-white px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-1",style:g(),onMouseEnter:M=>M.currentTarget.style.backgroundColor=m(),onMouseLeave:M=>M.currentTarget.style.backgroundColor=e.color,children:[n.jsx(at,{className:"w-4 h-4"}),"Add Habit"]})]}),n.jsx("div",{className:"space-y-3",children:L.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"🔄"}),n.jsx("p",{children:"No habits linked to this goal yet."}),n.jsx("p",{className:"text-sm",children:"Add habits to build consistency!"})]}):L.map(M=>{const E=d(M.id),P=i(M.id);return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-sm transition-shadow cursor-pointer",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${P?"bg-blue-500 border-blue-500 text-white":"border-blue-300"}`,children:P&&n.jsx("span",{className:"text-xs",children:"✓"})}),n.jsx("div",{className:"flex-1 font-semibold text-gray-800 dark:text-white",children:M.name}),n.jsxs("div",{className:"text-xs font-semibold flex items-center gap-1",style:h(),children:["🔥 ",E," day streak"]})]}),M.description&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 ml-8",children:M.description})]},M.id)})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:["📝 Journal Notes",n.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-md text-xs font-semibold",children:H.length})]}),n.jsxs("button",{onClick:J,className:"text-white px-4 py-2 rounded-lg text-sm font-semibold flex items-center gap-1",style:g(),onMouseEnter:M=>M.currentTarget.style.backgroundColor=m(),onMouseLeave:M=>M.currentTarget.style.backgroundColor=e.color,children:[n.jsx(at,{className:"w-4 h-4"}),"Add Note"]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 border border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"space-y-3",children:H.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"📝"}),n.jsx("p",{children:"No journal entries for this goal yet."}),n.jsx("p",{className:"text-sm",children:"Add your first note to track your progress!"})]}):H.map(M=>n.jsxs("div",{className:"p-4 border border-gray-100 dark:border-gray-700 rounded-xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-semibold",children:O(M.createdAt)}),M.mood&&n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[n.jsx("span",{className:"text-base",children:M.mood==="great"?"😊":M.mood==="good"?"🙂":M.mood==="neutral"?"😐":M.mood==="low"?"😕":"😢"}),n.jsx("span",{className:"capitalize",children:M.mood})]})]}),n.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:M.content}),M.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:M.tags.map(E=>n.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-md text-xs",children:["#",E]},E))})]},M.id))})})]})]}),n.jsx(Yo,{isOpen:y,onClose:()=>u(!1),onSubmit:C,editingTask:void 0,defaultGoalId:e.id}),n.jsx(Yl,{isOpen:p,onClose:()=>v(!1),editingHabit:null,defaultGoalId:e.id}),n.jsx(Jl,{isOpen:N,onClose:()=>S(!1),defaultGoalId:e.id})]})}function Sh({onNavigate:e}){const{goals:t,modalState:r,getFilteredGoals:a,openModal:s,closeModal:l,recalculateAllGoalProgress:o}=Je(),[d,i]=T.useState(null),[c,f]=T.useState(!1),[x,g]=T.useState(null),m=a();if(T.useEffect(()=>{const p=()=>{h()};return window.addEventListener("openGoalModal",p),()=>window.removeEventListener("openGoalModal",p)},[]),T.useEffect(()=>{t.length>0&&(console.log("GoalsPage: Recalculating progress for",t.length,"goals"),o())},[t.length,o]),t.length===0)return n.jsx(yh,{});const h=()=>{g(null),s()},k=p=>{i(p),f(!0)},w=p=>{g(p),f(!1),s()},y=()=>{f(!1),i(null)},u=()=>{g(null),l()};return c&&d?n.jsx(Nh,{goal:d,onBack:y,onEdit:w,onNavigate:e}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Goals"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:[m.length," of ",t.length," goals"]})]}),n.jsx("button",{onClick:h,className:"w-12 h-12 bg-gradient-to-r accent-gradient text-white rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:n.jsx(at,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"space-y-4",children:m.map(p=>n.jsx(vh,{goal:p,viewMode:"list",onClick:()=>k(p)},p.id))}),n.jsx(Qo,{isOpen:r.isOpen,onClose:u,goalToEdit:x})]})}function Ch({onNavigate:e}){const{openModal:t,isModalOpen:r,closeModal:a,addTask:s}=qe(),l=()=>{t()};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center py-16 px-6 bg-white dark:bg-gray-800 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute top-2 right-8 text-2xl opacity-60 animate-pulse",children:"⚡"}),n.jsx("div",{className:"text-8xl mb-4 animate-bounce opacity-80",children:"✅"})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Tasks Yet"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base leading-relaxed mb-8 max-w-md mx-auto",children:"Tasks are the building blocks of your goals. Create actionable items that move you closer to what you want to achieve."}),n.jsx("div",{className:"flex flex-col items-center gap-3 mb-6",children:n.jsx("button",{onClick:l,className:"flex items-center gap-2 px-8 py-4 accent-gradient text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:"➕ Add Your First Task"})}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 mb-8",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 text-center",children:"📋 Task Examples"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("div",{className:"w-4 h-4 border border-gray-300 dark:border-gray-500 rounded"}),"Research gym memberships nearby"]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("div",{className:"w-4 h-4 border border-gray-300 dark:border-gray-500 rounded"}),"Schedule doctor's appointment"]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("div",{className:"w-4 h-4 border border-gray-300 dark:border-gray-500 rounded"}),"Buy groceries for meal prep"]}),n.jsxs("div",{className:"flex items-center gap-3 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("div",{className:"w-4 h-4 border border-gray-300 dark:border-gray-500 rounded"}),"Submit project proposal"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"📝"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Break down complex projects"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"📅"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Set due dates & reminders"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"🎯"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Link tasks to your goals"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"✨"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:"Organize with sub-tasks"})]})]})]}),n.jsx(Yo,{isOpen:r,onClose:a,onSubmit:o=>{s(o),a()}})]})}const Dh=[{id:"today",label:"Today",icon:Pn},{id:"upcoming",label:"Upcoming",icon:sr},{id:"overdue",label:"Overdue",icon:An},{id:"completed",label:"Done",icon:Om}];function Th({onNavigate:e}){const{tasks:t,currentFilter:r,isModalOpen:a,setFilter:s,openModal:l,closeModal:o,toggleTask:d,toggleSubtask:i,toggleShoppingItem:c,getFilteredTasks:f,getTasksBySection:x,getTaskCounts:g,addTask:m,updateTask:h,deleteTask:k,cleanupEmptySubtasks:w}=qe(),{goals:y}=Je(),[u,p]=T.useState(new Set);T.useEffect(()=>{w()},[w]);const[v,N]=T.useState(null),[S,b]=T.useState(!1),[j,L]=T.useState(null),$=f(),{today:F,overdue:U,upcoming:z,noDueDate:W}=x(),H=g();if(t.length===0)return n.jsx(Ch,{onNavigate:e});const J=D=>{p(q=>{const G=new Set(q);return G.has(D)?G.delete(D):G.add(D),G})},re=D=>{if(!D)return null;const q=y.find(G=>G.id===D);return q?q.name:null},I=D=>{N(D),l()},C=D=>{L(D),b(!0)},O=()=>{j&&(k(j),L(null),b(!1))},M=()=>{L(null),b(!1)},E=D=>{var Un,Gn,Wn;const q=u.has(D.id),G=((Gn=(Un=D.subtasks)==null?void 0:Un.filter(le=>le.completed))==null?void 0:Gn.length)||0,He=((Wn=D.subtasks)==null?void 0:Wn.length)||0,dr=re(D.goalId);return n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 hover:shadow-sm transition-shadow",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("button",{onClick:()=>d(D.id),className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors mt-0.5 ${D.status==="completed"?"bg-green-500 border-green-500 text-white":"border-gray-300 hover-accent-border"}`,children:D.status==="completed"&&n.jsx("span",{className:"text-xs",children:"✓"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h3",{className:`font-semibold text-gray-800 dark:text-white ${D.status==="completed"?"line-through text-gray-500 dark:text-gray-400":""}`,children:D.name}),n.jsxs("div",{className:"flex items-center gap-1",children:[(D.subtasks&&D.subtasks.length>0||D.type==="to-buy"&&D.shoppingItems&&D.shoppingItems.length>0)&&n.jsx("button",{onClick:()=>J(D.id),className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors p-1",children:q?n.jsx(Uu,{className:"w-4 h-4"}):n.jsx(Vo,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>I(D),className:"text-gray-400 dark:text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors p-1",title:"Edit task",children:n.jsx(_n,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>C(D.id),className:"text-gray-400 dark:text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors p-1",title:"Delete task",children:n.jsx(ut,{className:"w-4 h-4"})})]})]}),D.description&&n.jsx("p",{className:`text-sm text-gray-600 dark:text-gray-300 mb-3 ${D.status==="completed"?"line-through":""}`,children:D.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[D.type==="deadline"&&D.dueDate&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Pn,{className:"w-3 h-3"}),n.jsxs("span",{children:["Due ",new Date(D.dueDate).toLocaleDateString()]}),new Date(D.dueDate).toLocaleTimeString&&n.jsxs("span",{className:"text-xs opacity-75",children:["at ",new Date(D.dueDate).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})]})]}),D.priority&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${D.priority==="urgent"?"bg-red-500":D.priority==="high"?"accent-bg-500":D.priority==="medium"?"bg-yellow-500":"bg-green-500"}`}),n.jsx("span",{className:"capitalize",children:D.priority})]}),dr&&n.jsxs("button",{onClick:()=>e==null?void 0:e("goals"),className:"flex items-center gap-1 hover-accent-text-600 transition-colors",children:[n.jsx(Ql,{className:"w-3 h-3"}),n.jsx("span",{children:dr})]}),D.subtasks&&D.subtasks.length>0&&n.jsx("div",{className:"flex items-center gap-1",children:n.jsxs("span",{children:[G,"/",He," subtasks"]})}),D.type==="to-buy"&&D.shoppingItems&&D.shoppingItems.length>0&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-base",children:"🛒"}),n.jsxs("span",{children:[D.shoppingItems.filter(le=>le.completed).length,"/",D.shoppingItems.length," items"]})]})]}),q&&D.subtasks&&D.subtasks.length>0&&n.jsx("div",{className:"mt-3 space-y-2",children:D.subtasks.map((le,cr)=>{const qn=typeof le=="string"?`${D.id}-${cr}`:le.id,ps=typeof le=="string"?le:le.name,ur=typeof le=="string"?!1:le.completed;return n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("button",{onClick:()=>i(D.id,qn),className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${ur?"bg-green-500 border-green-500 text-white":"border-gray-300 hover-accent-border"}`,children:ur&&n.jsx("span",{className:"text-xs",children:"✓"})}),n.jsx("span",{className:`text-sm ${ur?"line-through text-gray-500 dark:text-gray-400":"text-gray-700 dark:text-gray-300"}`,children:ps})]},qn||`subtask-${D.id}-${cr}`)})}),q&&D.type==="to-buy"&&D.shoppingItems&&D.shoppingItems.length>0&&n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsx("div",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 ml-4 mb-2",children:"Shopping List:"}),D.shoppingItems.map((le,cr)=>n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[n.jsx("button",{onClick:()=>c(D.id,le.id),className:`w-4 h-4 rounded border flex items-center justify-center transition-colors ${le.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover-accent-border"}`,children:le.completed&&n.jsx("span",{className:"text-xs",children:"✓"})}),n.jsxs("span",{className:`text-sm ${le.completed?"line-through text-gray-500 dark:text-gray-400":"text-gray-700 dark:text-gray-300"}`,children:[le.quantity&&`${le.quantity} `,le.name]})]},le.id||`item-${D.id}-${cr}`))]})]})]})},D.id)},P=(D,q,G)=>{if(q.length===0)return null;const He=G;return n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(He,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:D}),n.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 px-2 py-1 rounded-md text-xs font-semibold",children:q.length})]}),n.jsx("div",{className:"space-y-3",children:q.map(dr=>E(dr))})]})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Tasks"}),n.jsxs("button",{onClick:l,className:"accent-bg-500 hover-accent-bg-dark text-white px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition-colors",children:[n.jsx(at,{className:"w-4 h-4"}),"Add Task"]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Dh.map(({id:D,label:q,icon:G})=>n.jsxs("button",{onClick:()=>s(r===D?"all":D),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${r===D?"accent-bg-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[n.jsx(G,{className:"w-4 h-4"}),q,H[D]>0&&n.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${r===D?"bg-white bg-opacity-20":"bg-gray-200 dark:bg-gray-600"}`,children:H[D]})]},D))}),n.jsxs("div",{children:[r==="all"&&n.jsxs("div",{children:[P("Overdue",U,An),P("Today",F,Pn),P("Upcoming",z,sr),P("No Due Date",W,Ql)]}),r!=="all"&&n.jsx("div",{className:"space-y-3",children:$.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-2",children:"📋"}),n.jsx("p",{children:"No tasks found for this filter."})]}):$.map(D=>E(D))})]}),S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete Task"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Are you sure you want to delete this task? This action cannot be undone."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:M,className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:O,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Delete"})]})]})}),n.jsx(Yo,{isOpen:a,onClose:()=>{N(null),o()},onSubmit:D=>{v?h(v.id,D):m(D),N(null),o()},editingTask:v})]})}function Eh({habit:e,onClick:t}){const{toggleDayCompletion:r,isHabitCompletedToday:a,getHabitStreak:s,getCompletionRate:l,getLastTwoWeeksProgress:o}=Pe(),d=a(e.id),i=s(e.id),c=l(e.id,30),f=o(e.id),x=w=>{w.stopPropagation();const u=ke(new Date);r(e.id,u)},g=w=>w>=80?"#10B981":w>=60?"#F59E0B":"#EF4444",m=()=>{switch(e.frequency){case"daily":return"Daily";case"weekly":if(e.selectedDays){const w={mon:"M",tue:"Tu",wed:"W",thu:"Th",fri:"F",sat:"Sa",sun:"Su"},y=["mon","tue","wed","thu","fri","sat","sun"];return`Weekly • ${e.selectedDays.sort((v,N)=>y.indexOf(v)-y.indexOf(N)).map(v=>w[v]).join(" ")}`}return"Weekly";case"custom":return e.customFrequency?`${e.customFrequency.times}x per ${e.customFrequency.period}`:"Custom";default:return"Daily"}},h=()=>e.frequency==="weekly"?`${i} weeks`:e.frequency==="custom"?`${i} periods`:`${i} days`,k=(w,y=.3)=>{const u=w.replace("#",""),p=parseInt(u.substr(0,2),16),v=parseInt(u.substr(2,2),16),N=parseInt(u.substr(4,2),16);return`rgba(${p}, ${v}, ${N}, ${y})`};return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer hover:-translate-y-0.5",onClick:t,style:{borderLeft:`4px solid ${e.color}`},children:[n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center text-white text-xl font-semibold",style:{backgroundColor:e.color},children:e.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg leading-tight mb-1",children:e.name}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:m()}),n.jsxs("span",{className:"font-semibold",style:{color:g(c)},children:[c,"% completion"]})]})]}),n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("button",{onClick:x,className:`w-12 h-12 rounded-full border-2 flex items-center justify-center font-bold transition-all duration-200 hover:scale-105 relative ${d?"text-white border-opacity-100":"text-gray-400 dark:text-gray-500 border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 hover:border-opacity-70"}`,style:{backgroundColor:d?e.color:void 0,borderColor:d?e.color:void 0},onMouseEnter:w=>{d||(w.currentTarget.style.borderColor=e.color,w.currentTarget.style.color=e.color)},onMouseLeave:w=>{d||(w.currentTarget.style.borderColor="",w.currentTarget.style.color="")},children:"'✓'"}),n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md text-xs font-semibold",style:{backgroundColor:"var(--accent-100, #FFEDD5)",color:"var(--accent-color, #FF7101)"},children:[n.jsx("span",{children:"🔥"}),n.jsx("span",{children:h()})]})]})]}),n.jsx("div",{className:"flex gap-1 mt-2",children:f.slice(-7).map(w=>{let y="w-4 h-4 rounded border transition-all duration-200 ",u={};return w.completed?(y+="border-opacity-100",u.backgroundColor=e.color,u.borderColor=e.color):w.isToday?(y+="border-2 border-dashed bg-white dark:bg-gray-700",u.borderColor=e.color):w.isRequired?(y+="border-gray-200 dark:border-gray-600",u.backgroundColor=k(e.color,.3)):y+="bg-gray-50 dark:bg-gray-800 border-gray-100 dark:border-gray-700 opacity-40",n.jsx("div",{className:y,style:u},w.date)})})]})}function Mh({habit:e,isOpen:t,onClose:r,onEdit:a}){const{getHabitStreak:s,getCompletionRate:l,getTotalCompletions:o,getBestStreak:d,getMonthlyProgress:i,toggleDayCompletion:c,deleteHabit:f,isHabitCompletedOnDate:x}=Pe(),[g,m]=T.useState(!1),[h,k]=T.useState(new Date);if(!t||!e)return null;const w=s(e.id),y=()=>{f(e.id),r()},u=()=>{a(e),r()},p=(z,W)=>{W||c(e.id,z)},v=z=>{k(W=>{const H=new Date(W);return z==="prev"?H.setMonth(W.getMonth()-1):H.setMonth(W.getMonth()+1),H})},N=z=>{if(e.frequency!=="weekly"||!e.selectedDays)return!1;const H=["sun","mon","tue","wed","thu","fri","sat"][z.getDay()];return e.selectedDays.includes(H)},b=(()=>{const z=new Date;z.setHours(0,0,0,0);const W=h.getFullYear(),H=h.getMonth(),J=new Date(W,H,1),I=new Date(W,H+1,0).getDate(),C=J.getDay(),O=[];for(let M=0;M<C;M++)O.push(null);for(let M=1;M<=I;M++){const E=new Date(W,H,M),P=ke(E),D=x(e.id,P),q=P===ke(z),G=E>z,He=N(E);O.push({day:M,dateStr:P,isCompleted:D,isToday:q,isFuture:G,isRequiredDay:He})}return O})(),L=["January","February","March","April","May","June","July","August","September","October","November","December"][h.getMonth()],$=h.getFullYear(),F=(z,W=.2)=>{const H=z.replace("#",""),J=parseInt(H.substr(0,2),16),re=parseInt(H.substr(2,2),16),I=parseInt(H.substr(4,2),16);return`rgba(${J}, ${re}, ${I}, ${W})`},U=()=>{switch(e.frequency){case"weekly":if(e.selectedDays){const z={mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",sun:"Sun"},W=["mon","tue","wed","thu","fri","sat","sun"];return`Weekly • ${e.selectedDays.sort((re,I)=>W.indexOf(re)-W.indexOf(I)).map(re=>z[re]).join(", ")}`}return"Weekly";case"daily":return"Daily";case"custom":return e.customFrequency?`${e.customFrequency.times}x per ${e.customFrequency.period}`:"Custom";default:return"Daily"}};return n.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-800 rounded-t-3xl shadow-2xl transform transition-transform max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"flex justify-center pt-3 pb-2",children:n.jsx("div",{className:"w-12 h-1 bg-gray-300 dark:bg-gray-600 rounded-full"})}),n.jsxs("div",{className:"p-6 pb-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white text-2xl flex-shrink-0",style:{backgroundColor:e.color},children:e.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.name}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:e.description})]})]}),n.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex-shrink-0 ml-4",children:n.jsx(gt,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-1",style:{color:e.color},children:w}),n.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"CURRENT STREAK"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold mb-1",style:{color:e.color},children:U()}),n.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"FREQUENCY"})]})]})]}),n.jsxs("div",{className:"flex gap-3 px-6 pb-6",children:[n.jsxs("button",{onClick:u,className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl font-semibold hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsx(Wu,{className:"w-5 h-5"}),"Edit Habit"]}),n.jsxs("button",{onClick:()=>m(!0),className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 border border-red-300 dark:border-red-600 text-red-600 dark:text-red-400 rounded-xl font-semibold hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[n.jsx(ut,{className:"w-5 h-5"}),"Delete"]})]}),n.jsxs("div",{className:"px-6 pb-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Progress Calendar"}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:()=>v("prev"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:n.jsx($m,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[L," ",$]}),n.jsx("button",{onClick:()=>v("next"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:n.jsx(ql,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-2xl p-4",children:[n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(z=>n.jsx("div",{className:"text-center text-xs font-medium text-gray-600 dark:text-gray-400 py-2",children:z},z))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:b.map((z,W)=>{if(!z)return n.jsx("div",{className:"aspect-square"},W);let H="aspect-square rounded-lg text-sm font-medium transition-all ",J={};return z.isCompleted?(H+="text-white border-2 border-opacity-100",J.backgroundColor=e.color,J.borderColor=e.color):z.isToday?(H+="bg-white dark:bg-gray-600 border-2 border-dashed text-gray-900 dark:text-white",J.borderColor=e.color):z.isFuture?H+="bg-gray-100 dark:bg-gray-800 text-gray-300 dark:text-gray-600 cursor-not-allowed":z.isRequiredDay?(H+="text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-500 hover:scale-105",J.backgroundColor=F(e.color,.15)):H+="bg-white dark:bg-gray-600 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-500 hover:scale-105",n.jsx("button",{onClick:()=>p(z.dateStr,z.isFuture),disabled:z.isFuture,className:H,style:J,children:n.jsx("span",{className:"text-sm font-bold",children:z.day})},W)})})]})]}),g&&n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center p-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-sm",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Delete Habit"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['Are you sure you want to delete "',e.name,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>m(!1),className:"flex-1 py-2 px-4 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:y,className:"flex-1 py-2 px-4 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600 transition-colors",children:"Delete"})]})]})})]})]})}function Ih({onCreateHabit:e}){return n.jsxs("div",{className:"text-center py-16 px-6 bg-white dark:bg-gray-800 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute top-2 right-8 text-2xl opacity-60 animate-pulse",children:"🔥"}),n.jsx("div",{className:"text-8xl mb-4 animate-bounce opacity-80",children:"🔄"})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Habits Yet"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base leading-relaxed mb-8 max-w-md mx-auto",children:"Habits are the compound interest of personal development. Small daily actions that build up to extraordinary results over time."}),n.jsx("div",{className:"flex flex-col items-center gap-3 mb-6",children:n.jsx("button",{onClick:e,className:"flex items-center gap-2 px-8 py-4 accent-gradient text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:"🌟 Start Your First Habit"})}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 mb-8",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3 text-center",children:"🔥 Habit Ideas"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🏃"})," Morning workout - 30 minutes"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"📚"})," Daily reading - 20 minutes"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"💧"})," Drink 8 glasses of water"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🧘"})," Evening meditation - 10 minutes"]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl p-5 text-white text-center mb-6",children:[n.jsx("div",{className:"text-base italic mb-2 opacity-90",children:'"We are what we repeatedly do. Excellence, then, is not an act, but a habit."'}),n.jsx("div",{className:"text-xs opacity-70",children:"— Aristotle"})]}),n.jsxs("div",{className:"flex justify-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 accent-bg-500 rounded-full"}),n.jsx("div",{className:"w-2 h-2 bg-gray-300 dark:bg-gray-600 rounded-full"}),n.jsx("div",{className:"w-2 h-2 bg-gray-300 dark:bg-gray-600 rounded-full"}),n.jsx("div",{className:"w-2 h-2 bg-gray-300 dark:bg-gray-600 rounded-full"}),n.jsx("div",{className:"w-2 h-2 bg-gray-300 dark:bg-gray-600 rounded-full"})]})]})}function Fh({onNavigate:e}){const{habits:t}=Pe(),{isLoading:r}=hs(),[a,s]=T.useState(!1),[l,o]=T.useState(!1),[d,i]=T.useState(null),[c,f]=T.useState(null),[x,g]=T.useState(!1),m=u=>{const p=t.find(v=>v.id===u);p&&(i(p),o(!0))},h=u=>{f(u),s(!0)},k=()=>{o(!1),i(null)},w=()=>{s(!1),f(null)},y=()=>{s(!0)};return T.useEffect(()=>{const u=setTimeout(()=>{g(!0)},100);return()=>clearTimeout(u)},[]),!x||r?n.jsxs("div",{className:"space-y-6 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-20"}),n.jsx("div",{className:"w-11 h-11 bg-gray-200 dark:bg-gray-700 rounded-xl"})]}),n.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 h-24"},u))})]}):t.length===0?n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ih,{onCreateHabit:y}),a&&n.jsx(Yl,{isOpen:a,onClose:w,editingHabit:c})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Habits"}),n.jsx("button",{onClick:y,className:"w-12 h-12 bg-gradient-to-r accent-gradient text-white rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:n.jsx(at,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"space-y-3",children:t.map(u=>n.jsx(Eh,{habit:u,onClick:()=>m(u.id)},u.id))}),a&&n.jsx(Yl,{isOpen:a,onClose:w,editingHabit:c}),n.jsx(Mh,{habit:d,isOpen:l,onClose:k,onEdit:h})]})}const Ko=({onLongPress:e,onClick:t,threshold:r=500})=>{const[a,s]=T.useState(!1),l=T.useRef(),o=T.useRef(),d=T.useCallback(c=>{c.target&&(o.current=c.target),s(!1),l.current=setTimeout(()=>{e(),s(!0)},r)},[e,r]),i=T.useCallback((c,f=!0)=>{l.current&&clearTimeout(l.current),f&&!a&&t&&(!o.current||c.target===o.current)&&t()},[t,a]);return{onMouseDown:c=>d(c),onTouchStart:c=>d(c),onMouseUp:c=>i(c),onMouseLeave:c=>i(c,!1),onTouchEnd:c=>i(c)}};function Jo({event:e,isOpen:t,onClose:r,onToggleComplete:a,onEdit:s,onDelete:l}){const[o,d]=T.useState(!1),[i,c]=T.useState(null),[f,x]=T.useState(null),[g,m]=T.useState(!1),[h,k]=T.useState(!1);if(T.useEffect(()=>{e&&t&&(x(e),d(!1),c(null),m(!1),k(!1))},[e,t]),!t||!f)return null;const w=()=>{c({...f}),d(!0)},y=()=>{i&&s&&(s(i),d(!1),r())},u=()=>{a&&(a(f.id),x(S=>S?{...S,completed:!S.completed}:null))},p=()=>{if(console.log("🗑️ Delete button clicked for event:",f==null?void 0:f.id),!f||!f.id){console.log("❌ No valid event to delete");return}if(g){console.log("⚠️ Delete confirmation already showing, ignoring duplicate click");return}m(!0),console.log("🗑️ Delete confirmation modal should now be visible")},v=()=>{if(console.log("🗑️ Delete confirmed for event:",f==null?void 0:f.id),!f||!f.id){console.log("❌ No valid event to delete in confirmation"),m(!1);return}if(!l){console.log("❌ onDelete function not available"),m(!1);return}if(!g){console.log("⚠️ Delete confirmation not showing, unexpected state");return}try{k(!0),console.log("🗑️ Calling onDelete function"),l(f.id),console.log("🗑️ Delete function called successfully"),setTimeout(()=>{console.log("🗑️ Closing modals"),k(!1),m(!1),r()},300)}catch(S){console.error("❌ Error during delete operation:",S),k(!1),m(!1)}},N=()=>{if(console.log("🗑️ Delete cancelled"),!g){console.log("⚠️ Delete cancel called but confirmation not showing");return}m(!1)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:r,children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full max-h-[80vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Event Details"}),n.jsx("button",{onClick:r,className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:n.jsx(gt,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:f.icon}),o?n.jsx("input",{type:"text",value:(i==null?void 0:i.title)||"",onChange:S=>c(b=>b?{...b,title:S.target.value}:null),className:"flex-1 text-lg font-medium bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-2 text-gray-900 dark:text-white"}):n.jsx("h3",{className:"flex-1 text-lg font-medium text-gray-900 dark:text-white",children:f.title})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{className:"capitalize font-medium",children:f.type}),f.completed&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full text-xs",children:[n.jsx(Ja,{size:12}),"Completed"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx(Pn,{size:16}),o?n.jsx("input",{type:"date",value:(i==null?void 0:i.date)||"",onChange:S=>c(b=>b?{...b,date:S.target.value}:null),className:"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 text-gray-900 dark:text-white text-sm"}):n.jsx("span",{children:new Date(f.date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[n.jsx(sr,{size:16}),o?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"time",value:(i==null?void 0:i.startTime)||"",onChange:S=>c(b=>b?{...b,startTime:S.target.value}:null),className:"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 text-gray-900 dark:text-white text-sm"}),n.jsx("span",{children:"-"}),n.jsx("input",{type:"time",value:(i==null?void 0:i.endTime)||"",onChange:S=>c(b=>b?{...b,endTime:S.target.value}:null),className:"bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded px-2 py-1 text-gray-900 dark:text-white text-sm"})]}):n.jsxs("span",{children:[f.startTime," - ",f.endTime]})]})]}),f.description&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Description"}),o?n.jsx("textarea",{value:(i==null?void 0:i.description)||"",onChange:S=>c(b=>b?{...b,description:S.target.value}:null),rows:3,className:"w-full bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg px-3 py-2 text-gray-900 dark:text-white resize-none"}):n.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:f.description})]})]}),n.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:o?n.jsxs("div",{className:"flex gap-3 w-full",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),n.jsx("button",{onClick:y,className:"flex-1 px-4 py-2 accent-bg-500 hover:accent-bg-600 text-white rounded-lg transition-colors font-medium",children:"Save"})]}):n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsx("button",{onClick:()=>{s?s(f):w()},className:"flex items-center justify-center w-12 h-12 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors",children:n.jsx(Km,{size:20})}),n.jsx("button",{onClick:u,className:`flex items-center justify-center w-12 h-12 rounded-lg transition-colors ${f.completed?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:n.jsx(Ja,{size:20})}),l&&n.jsx("button",{onClick:p,disabled:g||h,className:"flex items-center justify-center w-12 h-12 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ut,{size:20})})]})})]})}),g&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 z-[100] flex items-center justify-center p-4",onClick:S=>{S.stopPropagation(),console.log("🗑️ Delete confirmation backdrop clicked")},children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-sm w-full p-6 animate-in fade-in zoom-in duration-200 border-2 border-red-200 dark:border-red-700",onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center",children:n.jsx(ut,{size:24,className:"text-red-600 dark:text-red-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Event"})]}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mb-6 text-sm leading-relaxed",children:['Are you sure you want to delete "',n.jsx("strong",{children:f==null?void 0:f.title}),'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:N,disabled:h,className:"flex-1 px-4 py-3 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors font-medium border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),n.jsx("button",{onClick:v,disabled:h,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium shadow-lg hover:shadow-xl disabled:opacity-75 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?n.jsxs(n.Fragment,{children:[n.jsx(Gm,{size:16,className:"animate-spin"}),"Deleting..."]}):"Delete Event"})]})]})})]})}const jd=[{id:"focus",icon:"🧠",name:"Focus Work",desc:"Deep work session"},{id:"meeting",icon:"💼",name:"Meeting",desc:"Scheduled meetings"},{id:"learning",icon:"📚",name:"Learning",desc:"Study & courses"},{id:"break",icon:"☕",name:"Break",desc:"Rest & recharge"},{id:"creative",icon:"🎨",name:"Creative",desc:"Creative work"},{id:"admin",icon:"📋",name:"Admin",desc:"Administrative tasks"}],Ah=["🧠","💻","📝","🎯","💼","📞","📚","🎨","☕","🏃","🧘","📋"],Ks=["linear-gradient(135deg, #FF7101, #e55a00)","linear-gradient(135deg, #3B82F6, #1E40AF)","linear-gradient(135deg, #22C55E, #15803D)","linear-gradient(135deg, #A855F7, #7C3AED)","linear-gradient(135deg, #EF4444, #DC2626)","linear-gradient(135deg, #F59E0B, #D97706)","linear-gradient(135deg, #8B5CF6, #7C3AED)","linear-gradient(135deg, #06B6D4, #0891B2)"],Nd=[{value:30,label:"30 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"},{value:120,label:"2 hours"},{value:150,label:"2.5 hours"},{value:180,label:"3 hours"},{value:240,label:"4 hours"}];function Br({isOpen:e,onClose:t,prefilledTime:r,prefilledDate:a,editingTimeBlock:s}){const{addTimeBlock:l,updateTimeBlock:o,checkTimeConflict:d}=Ve(),[i,c]=T.useState(!1),[f,x]=T.useState(!1),[g,m]=T.useState(!1),[h,k]=T.useState({title:"",description:"",date:"",startTime:"",durationMinutes:120,blockType:"focus",icon:"🧠",color:Ks[0],isRecurring:!1,recurrenceType:"weekly",recurrenceInterval:1,recurrenceEndDate:""}),[w,y]=T.useState(""),[u,p]=T.useState(!1);T.useEffect(()=>{e&&(s?(k({title:s.title,description:s.description||"",date:s.date,startTime:s.startTime,durationMinutes:s.durationMinutes,blockType:s.blockType,icon:s.icon,color:s.color,isRecurring:s.isRecurring||!1,recurrenceType:s.recurrenceType||"weekly",recurrenceInterval:s.recurrenceInterval||1,recurrenceEndDate:s.recurrenceEndDate||""}),s.isRecurring&&m(!0),(s.description||s.linkedItemType)&&x(!0),Nd.find(z=>z.value===s.durationMinutes)||(p(!0),y(s.durationMinutes.toString()))):k({title:"",description:"",date:a||new Date().toISOString().split("T")[0],startTime:r||"09:00",durationMinutes:120,blockType:"focus",icon:"🧠",color:Ks[0],isRecurring:!1,recurrenceType:"weekly",recurrenceInterval:1,recurrenceEndDate:""}),c(!1),s||(x(!1),m(!1),p(!1),y("")))},[e,r,a,s]);const v=()=>!(!h.title.trim()||!h.date||!h.startTime||h.durationMinutes<15||d(h.date,h.startTime,h.durationMinutes)),N=()=>{v()&&(s?o(s.id,h):l(h),t())},S=F=>{const U=jd.find(z=>z.id===F);U&&k({...h,blockType:F,icon:U.icon,title:h.title||U.name})},b=F=>{F==="custom"?p(!0):(p(!1),k({...h,durationMinutes:parseInt(F)}))},j=F=>{y(F);const U=F.match(/^(\d{1,2}):([0-5]\d)$/);if(U){const z=parseInt(U[1]),W=parseInt(U[2]),H=z*60+W;H>=15&&H<=480&&k({...h,durationMinutes:H})}},L=()=>{if(!h.startTime||!h.durationMinutes)return"";const[F,U]=h.startTime.split(":").map(Number),z=F*60+U+h.durationMinutes,W=Math.floor(z/60)%24,H=z%60;return`${W.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`},$=F=>{const U=Math.floor(F/60),z=F%60;return U>0&&z>0?`${U}h ${z}m`:U>0?`${U}h`:`${z}m`};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-3 pb-24 sm:p-4 md:p-5",children:n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl w-full max-w-sm sm:max-w-md md:max-w-lg max-h-full overflow-hidden shadow-xl animate-in slide-in-from-bottom-4 duration-300 text-gray-900 dark:text-white",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s?"Edit Time Block":"Create Time Block"}),n.jsx("button",{onClick:t,className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center text-gray-600 dark:text-gray-300 transition-colors",children:"✕"})]}),n.jsxs("div",{className:"p-6 max-h-[calc(100vh-240px)] overflow-y-auto space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Block Type"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:jd.map(F=>n.jsxs("button",{onClick:()=>S(F.id),className:`flex flex-col items-center gap-2 p-4 border-2 rounded-xl transition-all text-center ${h.blockType===F.id?"accent-border-500 accent-bg-50 accent-text-600":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 hover:-translate-y-0.5 text-gray-600 dark:text-gray-300"}`,children:[n.jsx("span",{className:"text-2xl",children:F.icon}),n.jsx("div",{className:"font-semibold text-sm",children:F.name}),n.jsx("div",{className:"text-xs text-gray-500",children:F.desc})]},F.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Title *"}),n.jsx("input",{type:"text",value:h.title,onChange:F=>k({...h,title:F.target.value}),placeholder:"What will you work on?",className:"w-full p-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Description"}),n.jsx("textarea",{value:h.description,onChange:F=>k({...h,description:F.target.value}),placeholder:"Add details about this time block...",rows:3,className:"w-full p-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border transition-colors resize-none bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Date *"}),n.jsx("input",{type:"date",value:h.date,onChange:F=>k({...h,date:F.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Start Time *"}),n.jsx("input",{type:"time",value:h.startTime,onChange:F=>k({...h,startTime:F.target.value}),className:"w-full p-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Duration *"}),n.jsxs("div",{className:"flex gap-3 items-center",children:[n.jsxs("select",{value:u?"custom":h.durationMinutes.toString(),onChange:F=>b(F.target.value),className:"flex-1 p-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[Nd.map(F=>n.jsx("option",{value:F.value,children:F.label},F.value)),n.jsx("option",{value:"custom",children:"Custom time"})]}),u&&n.jsx("input",{type:"text",value:w,onChange:F=>j(F.target.value),placeholder:"2:30",pattern:"[0-9]:[0-5][0-9]",className:"w-20 p-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border transition-colors text-center bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Visual"}),n.jsxs("div",{className:"grid grid-cols-[auto_1fr] gap-5 items-start",children:[n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx("div",{onClick:()=>c(!i),className:"w-20 h-20 rounded-2xl flex items-center justify-center text-3xl text-white cursor-pointer transition-all hover:scale-105",style:{background:h.color},children:h.icon}),i&&n.jsx("div",{className:"grid grid-cols-6 gap-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:Ah.map(F=>n.jsx("button",{onClick:()=>{k({...h,icon:F}),c(!1)},className:"w-10 h-10 bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg flex items-center justify-center text-lg transition-colors",children:F},F))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"COLOR"}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:Ks.map(F=>n.jsx("button",{onClick:()=>k({...h,color:F}),className:`w-10 h-10 rounded-lg transition-all ${h.color===F?"scale-110 ring-2 ring-gray-400":"hover:scale-105"}`,style:{background:F}},F))})]})]})]}),n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>x(!f),className:"flex items-center gap-3 w-full p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[n.jsx("span",{className:"text-lg",children:"⚙️"}),n.jsx("span",{className:"font-semibold",children:"Advanced Options"}),n.jsx("span",{className:`ml-auto transition-transform ${f?"rotate-90":""}`,children:"▶"})]}),f&&n.jsx("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Reminder"}),n.jsxs("select",{value:h.reminderMinutes||"",onChange:F=>k({...h,reminderMinutes:F.target.value?parseInt(F.target.value):void 0}),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"",children:"No reminder"}),n.jsx("option",{value:"15",children:"15 minutes before"}),n.jsx("option",{value:"30",children:"30 minutes before"}),n.jsx("option",{value:"45",children:"45 minutes before"}),n.jsx("option",{value:"60",children:"1 hour before"})]})]})})]}),n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>m(!g),className:"flex items-center gap-3 w-full p-3 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:[n.jsx("span",{className:"text-lg",children:"🔁"}),n.jsx("span",{className:"font-semibold",children:"Repeat Event"}),n.jsx("span",{className:`ml-auto transition-transform ${g?"rotate-90":""}`,children:"▶"})]}),g&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Enable Repeat"}),n.jsx("button",{type:"button",onClick:()=>k({...h,isRecurring:!h.isRecurring}),className:`relative w-12 h-6 rounded-full transition-colors ${h.isRecurring?"bg-orange-500":"bg-gray-300 dark:bg-gray-600"}`,children:n.jsx("div",{className:`absolute w-5 h-5 bg-white rounded-full transition-transform top-0.5 ${h.isRecurring?"translate-x-6":"translate-x-0.5"}`})})]}),h.isRecurring&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Repeat"}),n.jsxs("select",{value:h.recurrenceType,onChange:F=>k({...h,recurrenceType:F.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"weekly",children:"Weekly"}),n.jsx("option",{value:"monthly",children:"Monthly"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Every ",h.recurrenceType==="weekly"?"week(s)":"month(s)"]}),n.jsx("input",{type:"number",min:"1",max:"12",value:h.recurrenceInterval,onChange:F=>k({...h,recurrenceInterval:parseInt(F.target.value)||1}),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"End Date (Optional)"}),n.jsx("input",{type:"date",value:h.recurrenceEndDate,onChange:F=>k({...h,recurrenceEndDate:F.target.value}),className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus-accent-border bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),n.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[n.jsx("div",{className:"text-xs font-semibold text-blue-700 dark:text-blue-300 mb-1",children:"Repeat Preview"}),n.jsxs("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Repeats every ",h.recurrenceInterval," ",h.recurrenceType==="weekly"?"week":"month",h.recurrenceInterval>1?"s":"",h.recurrenceEndDate&&` until ${new Date(h.recurrenceEndDate).toLocaleDateString()}`]})]})]})]})]}),n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-2",children:"Preview"}),n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg text-white",style:{background:h.color},children:[n.jsx("span",{className:"text-xl",children:h.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold",children:h.title||"New Time Block"}),n.jsxs("div",{className:"text-sm opacity-90",children:[h.startTime," - ",L()," (",$(h.durationMinutes),")"]})]})]}),d(h.date,h.startTime,h.durationMinutes)&&n.jsxs("div",{className:"mt-2 text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[n.jsx("span",{children:"⚠️"}),n.jsx("span",{children:"Time conflict detected with existing time block"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("button",{onClick:t,className:"flex-1 p-3 border border-gray-300 dark:border-gray-700 rounded-lg font-semibold text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:N,disabled:!v(),className:`flex-1 p-3 rounded-lg font-semibold transition-all ${v()?"accent-bg-500 hover-accent-bg-dark text-white hover:-translate-y-0.5 shadow-lg":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,children:s?"💾 Update Time Block":"✨ Create Time Block"})]})]})]})}):null}function e0({event:e,onClick:t,onLongPress:r}){const a=Ko({onLongPress:()=>r==null?void 0:r(),onClick:()=>t==null?void 0:t(),threshold:500});return n.jsxs("div",{...a,className:`flex items-start gap-2 p-2 rounded text-sm font-medium cursor-pointer transition-all hover:scale-105 touch-manipulation h-full w-full select-none border ${e.completed?"opacity-60 line-through":""}`,style:{backgroundColor:e.color.includes("linear-gradient")?e.color.replace("linear-gradient(135deg, ","").replace(")","").split(", ")[0]+"30":e.color+"30",color:e.color.includes("linear-gradient")?e.color.replace("linear-gradient(135deg, ","").replace(")","").split(", ")[0]:e.color,borderColor:e.color.includes("linear-gradient")?e.color.replace("linear-gradient(135deg, ","").replace(")","").split(", ")[0]:e.color},children:[n.jsx("span",{className:"text-base",children:e.icon}),n.jsx("span",{className:"truncate",children:e.title})]})}function Ph({event:e,onClick:t,onLongPress:r}){const a=Ko({onLongPress:()=>r==null?void 0:r(),onClick:()=>t==null?void 0:t(),threshold:500});return n.jsxs("div",{...a,onClick:s=>{s.stopPropagation()},className:`text-xs p-1 rounded cursor-pointer truncate font-medium touch-manipulation ${e.completed?"opacity-60 line-through":""}`,style:{backgroundColor:e.color.includes("linear-gradient")?e.color.replace("linear-gradient(135deg, ","").replace(")","").split(", ")[0]+"20":e.color+"20",color:e.color.includes("linear-gradient")?e.color.replace("linear-gradient(135deg, ","").replace(")","").split(", ")[0]:e.color},children:[e.icon," ",e.title]})}function Sd(){const{currentDate:e,getDayViewData:t,toggleTimeBlockCompletion:r,deleteTimeBlock:a,updateTimeBlock:s}=Ve(),l=t(e);console.log("📅 DayView Debug:",{currentDate:e.toISOString(),dayData:l,eventsCount:l.events.length,events:l.events.map(v=>({title:v.title,startTime:v.startTime,date:v.date}))});const[o,d]=T.useState(null),[i,c]=T.useState(!1),[f,x]=T.useState(!1),[g,m]=T.useState(!1),h=v=>{v.type==="timeblock"&&r(v.id)},k=v=>{d(v),c(!0)},w=()=>{d(null),c(!1),m(!1)},y=()=>{c(!1),m(!0)},u=()=>{x(!0)},p=()=>{const v=[],N=l.events.map(S=>{const b=parseInt(S.startTime.split(":")[0]),j=parseInt(S.startTime.split(":")[1]),L=parseInt(S.endTime.split(":")[0]),$=parseInt(S.endTime.split(":")[1]),F=L*60+$-(b*60+j),U=60,W=(b-6)*U+j/60*U,H=F/60*U;return{event:S,top:W,height:H,startHour:b}});for(let S=6;S<=22;S++){const b=`${S.toString().padStart(2,"0")}:00`,j=Ko({onLongPress:u,threshold:500});v.push(n.jsxs("div",{className:"flex border-b border-gray-700 h-[60px] relative",children:[n.jsx("div",{className:"w-16 sm:w-20 p-2 sm:p-3 text-xs text-gray-400 bg-gray-900 border-r border-gray-700 flex items-start shrink-0",children:b}),n.jsx("div",{...j,className:"flex-1 relative bg-gray-800 cursor-pointer select-none"})]},S))}return n.jsxs("div",{className:"relative",children:[v,n.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:n.jsxs("div",{className:"flex h-full",children:[n.jsx("div",{className:"w-16 sm:w-20 shrink-0"}),n.jsx("div",{className:"flex-1 relative overflow-hidden",children:N.map(({event:S,top:b,height:j})=>{const $=Math.max(0,Math.min(b,984)),F=Math.min(j,1020-$),U=Math.max(Math.min(F,j),36);return n.jsx("div",{className:"absolute left-2 right-2 z-10 pointer-events-auto overflow-hidden",style:{top:`${$}px`,height:`${U}px`,minHeight:"36px",maxHeight:`${1020-$}px`},children:n.jsx(e0,{event:S,onClick:()=>h(S),onLongPress:()=>k(S)})},S.id)})})]})})]})};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden h-[calc(100vh-200px)]",children:n.jsx("div",{className:"h-full overflow-y-auto overflow-x-hidden",children:p()})}),n.jsx(Jo,{event:o,isOpen:i,onClose:w,onToggleComplete:r,onEdit:y,onDelete:v=>{console.log("🗑️ CalendarViews: Delete request for event ID:",v),a(v),console.log("🗑️ CalendarViews: Delete completed, closing modal"),w()}}),n.jsx(Br,{isOpen:f,onClose:()=>x(!1)}),o&&n.jsx(Br,{isOpen:g,onClose:w,prefilledDate:o.date,prefilledTime:o.startTime,editingTimeBlock:{id:o.linkedId||o.id,title:o.title,description:o.description,date:o.date,startTime:o.startTime,durationMinutes:(()=>{const[v,N]=o.startTime.split(":").map(Number),[S,b]=o.endTime.split(":").map(Number),j=v*60+N;return S*60+b-j})()}})]})}function _h(){const{currentDate:e,getWeekViewData:t,toggleTimeBlockCompletion:r,navigateToDay:a,updateTimeBlock:s}=Ve(),l=t(e),[o,d]=T.useState(null),[i,c]=T.useState(!1),[f,x]=T.useState(!1);console.log("🗓️ WeekView Debug:",{currentDate:e.toISOString(),weekData:l,daysCount:l.days.length,dayDates:l.days.map(p=>({date:p.date,eventsCount:p.events.length}))});const g=p=>{p.type==="timeblock"&&r(p.id)},m=p=>{d(p),c(!0)},h=()=>{d(null),c(!1),x(!1)},k=()=>{c(!1),x(!0)},w=p=>{a(p)},y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=Array.from({length:17},(p,v)=>v+6);return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-gray-900 rounded-xl overflow-hidden",children:[n.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-700",children:[n.jsx("div",{className:"h-16 bg-gray-800 border-r border-gray-700"}),l.days.map((p,v)=>{const[N,S,b]=p.date.split("-").map(Number),j=new Date(N,S-1,b),L=j.toDateString()===new Date().toDateString();return n.jsxs("div",{onClick:()=>w(j),className:"h-16 bg-gray-800 border-r border-gray-700 last:border-r-0 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-700 transition-colors",children:[n.jsx("div",{className:"text-xs text-gray-400 mb-1",children:y[v]}),L?n.jsx("div",{className:"w-6 h-6 bg-orange-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:j.getDate()}):n.jsx("div",{className:"text-lg font-bold text-white",children:j.getDate()})]},p.date)})]}),n.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:u.map(p=>n.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-700",children:[n.jsxs("div",{className:"h-16 bg-gray-800 border-r border-gray-700 flex items-center justify-center text-xs text-gray-400",children:[p.toString().padStart(2,"0"),":00"]}),l.days.map((v,N)=>{const S=v.events.filter(b=>parseInt(b.startTime.split(":")[0])===p);return p===6&&console.log(`📅 Day ${N} (${v.date}):`,{date:v.date,totalEvents:v.events.length,events:v.events.map(b=>({title:b.title,startTime:b.startTime,date:b.date}))}),n.jsx("div",{className:"h-16 bg-gray-900 border-r border-gray-700 last:border-r-0 p-1 relative",children:S.map(b=>n.jsx(e0,{event:b,onClick:()=>g(b),onLongPress:()=>m(b)},b.id))},`${v.date}-${p}`)})]},p))})]}),o&&n.jsx(Jo,{isOpen:i,onClose:h,event:o,onEdit:k}),o&&n.jsx(Br,{isOpen:f,onClose:h,prefilledDate:o.date,prefilledTime:o.startTime,editingTimeBlock:{id:o.linkedId||o.id,title:o.title,description:o.description,date:o.date,startTime:o.startTime,durationMinutes:(()=>{const[p,v]=o.startTime.split(":").map(Number),[N,S]=o.endTime.split(":").map(Number),b=p*60+v;return N*60+S-b})()}})]})}function Oh(){const{currentDate:e,getMonthViewData:t,toggleTimeBlockCompletion:r,navigateToDay:a,updateTimeBlock:s}=Ve(),l=t(e),[o,d]=T.useState(null),[i,c]=T.useState(!1),[f,x]=T.useState(!1),g=u=>{u.type==="timeblock"&&r(u.id)},m=u=>{d(u),c(!0)},h=()=>{d(null),c(!1),x(!1)},k=()=>{c(!1),x(!0)},w=u=>{const[p,v,N]=u.split("-").map(Number),S=new Date(p,v-1,N);a(S)},y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm border border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"grid grid-cols-7 bg-gray-50 dark:bg-gray-700 border-b border-gray-200 dark:border-gray-600",children:y.map(u=>n.jsx("div",{className:"p-2 sm:p-4 text-center text-xs sm:text-sm font-semibold text-gray-600 dark:text-gray-300 border-r border-gray-200 dark:border-gray-600 last:border-r-0",children:u},u))}),n.jsx("div",{className:"grid grid-cols-7 gap-px bg-gray-200 dark:bg-gray-600",children:l.days.map((u,p)=>n.jsxs("div",{onClick:()=>w(u.date),className:`bg-white dark:bg-gray-800 min-h-[100px] sm:min-h-[120px] p-1 sm:p-2 relative cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ${u.isCurrentMonth?"":"bg-gray-50 dark:bg-gray-700 text-gray-400 dark:text-gray-500"} ${u.isToday?"accent-bg-50 dark:accent-bg-900 border-2 accent-border-500":""}`,children:[n.jsx("div",{className:`text-xs sm:text-sm font-semibold mb-1 sm:mb-2 ${u.isToday?"accent-text-600 dark:accent-text-400":u.isCurrentMonth?"text-gray-900 dark:text-gray-100":"text-gray-400 dark:text-gray-500"}`,children:u.dayNumber}),n.jsxs("div",{className:"space-y-1",children:[u.events.slice(0,3).map(v=>n.jsx(Ph,{event:v,onClick:()=>g(v),onLongPress:()=>m(v)},v.id)),u.events.length>3&&n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["+",u.events.length-3," more"]})]})]},`${u.date}-${p}`))})]}),o&&n.jsx(Jo,{isOpen:i,onClose:h,event:o,onEdit:k}),o&&n.jsx(Br,{isOpen:f,onClose:h,prefilledDate:o.date,prefilledTime:o.startTime,editingTimeBlock:{id:o.linkedId||o.id,title:o.title,description:o.description,date:o.date,startTime:o.startTime,durationMinutes:(()=>{const[u,p]=o.startTime.split(":").map(Number),[v,N]=o.endTime.split(":").map(Number),S=u*60+p;return v*60+N-S})()}})]})}function Lh({onCreateTimeBlock:e}){return n.jsxs("div",{className:"text-center py-16 px-6 bg-white dark:bg-gray-800 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute top-2 right-8 text-2xl opacity-60 animate-pulse",children:"⏰"}),n.jsx("div",{className:"text-8xl mb-4 animate-bounce opacity-80",children:"📅"})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Events Scheduled"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base leading-relaxed mb-8 max-w-md mx-auto",children:"Time blocking helps you stay focused and achieve your goals. Schedule your tasks, habits, and important events to take control of your day."}),n.jsx("div",{className:"flex flex-col items-center gap-3 mb-6",children:n.jsx("button",{onClick:e,className:"flex items-center gap-2 px-8 py-4 accent-gradient text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:"📅 Schedule Your First Block"})}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 mb-8",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3 text-center",children:"⏰ Time Block Ideas"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🌅"})," Morning routine - 7:00 AM"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"💼"})," Deep work session - 9:00 AM"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🏃"})," Workout time - 6:00 PM"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"📚"})," Learning session - 8:00 PM"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"🎯"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:"Schedule goal activities"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"🔄"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:"Block time for habits"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"⚠️"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:"Conflict detection"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"📱"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:"Mobile optimized"})]})]})]})}function $h(){const{timeBlocks:e,currentView:t,currentDate:r,setCurrentView:a,navigatePrevious:s,navigateNext:l}=Ve(),[o,d]=T.useState(!1),i=(g=!1)=>{switch(t){case"day":return g?r.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}):r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});case"week":const m=c(r),h=f(r);return g?`${m.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${h.toLocaleDateString("en-US",{day:"numeric"})}`:`${m.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${h.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`;case"month":return g?r.toLocaleDateString("en-US",{month:"short",year:"numeric"}):r.toLocaleDateString("en-US",{year:"numeric",month:"long"});default:return""}},c=g=>{const m=new Date(g),h=m.getDay();return m.setDate(m.getDate()-h),m},f=g=>{const m=c(g),h=new Date(m);return h.setDate(m.getDate()+6),h},x=()=>{switch(t){case"day":return n.jsx(Sd,{});case"week":return n.jsx(_h,{});case"month":return n.jsx(Oh,{});default:return n.jsx(Sd,{})}};return e.length===0?n.jsxs(n.Fragment,{children:[n.jsx(Lh,{onCreateTimeBlock:()=>d(!0)}),n.jsx(Br,{isOpen:o,onClose:()=>d(!1)})]}):n.jsx("div",{className:"flex-1 bg-gray-900 min-h-screen",children:n.jsxs("div",{className:"w-full px-2 py-3 lg:px-3 lg:py-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"hidden sm:flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:s,className:"w-8 h-8 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center justify-center text-gray-300 transition-colors",children:"‹"}),n.jsx("button",{onClick:()=>{},className:"px-3 py-1.5 accent-bg-500 hover:accent-bg-600 text-white text-sm font-medium rounded-md transition-colors",children:"Today"}),n.jsx("button",{onClick:l,className:"w-8 h-8 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center justify-center text-gray-300 transition-colors",children:"›"}),n.jsx("h1",{className:"text-lg font-medium text-white ml-4",children:i()})]}),n.jsx("div",{className:"flex bg-gray-800 rounded-md overflow-hidden",children:[{key:"month",label:"M"},{key:"week",label:"W"},{key:"day",label:"D"}].map(({key:g,label:m})=>n.jsx("button",{onClick:()=>a(g),className:`px-4 py-2 text-sm font-medium transition-all ${t===g?"accent-bg-500 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:m},g))})]}),n.jsxs("div",{className:"sm:hidden space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:s,className:"w-7 h-7 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center justify-center text-gray-300 transition-colors",children:"‹"}),n.jsx("button",{onClick:()=>{},className:"px-2 py-1 accent-bg-500 hover:accent-bg-600 text-white text-xs font-medium rounded-md transition-colors",children:"Today"}),n.jsx("button",{onClick:l,className:"w-7 h-7 bg-gray-800 hover:bg-gray-700 rounded-md flex items-center justify-center text-gray-300 transition-colors",children:"›"})]}),n.jsx("div",{className:"flex bg-gray-800 rounded-md overflow-hidden",children:[{key:"month",label:"M"},{key:"week",label:"W"},{key:"day",label:"D"}].map(({key:g,label:m})=>n.jsx("button",{onClick:()=>a(g),className:`px-3 py-1.5 text-xs font-medium transition-all ${t===g?"accent-bg-500 text-white":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:m},g))})]}),n.jsx("h1",{className:"text-base font-medium text-white text-center",children:i(!0)})]})]}),x(),n.jsx(Br,{isOpen:o,onClose:()=>d(!1)})]})})}function Rh({onCreateEntry:e}={}){return n.jsxs("div",{className:"text-center py-16 px-6 bg-white dark:bg-gray-800 rounded-3xl border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"relative mb-6",children:[n.jsx("div",{className:"absolute top-2 right-8 text-2xl opacity-60 animate-pulse",children:"💭"}),n.jsx("div",{className:"text-8xl mb-4 animate-bounce opacity-80",children:"📝"})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Journal Entries"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-base leading-relaxed mb-8 max-w-md mx-auto",children:"Reflection amplifies growth. Start journaling to capture insights, track your mood, and see patterns in your productivity journey."}),n.jsx("div",{className:"flex flex-col items-center gap-3 mb-6",children:n.jsx("button",{onClick:e,className:"flex items-center gap-2 px-8 py-4 accent-gradient text-white font-semibold rounded-2xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-300",children:"✍️ Write Your First Entry"})}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-4 mb-8",children:[n.jsx("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3 text-center",children:"💭 Journal Prompts"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🌅"})," What am I grateful for today?"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🎯"})," What progress did I make on my goals?"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"💡"})," What did I learn today?"]}),n.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-gray-600 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[n.jsx("span",{children:"🌙"})," How am I feeling right now?"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"🔗"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:"Link to goals & habits"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"😊"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:"Track your mood daily"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"🤖"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:"Auto-prompts from AI"})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-8 h-8 accent-gradient rounded-lg flex items-center justify-center text-white text-sm",children:"📈"}),n.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-200",children:"See patterns over time"})]})]})]})}function zh(){const{entries:e,currentFilter:t,searchQuery:r,isModalOpen:a,getFilteredEntries:s,setFilter:l,setSearchQuery:o,openModal:d,closeModal:i,addEntry:c,selectEntry:f,deleteEntry:x}=Ln(),{tasks:g}=qe(),[m,h]=T.useState(!1),[k,w]=T.useState(null),[y,u]=T.useState(""),[p,v]=T.useState("neutral"),[N,S]=T.useState(new Set),b=s();T.useEffect(()=>{if(m&&!r){const C=setTimeout(()=>{h(!1)},3e3);return w(C),()=>{C&&clearTimeout(C)}}else k&&(clearTimeout(k),w(null))},[m,r]),T.useEffect(()=>()=>{k&&clearTimeout(k)},[]);const j=()=>{d()},L=C=>{f(C)},$=C=>{const O=new Set(N);O.has(C)?O.delete(C):O.add(C),S(O)},F=C=>{confirm("Are you sure you want to delete this journal entry?")&&x(C)},U=C=>{v(C)},z=()=>{y.trim().length>=10&&(c({content:y,mood:p,tags:[],linkedGoals:[],linkedTasks:[],linkedHabits:[]}),u(""),v("neutral"))},W=C=>{const O=new Date,M=new Date(C),E=new Date(O.getFullYear(),O.getMonth(),O.getDate()),P=new Date(M.getFullYear(),M.getMonth(),M.getDate()),D=E.getTime()-P.getTime(),q=Math.floor(D/(1e3*60*60*24));return q===0?"Today":q===1?"Yesterday":M.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})},H=C=>{const O=Kl.find(M=>M.id===C);return(O==null?void 0:O.emoji)||"😐"},J=(C,O,M=150)=>O||C.length<=M?C:C.substring(0,M)+"...",re=(C,O=150)=>C.length>O,I={all:e.length,today:e.filter(C=>{const O=new Date;return new Date(C.createdAt).toDateString()===O.toDateString()}).length,"this-week":e.filter(C=>{const O=new Date,M=new Date(O.getFullYear(),O.getMonth(),O.getDate()-O.getDay());return new Date(C.createdAt)>=M}).length,"this-month":e.filter(C=>{const O=new Date,M=new Date(C.createdAt);return M.getMonth()===O.getMonth()&&M.getFullYear()===O.getFullYear()}).length};return e.length===0?n.jsxs("div",{children:[n.jsx(Rh,{onCreateEntry:j}),n.jsx(Jl,{isOpen:a,onClose:i})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Journal"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>h(!m),className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-xl flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:n.jsx(qu,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),n.jsx("button",{onClick:j,className:"w-12 h-12 bg-gradient-to-r accent-gradient rounded-2xl text-white flex items-center justify-center shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200",children:n.jsx(at,{className:"w-6 h-6"})})]})]}),m&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:n.jsx("input",{type:"text",value:r,onChange:C=>o(C.target.value),placeholder:"Search your journal entries...",className:"w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus-accent-ring focus-accent-border outline-none",autoFocus:!0})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-1 shadow-sm border border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"grid grid-cols-4 gap-1",children:[{id:"all",label:"All",count:I.all},{id:"today",label:"Today",count:I.today},{id:"this-week",label:"Week",count:I["this-week"]},{id:"this-month",label:"Month",count:I["this-month"]}].map(C=>n.jsxs("button",{onClick:()=>l(C.id),className:`px-2 py-3 rounded-lg font-medium text-sm transition-all text-center ${t===C.id?"accent-bg-500 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[n.jsx("div",{className:"truncate",children:C.label}),n.jsx("div",{className:`text-xs mt-0.5 px-1.5 py-0.5 rounded-full inline-block ${t===C.id?"bg-white/20":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:C.count})]},C.id))})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx("div",{className:"w-8 h-8 accent-bg-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white text-sm",children:"✍️"})}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Quick Reflection"})]}),n.jsx("textarea",{value:y,onChange:C=>u(C.target.value),placeholder:"How are you feeling? What's on your mind? Any insights from today?",className:"w-full p-3 border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg resize-none focus:ring-2 focus-accent-ring focus-accent-border outline-none text-sm",rows:3}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsx("div",{className:"flex gap-2",children:Kl.map(C=>n.jsx("button",{onClick:()=>U(C.id),className:`w-10 h-10 rounded-lg text-xl transition-all hover:scale-110 ${p===C.id?"accent-bg-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,title:C.label,children:C.emoji},C.id))}),n.jsx("button",{onClick:z,disabled:y.trim().length<10,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${y.trim().length>=10?"accent-bg-500 text-white hover-accent-bg-dark":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:"Save Entry"})]})]}),n.jsx("div",{className:"space-y-4",children:b.length===0?n.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-4 opacity-50",children:"📝"}),n.jsx("div",{className:"font-semibold text-lg mb-2",children:"No entries found"}),n.jsx("div",{className:"text-sm",children:r?"Try a different search term":"No entries match the selected filter"})]}):b.map(C=>{const O=N.has(C.id),M=re(C.content);return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all duration-200 group",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:W(C.createdAt)}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(C.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]}),n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:E=>{E.stopPropagation(),L(C)},className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n.jsx(Wu,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),n.jsx("button",{onClick:E=>{E.stopPropagation(),F(C.id)},className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded-lg flex items-center justify-center hover:bg-red-200 dark:hover:bg-red-800 transition-colors",children:n.jsx(ut,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})]}),n.jsxs("div",{className:`text-gray-900 dark:text-white leading-relaxed mb-3 transition-all duration-300 ${M?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg p-2 -m-2 transition-colors":""}`,onClick:M?()=>$(C.id):void 0,children:[J(C.content,O),M&&n.jsx("div",{className:"flex items-center gap-1 mt-2 text-sm text-gray-500 dark:text-gray-400 transition-all duration-200",children:O?n.jsxs(n.Fragment,{children:[n.jsx(Uu,{className:"w-4 h-4 transition-transform duration-200"}),n.jsx("span",{children:"Read less"})]}):n.jsxs(n.Fragment,{children:[n.jsx(Vo,{className:"w-4 h-4 transition-transform duration-200"}),n.jsx("span",{children:"Read more"})]})})]}),C.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:C.tags.map(E=>n.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-lg text-xs font-medium",children:["#",E]},E))}),(C.linkedTasks.length>0||C.linkedGoals.length>0||C.linkedHabits.length>0)&&n.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.linkedTasks.length>0&&n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-50 text-green-700 rounded-lg text-xs font-medium",children:["✅ ",C.linkedTasks.length," task",C.linkedTasks.length>1?"s":""]}),C.linkedGoals.length>0&&n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-lg text-xs font-medium",children:["🎯 ",C.linkedGoals.length," goal",C.linkedGoals.length>1?"s":""]}),C.linkedHabits.length>0&&n.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-purple-50 text-purple-700 rounded-lg text-xs font-medium",children:["🔄 ",C.linkedHabits.length," habit",C.linkedHabits.length>1?"s":""]})]}),n.jsxs("div",{className:"flex items-center justify-between mt-3",children:[n.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:[C.characterCount," characters"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"How was your day?"}),n.jsx("div",{className:"text-xl",children:H(C.mood)})]})]})]},C.id)})}),n.jsx(Jl,{isOpen:a,onClose:i})]})}const Bh=()=>Date.now().toString()+Math.random().toString(36).substring(2,9),Hh={id:Bh(),name:"Alex Chen",email:"alex.chen@example.com",isPremium:!1,memberSince:new Date,timezone:"UTC",language:"en"},Cd={totalGoals:0,completedGoals:0,currentStreak:0,longestStreak:0,totalTasks:0,completedTasks:0,totalHabits:0,activeHabits:0,journalEntries:0,timeBlocks:0},Uh={startOfWeek:"monday",dateFormat:"MM/DD/YYYY",timeFormat:"12h",defaultTaskPriority:"medium",defaultHabitFrequency:"daily",autoArchiveCompleted:!0,showTutorials:!0},Xo=Ut()(ir((e,t)=>({profile:Hh,stats:Cd,preferences:Uh,achievements:[],isAuthenticated:!0,isLoading:!1,setProfile:r=>{e({profile:r,isAuthenticated:!0})},updateProfile:r=>{e(a=>({profile:a.profile?{...a.profile,...r}:null}))},updatePreferences:r=>{e(a=>({preferences:{...a.preferences,...r}}))},updateStats:r=>{e(a=>({stats:{...a.stats,...r}}))},addAchievement:r=>{e(a=>({achievements:[r,...a.achievements]}))},signIn:r=>{e({profile:r,isAuthenticated:!0,isLoading:!1})},signOut:()=>{e({profile:null,isAuthenticated:!1,stats:Cd,achievements:[]})},calculateStats:()=>({...t().stats,totalGoals:4,completedGoals:2,currentStreak:23,longestStreak:45,totalTasks:127,completedTasks:89,totalHabits:8,activeHabits:6,journalEntries:42,timeBlocks:15}),getDisplayName:()=>{const{profile:r}=t();return(r==null?void 0:r.name)||"User"},getProfileInitials:()=>{const{profile:r}=t();if(!(r!=null&&r.name))return"U";const a=r.name.split(" ");return a.length===1?a[0].charAt(0).toUpperCase():(a[0].charAt(0)+a[a.length-1].charAt(0)).toUpperCase()},isPremiumUser:()=>{const{profile:r}=t();return(r==null?void 0:r.isPremium)||!1},getCurrentStreak:()=>t().stats.currentStreak,getTotalCompletedItems:()=>{const{stats:r}=t();return r.completedGoals+r.completedTasks+r.journalEntries}}),{name:"user-store",version:1}));function Gh({isOpen:e,onClose:t}){const{profile:r,updateProfile:a,getProfileInitials:s}=Xo(),[l,o]=T.useState({name:"",email:"",timezone:"",language:""});T.useEffect(()=>{e&&r&&o({name:r.name||"",email:r.email||"",timezone:r.timezone||"UTC",language:r.language||"en"})},[e,r]);const d=f=>{f.preventDefault(),a(l),t()},i=()=>{r&&o({name:r.name||"",email:r.email||"",timezone:r.timezone||"UTC",language:r.language||"en"}),t()},c=()=>{console.log("Open image picker for avatar")};return!e||!r?null:n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300 text-gray-900 dark:text-white",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Profile"}),n.jsx("button",{onClick:i,className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n.jsx(gt,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]}),n.jsxs("form",{onSubmit:d,className:"overflow-y-auto max-h-[calc(90vh-140px)]",children:[n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx("div",{className:"w-24 h-24 accent-gradient rounded-xl flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:r.avatar?n.jsx("img",{src:r.avatar,alt:r.name,className:"w-full h-full rounded-xl object-cover"}):s()}),n.jsx("button",{type:"button",onClick:c,className:"absolute -bottom-2 -right-2 w-8 h-8 accent-bg-500 hover-accent-bg-dark rounded-full flex items-center justify-center text-white shadow-lg transition-colors",children:n.jsx(_m,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center",children:"Tap to change your profile picture"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Full Name *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500"}),n.jsx("input",{type:"text",required:!0,value:l.name,onChange:f=>o(x=>({...x,name:f.target.value})),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your full name"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:f=>o(x=>({...x,email:f.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your email address"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Timezone"}),n.jsxs("select",{value:l.timezone,onChange:f=>o(x=>({...x,timezone:f.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"UTC",children:"UTC (Coordinated Universal Time)"}),n.jsx("option",{value:"America/New_York",children:"Eastern Time (ET)"}),n.jsx("option",{value:"America/Chicago",children:"Central Time (CT)"}),n.jsx("option",{value:"America/Denver",children:"Mountain Time (MT)"}),n.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time (PT)"}),n.jsx("option",{value:"Europe/London",children:"London (GMT)"}),n.jsx("option",{value:"Europe/Paris",children:"Central European Time"}),n.jsx("option",{value:"Asia/Tokyo",children:"Japan Time (JST)"}),n.jsx("option",{value:"Australia/Sydney",children:"Australian Eastern Time"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Language"}),n.jsxs("select",{value:l.language,onChange:f=>o(x=>({...x,language:f.target.value})),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus-accent-ring focus-accent-border outline-none transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Español"}),n.jsx("option",{value:"fr",children:"Français"}),n.jsx("option",{value:"de",children:"Deutsch"}),n.jsx("option",{value:"ja",children:"日本語"}),n.jsx("option",{value:"ko",children:"한국어"}),n.jsx("option",{value:"zh",children:"中文"})]})]})]}),n.jsxs("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex gap-3",children:[n.jsx("button",{type:"button",onClick:i,className:"flex-1 py-3 px-4 border border-gray-300 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 py-3 px-4 accent-gradient text-white rounded-xl font-medium hover:accent-gradient-dark transition-all shadow-lg hover:shadow-xl",children:"Save Changes"})]})]})]})})}function Wh(){const{profile:e,getDisplayName:t,getProfileInitials:r,isPremiumUser:a,calculateStats:s}=Xo(),l=s(),[o,d]=T.useState(!1);if(!e)return null;const i=()=>{d(!0)},c=({value:f,label:x})=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-lg font-bold text-orange-500 mb-1",children:f}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:x})]});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:e.avatar?n.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full rounded-xl object-cover"}):r()}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-3 border-white flex items-center justify-center",children:n.jsx(Hu,{className:"w-3 h-3 text-white"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1 truncate",children:t()}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 truncate",children:e.email}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(c,{value:l.totalGoals,label:"Goals"}),n.jsx(c,{value:l.currentStreak,label:"Day Streak"}),n.jsx(c,{value:l.totalTasks,label:"Total Tasks"})]})]}),n.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-lg transition-colors text-sm font-medium",children:[n.jsx(_n,{className:"w-4 h-4"}),"Edit"]})]}),a()&&n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white px-3 py-2 rounded-lg text-sm font-medium text-center",children:"⭐ Premium Member"})]}),n.jsx(Gh,{isOpen:o,onClose:()=>d(!1)})]})}function mr({title:e,icon:t,children:r,className:a=""}){return n.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm ${a}`,children:[n.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-700 border-b border-gray-100 dark:border-gray-600",children:n.jsxs("h2",{className:"flex items-center gap-2 text-base font-semibold text-gray-900 dark:text-white",children:[t&&n.jsx("span",{className:"text-lg",children:t}),e]})}),n.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-600",children:r})]})}function qh({checked:e,onChange:t,disabled:r=!1,size:a="medium",color:s="orange",className:l=""}){const o=()=>{switch(a){case"small":return{container:"w-10 h-6",knob:"w-4 h-4 top-1 left-1",translate:"translate-x-4"};case"large":return{container:"w-14 h-8",knob:"w-6 h-6 top-1 left-1",translate:"translate-x-6"};default:return{container:"w-12 h-7",knob:"w-5 h-5 top-1 left-1",translate:"translate-x-5"}}},d=()=>{switch(s){case"blue":return"bg-blue-500";case"green":return"bg-green-500";case"purple":return"bg-purple-500";default:return"accent-bg-500"}},i=o(),c=d();return n.jsxs("button",{type:"button",role:"switch","aria-checked":e,disabled:r,onClick:()=>!r&&t(!e),className:`
        relative inline-flex items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus-accent-ring focus:ring-offset-2
        ${i.container}
        ${e?c:"bg-gray-300"}
        ${r?"opacity-50 cursor-not-allowed":"cursor-pointer hover:opacity-90"}
        ${l}
      `,children:[n.jsx("span",{className:"sr-only",children:"Toggle setting"}),n.jsx("span",{className:`
          inline-block bg-white rounded-full shadow-sm transition-transform duration-200
          ${i.knob}
          ${e?i.translate:"translate-x-0"}
        `})]})}function he({icon:e,iconBgColor:t="bg-gray-500",title:r,subtitle:a,value:s,badge:l,type:o="navigate",checked:d=!1,disabled:i=!1,onClick:c,onToggle:f,className:x=""}){const g=()=>{i||(o==="toggle"&&f?f(!d):c&&c())},m=()=>{switch(o){case"toggle":return n.jsx(qh,{checked:d,onChange:f||(()=>{}),disabled:i});case"value":return n.jsxs("div",{className:"flex items-center gap-2",children:[s&&n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:s}),l,n.jsx(ql,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})]});case"action":return n.jsxs("div",{className:"flex items-center gap-2",children:[s,l]});default:return n.jsxs("div",{className:"flex items-center gap-2",children:[s&&n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:s}),l,n.jsx(ql,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})]})}};return n.jsxs("div",{onClick:g,className:`
        flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-600 last:border-b-0 transition-colors
        ${i?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700"}
        ${x}
      `,children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[n.jsx("div",{className:`
          w-9 h-9 rounded-lg flex items-center justify-center text-white flex-shrink-0
          ${t}
        `,children:e}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"flex items-center gap-2 mb-1",children:n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:r})}),a&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-tight",children:a})]})]}),n.jsx("div",{className:"flex-shrink-0 ml-3",children:m()})]})}const Js=[{id:"orange",name:"Orange",value:"#FF7101",lightBg:"bg-orange-500",darkBg:"bg-orange-600",lightRing:"ring-orange-500",darkRing:"ring-orange-400"},{id:"blue",name:"Cyan",value:"#06B6D4",lightBg:"bg-cyan-500",darkBg:"bg-cyan-600",lightRing:"ring-cyan-500",darkRing:"ring-cyan-400"},{id:"green",name:"Emerald",value:"#10B981",lightBg:"bg-emerald-500",darkBg:"bg-emerald-600",lightRing:"ring-emerald-500",darkRing:"ring-emerald-400"},{id:"purple",name:"Purple",value:"#A855F7",lightBg:"bg-purple-500",darkBg:"bg-purple-600",lightRing:"ring-purple-500",darkRing:"ring-purple-400"},{id:"red",name:"Bordeaux",value:"#7C2D12",lightBg:"bg-red-800",darkBg:"bg-red-900",lightRing:"ring-red-800",darkRing:"ring-red-700"},{id:"yellow",name:"Corn",value:"#EAB308",lightBg:"bg-yellow-500",darkBg:"bg-yellow-600",lightRing:"ring-yellow-500",darkRing:"ring-yellow-400"}];function Vh({isOpen:e,onClose:t}){var c,f;const{settings:r,setAccentColor:a}=hs(),[s,l]=T.useState(r.appearance.accentColor),o=x=>{l(x)},d=()=>{a(s),t()},i=()=>{l(r.appearance.accentColor),t()};return e?n.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-3 sm:p-4 md:p-5",children:n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm sm:max-w-md max-h-[85vh] overflow-hidden shadow-2xl animate-in slide-in-from-bottom duration-300 text-gray-900 dark:text-white flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 dark:border-gray-700",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Choose Accent Color"}),n.jsx("button",{onClick:i,className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n.jsx(gt,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-6",children:"Select your preferred accent color. This will be applied throughout the app."}),n.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:Js.map(x=>n.jsxs("button",{onClick:()=>o(x.id),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all hover:bg-gray-50 dark:hover:bg-gray-800 ${s===x.id?"border-gray-400 dark:border-gray-500 bg-gray-50 dark:bg-gray-800 accent-ring-300 ring-2":"border-gray-200 dark:border-gray-700"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full ${x.lightBg} shadow-md flex items-center justify-center`,children:s===x.id&&n.jsx(Ja,{className:"w-4 h-4 text-white"})}),n.jsx("div",{className:"text-left",children:n.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:x.name})})]},x.id))}),n.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-xl",children:[n.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300 uppercase tracking-wide mb-3",children:"Preview"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg shadow-md ${(c=Js.find(x=>x.id===s))==null?void 0:c.lightBg} dark:${(f=Js.find(x=>x.id===s))==null?void 0:f.darkBg}`}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"Sample Button"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"This shows how your accent color will look"})]})]})]})]})}),n.jsxs("div",{className:"flex-shrink-0 p-6 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex gap-3",children:[n.jsx("button",{onClick:i,className:"flex-1 py-3 px-4 border border-gray-300 dark:border-gray-700 rounded-xl text-gray-700 dark:text-gray-200 font-medium hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:d,className:"flex-1 py-3 px-4 rounded-xl font-medium text-white transition-all shadow-lg hover:shadow-xl accent-gradient hover:accent-gradient-dark",children:"Apply Color"})]})]})}):null}function Qh(){const{settings:e,toggleNotifications:t,setTheme:r,togglePrivacySetting:a,updateAppearanceSettings:s,getAccentColorName:l}=hs(),{signOut:o,isPremiumUser:d}=Xo(),[i,c]=T.useState(!1),f=()=>{console.log("Open time picker")},x=()=>{const y=e.appearance.theme==="light"?"dark":"light";r(y)},g=()=>{c(!0)},m=()=>{console.log("Upgrade to premium")},h=()=>{console.log("Export data")},k=()=>{o()},w=()=>n.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white text-xs px-2 py-1 rounded-md font-semibold",children:"PREMIUM"});return n.jsxs("div",{className:"space-y-6 pb-16",children:[n.jsx(Wh,{}),!d()&&n.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-5 text-white relative overflow-hidden",children:[n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:n.jsx(Ws,{className:"w-5 h-5"})}),n.jsx("h3",{className:"text-lg font-semibold",children:"Unlock AI Superpowers"})]}),n.jsx("p",{className:"text-purple-100 text-sm mb-4 leading-relaxed",children:"Get personalized insights, smart goal suggestions, and auto-generated journal prompts that make your productivity journey effortless."}),n.jsx("button",{onClick:m,className:"bg-white text-purple-600 px-4 py-2 rounded-lg font-semibold text-sm hover:bg-purple-50 transition-colors",children:"Upgrade to Premium"})]}),n.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 rounded-full -translate-y-6 translate-x-6"})]}),n.jsxs(mr,{title:"Notifications",icon:n.jsx(cd,{className:"w-5 h-5"}),children:[n.jsx(he,{icon:n.jsx(cd,{className:"w-4 h-4"}),iconBgColor:"bg-blue-500",title:"Push Notifications",subtitle:"Get reminders for habits and tasks",type:"toggle",checked:e.notifications.pushNotifications,onToggle:()=>t("pushNotifications")}),n.jsx(he,{icon:n.jsx(sr,{className:"w-4 h-4"}),iconBgColor:"bg-blue-500",title:"Reminder Time",subtitle:"When to send daily reminders",type:"value",value:e.notifications.reminderTime,onClick:f}),n.jsx(he,{icon:n.jsx(Am,{className:"w-4 h-4"}),iconBgColor:"bg-blue-500",title:"Achievement Notifications",subtitle:"Celebrate streaks and milestones",type:"toggle",checked:e.notifications.achievementNotifications,onToggle:()=>t("achievementNotifications")})]}),n.jsxs(mr,{title:"Appearance",icon:n.jsx(ud,{className:"w-5 h-5"}),children:[n.jsx(he,{icon:n.jsx(Qm,{className:"w-4 h-4"}),iconBgColor:"bg-gray-500",title:"Theme",subtitle:"Choose your preferred theme",type:"value",value:e.appearance.theme==="light"?"Light":"Dark",onClick:x}),n.jsx(he,{icon:n.jsx(ud,{className:"w-4 h-4"}),iconBgColor:"bg-gray-500",title:"Accent Color",subtitle:"Customize your experience",type:"value",value:l(),onClick:g}),n.jsx(he,{icon:n.jsx(Ws,{className:"w-4 h-4"}),iconBgColor:"bg-gray-500",title:"Animations",subtitle:"Enable smooth transitions",type:"toggle",checked:e.appearance.animations,onToggle:y=>s({animations:y})})]}),n.jsxs(mr,{title:"Privacy & Data",icon:n.jsx(Xm,{className:"w-5 h-5"}),children:[n.jsx(he,{icon:n.jsx(Wm,{className:"w-4 h-4"}),iconBgColor:"bg-green-500",title:"Privacy Policy",subtitle:"How we protect your data",type:"navigate",onClick:()=>console.log("Open privacy policy")}),n.jsx(he,{icon:n.jsx(Gu,{className:"w-4 h-4"}),iconBgColor:"bg-purple-500",title:"Data Export",subtitle:"Download your data",type:"navigate",onClick:h}),n.jsx(he,{icon:n.jsx(Wl,{className:"w-4 h-4"}),iconBgColor:"bg-green-500",title:"Analytics",subtitle:"Help improve Kage",type:"toggle",checked:e.privacy.analytics,onToggle:()=>a("analytics")})]}),n.jsxs(mr,{title:"Premium Features",icon:n.jsx(gd,{className:"w-5 h-5"}),children:[n.jsx(he,{icon:n.jsx(Ws,{className:"w-4 h-4"}),iconBgColor:"bg-amber-500",title:"AI Assistant",subtitle:"Smart insights and suggestions",type:"navigate",badge:n.jsx(w,{}),onClick:()=>console.log("Open AI settings")}),n.jsx(he,{icon:n.jsx(Wl,{className:"w-4 h-4"}),iconBgColor:"bg-purple-500",title:"Advanced Analytics",subtitle:"Detailed progress insights",type:"navigate",badge:n.jsx(w,{}),onClick:()=>console.log("Open analytics")}),n.jsx(he,{icon:n.jsx(Rm,{className:"w-4 h-4"}),iconBgColor:"bg-green-500",title:"Cloud Sync",subtitle:"Access anywhere",type:"navigate",badge:n.jsx(w,{}),onClick:()=>console.log("Open cloud sync")})]}),n.jsxs(mr,{title:"Support & About",icon:n.jsx(Bm,{className:"w-5 h-5"}),children:[n.jsx(he,{icon:n.jsx(Vm,{className:"w-4 h-4"}),iconBgColor:"bg-amber-500",title:"Help & Support",subtitle:"Get help with Kage",type:"navigate",onClick:()=>console.log("Open support")}),n.jsx(he,{icon:n.jsx(gd,{className:"w-4 h-4"}),iconBgColor:"bg-amber-500",title:"Rate Kage",subtitle:"Share your feedback",type:"navigate",onClick:()=>console.log("Open app store rating")}),n.jsx(he,{icon:n.jsx(Hm,{className:"w-4 h-4"}),iconBgColor:"bg-amber-500",title:"About Kage",subtitle:"Version, terms, and more",type:"navigate",onClick:()=>console.log("Open about page")})]}),n.jsxs(mr,{title:"Account",icon:n.jsx(Vu,{className:"w-5 h-5"}),children:[n.jsx(he,{icon:n.jsx(Um,{className:"w-4 h-4"}),iconBgColor:"bg-red-500",title:"Change Password",subtitle:"Update your password",type:"navigate",onClick:()=>console.log("Open change password")}),n.jsx(he,{icon:n.jsx(qm,{className:"w-4 h-4"}),iconBgColor:"bg-red-500",title:"Sign Out",subtitle:"Sign out of your account",type:"navigate",onClick:k})]}),n.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[n.jsxs("div",{className:"text-sm mb-1",children:["Kage v",e.version]}),n.jsx("div",{className:"text-xs opacity-70",children:"© 2025 Kage. Made with ❤️ for productivity."})]}),n.jsx(Vh,{isOpen:i,onClose:()=>c(!1)})]})}const Yh=()=>{const[e,t]=T.useState(null),[r,a]=T.useState(!1),[s,l]=T.useState(!1),[o,d]=T.useState(!1);T.useEffect(()=>{const f=/iPad|iPhone|iPod/.test(navigator.userAgent);l(f);const x=window.matchMedia("(display-mode: standalone)").matches,g=window.navigator.standalone||x;if(!g){const m=h=>{h.preventDefault(),t(h),d(!0),setTimeout(()=>{a(!0)},3e3)};return window.addEventListener("beforeinstallprompt",m),f&&!g&&setTimeout(()=>{a(!0)},5e3),()=>{window.removeEventListener("beforeinstallprompt",m)}}},[]);const i=async()=>{e&&(e.prompt(),(await e.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),t(null),a(!1))},c=()=>{a(!1),sessionStorage.setItem("pwa-install-dismissed","true")};return sessionStorage.getItem("pwa-install-dismissed")||!r?null:n.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 dark:bg-orange-900 rounded-lg flex items-center justify-center",children:n.jsx(Zm,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Install Kage App"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:s?"Add to Home Screen for the best experience":"Install for quick access and offline use"})]})]}),n.jsx("button",{onClick:c,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:n.jsx(gt,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})})]}),n.jsx("div",{className:"mt-3 flex space-x-2",children:s?n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:["Tap ",n.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1 rounded",children:"Share"})," then",n.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 px-1 rounded ml-1",children:"Add to Home Screen"})]}),n.jsx("button",{onClick:c,className:"w-full px-3 py-2 bg-orange-600 hover:bg-orange-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Got it"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:c,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 text-sm font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Later"}),n.jsxs("button",{onClick:i,disabled:!o,className:"flex-1 px-3 py-2 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition-colors flex items-center justify-center space-x-1",children:[n.jsx(Gu,{className:"w-4 h-4"}),n.jsx("span",{children:"Install"})]})]})})]})})};class Kh{constructor(){Wr(this,"APP_VERSION","1.0.0");Wr(this,"STORAGE_KEY","kage-app-data");Wr(this,"SYNC_QUEUE_KEY","kage-sync-queue");Wr(this,"LAST_SYNC_KEY","kage-last-sync")}getAllData(){try{const t=localStorage.getItem(this.STORAGE_KEY);return t?JSON.parse(t):null}catch(t){return console.error("Error reading offline data:",t),null}}saveAllData(t){try{const a={...this.getAllData()||{},...t,lastSync:Date.now(),version:this.APP_VERSION};return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a)),!0}catch(r){return console.error("Error saving offline data:",r),!1}}getStoreData(t){const r=this.getAllData();return r?r[t]:null}saveStoreData(t,r){const a=this.getAllData()||{};return a[t]=r,this.saveAllData(a)}isDataStale(){const t=this.getAllData();if(!t||!t.lastSync)return!0;const r=24*60*60*1e3;return Date.now()-t.lastSync>r}getStorageInfo(){try{const t=JSON.stringify(this.getAllData()),r=new Blob([t]).size,a=5*1024*1024,s=a-r,l=r/a*100;return{used:r,available:s,percentage:l,quota:a}}catch(t){return console.error("Error calculating storage info:",t),{used:0,available:0,percentage:0,quota:0}}}cleanupOldData(){try{const t=this.getAllData();if(!t)return!0;if(t.journal&&t.journal.length>100&&(t.journal=t.journal.sort((r,a)=>new Date(a.date).getTime()-new Date(r.date).getTime()).slice(0,100)),t.calendar){const r=Date.now()-2592e6;t.calendar=t.calendar.filter(a=>new Date(a.date).getTime()>r)}if(t.tasks){const r=Date.now()-6048e5;t.tasks=t.tasks.filter(a=>!a.completed||new Date(a.completedAt||a.createdAt).getTime()>r)}return this.saveAllData(t)}catch(t){return console.error("Error cleaning up old data:",t),!1}}addToSyncQueue(t){try{const r=this.getSyncQueue();r.push(t),localStorage.setItem(this.SYNC_QUEUE_KEY,JSON.stringify(r))}catch(r){console.error("Error adding to sync queue:",r)}}getSyncQueue(){try{const t=localStorage.getItem(this.SYNC_QUEUE_KEY);return t?JSON.parse(t):[]}catch(t){return console.error("Error reading sync queue:",t),[]}}clearSyncQueue(){try{localStorage.removeItem(this.SYNC_QUEUE_KEY)}catch(t){console.error("Error clearing sync queue:",t)}}async processSyncQueue(){const t=this.getSyncQueue(),r=[],a=[];for(const l of t)try{await new Promise(o=>setTimeout(o,100)),console.log(`Syncing ${l.type} ${l.store}:${l.id}`),r.push(`${l.store}:${l.id}`)}catch(o){console.error(`Failed to sync ${l.store}:${l.id}`,o),a.push(`${l.store}:${l.id}`)}const s=Date.now();return localStorage.setItem(this.LAST_SYNC_KEY,s.toString()),a.length===0&&this.clearSyncQueue(),{success:a.length===0,synced:r,failed:a,lastSync:s}}getLastSyncTime(){try{const t=localStorage.getItem(this.LAST_SYNC_KEY);return t?parseInt(t):0}catch(t){return console.error("Error reading last sync time:",t),0}}exportData(){const t=this.getAllData();return JSON.stringify(t,null,2)}importData(t){try{const r=JSON.parse(t);if(!r||typeof r!="object")throw new Error("Invalid data format");const a=this.getAllData();return localStorage.setItem("kage-backup-"+Date.now(),JSON.stringify(a)),this.saveAllData(r)}catch(r){return console.error("Error importing data:",r),!1}}isOffline(){return!navigator.onLine}getOfflineStatus(){return{isOffline:this.isOffline(),hasQueuedChanges:this.getSyncQueue().length>0,queueLength:this.getSyncQueue().length,lastSync:this.getLastSyncTime()}}}const fr=new Kh,Jh=()=>{const[e,t]=T.useState(!navigator.onLine),[r,a]=T.useState("idle"),[s,l]=T.useState(0),[o,d]=T.useState(!1);if(T.useEffect(()=>{const g=()=>{t(!1),h()},m=()=>{t(!0),a("idle")},h=async()=>{const y=fr.getSyncQueue();if(y.length>0){a("syncing");try{const u=await fr.processSyncQueue();a(u.success?"success":"error"),l(y.length-u.synced.length)}catch{a("error")}setTimeout(()=>a("idle"),3e3)}},k=()=>{l(fr.getSyncQueue().length)};window.addEventListener("online",g),window.addEventListener("offline",m);const w=setInterval(k,5e3);return k(),()=>{window.removeEventListener("online",g),window.removeEventListener("offline",m),clearInterval(w)}},[]),!e&&r==="idle"&&s===0)return null;const i=()=>{if(e)return n.jsx(tf,{className:"w-4 h-4 text-red-500"});switch(r){case"syncing":return n.jsx(Gs,{className:"w-4 h-4 text-blue-500 animate-spin"});case"success":return n.jsx(Hu,{className:"w-4 h-4 text-green-500"});case"error":return n.jsx(nf,{className:"w-4 h-4 text-red-500"});default:return s>0?n.jsx(Gs,{className:"w-4 h-4 text-orange-500"}):n.jsx(rf,{className:"w-4 h-4 text-green-500"})}},c=()=>{if(e)return s>0?`Offline (${s} pending)`:"Offline";switch(r){case"syncing":return"Syncing...";case"success":return"Synced";case"error":return"Sync failed";default:return s>0?`${s} pending`:"Online"}},f=()=>{if(e)return"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200";switch(r){case"syncing":return"bg-blue-100 border-blue-200 text-blue-800 dark:bg-blue-900 dark:border-blue-700 dark:text-blue-200";case"success":return"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200";case"error":return"bg-red-100 border-red-200 text-red-800 dark:bg-red-900 dark:border-red-700 dark:text-red-200";default:return s>0?"bg-orange-100 border-orange-200 text-orange-800 dark:bg-orange-900 dark:border-orange-700 dark:text-orange-200":"bg-green-100 border-green-200 text-green-800 dark:bg-green-900 dark:border-green-700 dark:text-green-200"}},x=async()=>{if(!e&&s>0){a("syncing");try{const g=await fr.processSyncQueue();a(g.success?"success":"error"),l(g.failed.length)}catch{a("error")}setTimeout(()=>a("idle"),3e3)}};return n.jsxs("div",{className:"fixed top-4 right-4 z-50",children:[n.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg border text-sm font-medium transition-all duration-200 cursor-pointer ${f()}`,onClick:()=>d(!o),children:[i(),n.jsx("span",{children:c()})]}),o&&n.jsx("div",{className:"absolute top-full right-0 mt-2 w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg p-4 text-sm",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status:"}),n.jsx("span",{className:e?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400",children:e?"Offline":"Online"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pending sync:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:s})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last sync:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:fr.getLastSyncTime()>0?new Date(fr.getLastSyncTime()).toLocaleTimeString():"Never"})]}),!e&&s>0&&n.jsxs("button",{onClick:x,disabled:r==="syncing",className:"w-full mt-3 px-3 py-2 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white text-sm font-medium rounded-lg transition-colors flex items-center justify-center space-x-1",children:[n.jsx(Gs,{className:`w-4 h-4 ${r==="syncing"?"animate-spin":""}`}),n.jsx("span",{children:r==="syncing"?"Syncing...":"Sync Now"})]})]})})]})};function Xh(){const[e,t]=T.useState("dashboard"),{settings:r,initializeSettings:a}=hs();T.useEffect(()=>{a()},[]),T.useEffect(()=>{r.appearance.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r.appearance.theme]);const s=[{id:"dashboard",label:"Dashboard",icon:Wl},{id:"goals",label:"Goals",icon:Ql},{id:"tasks",label:"Tasks",icon:Lm},{id:"habits",label:"Habits",icon:zm},{id:"journal",label:"Journal",icon:Pm},{id:"calendar",label:"Calendar",icon:Pn}],l=()=>{switch(e){case"dashboard":return n.jsx(kd,{onNavigate:t});case"goals":return n.jsx(Sh,{onNavigate:t});case"tasks":return n.jsx(Th,{onNavigate:t});case"habits":return n.jsx(Fh,{onNavigate:t});case"calendar":return n.jsx($h,{});case"journal":return n.jsx(zh,{});case"settings":return n.jsx(Qh,{});default:return n.jsx(kd,{onNavigate:t})}};return n.jsxs("div",{className:"w-full max-w-md mx-auto min-h-screen bg-gray-50 dark:bg-gray-900 shadow-xl overflow-hidden flex flex-col",children:[n.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Kage"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Goal-Centric Productivity"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{className:"w-9 h-9 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:n.jsx(ef,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),n.jsx("button",{onClick:()=>t("settings"),className:`w-9 h-9 rounded-lg flex items-center justify-center transition-colors ${e==="settings"?"accent-bg-100 dark:accent-bg-900 accent-text-600 dark:accent-text-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,style:e==="settings"?{backgroundColor:"var(--accent-color-light, #FB923C)",color:"var(--accent-color, #FF7101)"}:{},children:n.jsx(Jm,{className:"w-5 h-5"})})]})]})}),n.jsx("main",{className:"flex-1 overflow-y-auto px-2 py-3 pb-24 scroll-smooth scrollbar-hide",children:l()}),n.jsx("nav",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 w-full max-w-md bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 backdrop-blur-sm bg-white/95 dark:bg-gray-800/95",children:n.jsx("div",{className:"flex justify-around py-2",children:s.map(o=>{const d=o.icon;return n.jsxs("button",{onClick:()=>t(o.id),className:`flex flex-col items-center py-2 px-2 rounded-lg transition-colors ${e===o.id?"accent-text-500 accent-bg-50 dark:accent-bg-900 dark:accent-text-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,style:e===o.id?{backgroundColor:"var(--accent-color-light, #FB923C)",color:"var(--accent-color, #FF7101)"}:{},children:[n.jsx(d,{className:"w-4 h-4 mb-1"}),n.jsx("span",{className:"text-xs",children:o.label})]},o.id)})})}),n.jsx(Yh,{}),n.jsx(Jh,{})]})}"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(e=>{for(let t of e)console.log("Unregistering service worker:",t),t.unregister()}),"caches"in window&&caches.keys().then(e=>Promise.all(e.map(t=>(console.log("Deleting cache:",t),caches.delete(t))))).then(()=>{console.log("All caches cleared")}));Xs.createRoot(document.getElementById("root")).render(n.jsx($d.StrictMode,{children:n.jsx(Xh,{})}));
